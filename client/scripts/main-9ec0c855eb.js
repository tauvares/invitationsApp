if(!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){var r,i=(t=t||ae).createElement("script");if(i.text=e,n)for(r in Ee)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function r(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?de[pe.call(e)]||"object":typeof e}function i(e){var t=!!e&&"length"in e&&e.length,n=r(e);return!be(e)&&!ye(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return be(t)?$e.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?$e.grep(e,function(e){return e===t!==n}):"string"!=typeof t?$e.grep(e,function(e){return fe.call(t,e)>-1!==n}):$e.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return $e.each(e.match(De)||[],function(e,n){t[n]=!0}),t}function u(e){return e}function c(e){throw e}function f(e,t,n,r){var i;try{e&&be(i=e.promise)?i.call(e).done(t).fail(n):e&&be(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function d(){ae.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),$e.ready()}function p(e,t){return t.toUpperCase()}function h(e){return e.replace(Fe,"ms-").replace(Le,p)}function g(){this.expando=$e.expando+g.uid++}function m(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Ue.test(e)?JSON.parse(e):e)}function v(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ke,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=m(n)}catch(e){}je.set(e,t,n)}else n=void 0;return n}function b(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return $e.css(e,t,"")},l=s(),u=n&&n[3]||($e.cssNumber[t]?"":"px"),c=($e.cssNumber[t]||"px"!==u&&+l)&&qe.exec($e.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)$e.style(e,t,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c*=2,$e.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function y(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ge[r];return i||(t=n.body.appendChild(n.createElement(r)),i=$e.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ge[r]=i,i)}function E(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Be.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ze(r)&&(i[o]=y(r))):"none"!==n&&(i[o]="none",Be.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function $(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?$e.merge([e],n):n}function w(e,t){for(var n=0,r=e.length;n<r;n++)Be.set(e[n],"globalEval",!t||Be.get(t[n],"globalEval"))}function x(e,t,n,i,o){for(var a,s,l,u,c,f,d=t.createDocumentFragment(),p=[],h=0,g=e.length;h<g;h++)if((a=e[h])||0===a)if("object"===r(a))$e.merge(p,a.nodeType?[a]:a);else if(Ze.test(a)){for(s=s||d.appendChild(t.createElement("div")),l=(Xe.exec(a)||["",""])[1].toLowerCase(),u=Je[l]||Je._default,s.innerHTML=u[1]+$e.htmlPrefilter(a)+u[2],f=u[0];f--;)s=s.lastChild;$e.merge(p,s.childNodes),(s=d.firstChild).textContent=""}else p.push(t.createTextNode(a));for(d.textContent="",h=0;a=p[h++];)if(i&&$e.inArray(a,i)>-1)o&&o.push(a);else if(c=$e.contains(a.ownerDocument,a),s=$(d.appendChild(a),"script"),c&&w(s),n)for(f=0;a=s[f++];)Qe.test(a.type||"")&&n.push(a);return d}function C(){return!0}function S(){return!1}function _(){try{return ae.activeElement}catch(e){}}function T(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)T(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=S;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return $e().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=$e.guid++)),e.each(function(){$e.event.add(this,t,i,r,n)})}function A(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?$e(e).children("tbody")[0]||e:e}function O(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function k(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function N(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(Be.hasData(e)&&(o=Be.access(e),a=Be.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;n<r;n++)$e.event.add(t,i,u[i][n])}je.hasData(e)&&(s=je.access(e),l=$e.extend({},s),je.set(t,l))}}function D(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ye.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function R(e,t,r,i){t=ue.apply([],t);var o,a,s,l,u,c,f=0,d=e.length,p=d-1,h=t[0],g=be(h);if(g||d>1&&"string"==typeof h&&!ve.checkClone&&at.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),R(o,t,r,i)});if(d&&(o=x(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(l=(s=$e.map($(o,"script"),O)).length;f<d;f++)u=o,f!==p&&(u=$e.clone(u,!0,!0),l&&$e.merge(s,$(u,"script"))),r.call(e[f],u,f);if(l)for(c=s[s.length-1].ownerDocument,$e.map(s,k),f=0;f<l;f++)u=s[f],Qe.test(u.type||"")&&!Be.access(u,"globalEval")&&$e.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?$e._evalUrl&&$e._evalUrl(u.src):n(u.textContent.replace(st,""),c,u))}return e}function M(e,t,n){for(var r,i=t?$e.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||$e.cleanData($(r)),r.parentNode&&(n&&$e.contains(r.ownerDocument,r)&&w($(r,"script")),r.parentNode.removeChild(r));return e}function I(e,t,n){var r,i,o,a,s=e.style;return(n=n||ut(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||$e.contains(e.ownerDocument,e)||(a=$e.style(e,t)),!ve.pixelBoxStyles()&&lt.test(a)&&ct.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function F(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function L(e){if(e in mt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=gt.length;n--;)if((e=gt[n]+t)in mt)return e}function P(e){var t=$e.cssProps[e];return t||(t=$e.cssProps[e]=L(e)||e),t}function B(e,t,n){var r=qe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function j(e,t,n,r,i,o){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=$e.css(e,n+Ve[a],!0,i)),r?("content"===n&&(l-=$e.css(e,"padding"+Ve[a],!0,i)),"margin"!==n&&(l-=$e.css(e,"border"+Ve[a]+"Width",!0,i))):(l+=$e.css(e,"padding"+Ve[a],!0,i),"padding"!==n?l+=$e.css(e,"border"+Ve[a]+"Width",!0,i):s+=$e.css(e,"border"+Ve[a]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))),l}function U(e,t,n){var r=ut(e),i=I(e,t,r),o="border-box"===$e.css(e,"boxSizing",!1,r),a=o;if(lt.test(i)){if(!n)return i;i="auto"}return a=a&&(ve.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===$e.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+j(e,t,n||(o?"border":"content"),a,r,i)+"px"}function K(e,t,n,r,i){return new K.prototype.init(e,t,n,r,i)}function H(){bt&&(!1===ae.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(H):e.setTimeout(H,$e.fx.interval),$e.fx.tick())}function q(){return e.setTimeout(function(){vt=void 0}),vt=Date.now()}function V(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Ve[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function z(e,t,n){for(var r,i=(Y.tweeners[t]||[]).concat(Y.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function W(e,t,n){var r,i,o,a,s,l,u,c,f="width"in t||"height"in t,d=this,p={},h=e.style,g=e.nodeType&&ze(e),m=Be.get(e,"fxshow");n.queue||(null==(a=$e._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,$e.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],yt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}p[r]=m&&m[r]||$e.style(e,r)}if((l=!$e.isEmptyObject(t))||!$e.isEmptyObject(p)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=Be.get(e,"display")),"none"===(c=$e.css(e,"display"))&&(u?c=u:(E([e],!0),u=e.style.display||u,c=$e.css(e,"display"),E([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===$e.css(e,"float")&&(l||(d.done(function(){h.display=u}),null==u&&(c=h.display,u="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1;for(r in p)l||(m?"hidden"in m&&(g=m.hidden):m=Be.access(e,"fxshow",{display:u}),o&&(m.hidden=!g),g&&E([e],!0),d.done(function(){g||E([e]),Be.remove(e,"fxshow");for(r in p)$e.style(e,r,p[r])})),l=z(g?m[r]:0,r,d),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}}function G(e,t){var n,r,i,o,a;for(n in e)if(r=h(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=$e.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function Y(e,t,n){var r,i,o=0,a=Y.prefilters.length,s=$e.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=vt||q(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(r);return s.notifyWith(e,[u,r,n]),r<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:$e.extend({},t),opts:$e.extend(!0,{specialEasing:{},easing:$e.easing._default},n),originalProperties:t,originalOptions:n,startTime:vt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=$e.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(G(c,u.opts.specialEasing);o<a;o++)if(r=Y.prefilters[o].call(u,e,c,u.opts))return be(r.stop)&&($e._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return $e.map(c,z,u),be(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),$e.fx.timer($e.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}function X(e){return(e.match(De)||[]).join(" ")}function Q(e){return e.getAttribute&&e.getAttribute("class")||""}function J(e){return Array.isArray(e)?e:"string"==typeof e?e.match(De)||[]:[]}function Z(e,t,n,i){var o;if(Array.isArray(t))$e.each(t,function(t,r){n||Nt.test(e)?i(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==r(t))i(e,t);else for(o in t)Z(e+"["+o+"]",t[o],n,i)}function ee(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(De)||[];if(be(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function te(e,t,n,r){function i(s){var l;return o[s]=!0,$e.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===Ht;return i(t.dataTypes[0])||!o["*"]&&i("*")}function ne(e,t){var n,r,i=$e.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&$e.extend(!0,e,r),e}function re(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function ie(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var oe=[],ae=e.document,se=Object.getPrototypeOf,le=oe.slice,ue=oe.concat,ce=oe.push,fe=oe.indexOf,de={},pe=de.toString,he=de.hasOwnProperty,ge=he.toString,me=ge.call(Object),ve={},be=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},ye=function(e){return null!=e&&e===e.window},Ee={type:!0,src:!0,noModule:!0},$e=function(e,t){return new $e.fn.init(e,t)},we=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;$e.fn=$e.prototype={jquery:"3.3.1",constructor:$e,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=$e.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return $e.each(this,e)},map:function(e){return this.pushStack($e.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ce,sort:oe.sort,splice:oe.splice},$e.extend=$e.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||be(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(u&&r&&($e.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&$e.isPlainObject(n)?n:{},a[t]=$e.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},$e.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==pe.call(e)||(t=se(e))&&("function"!=typeof(n=he.call(t,"constructor")&&t.constructor)||ge.call(n)!==me))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(we,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?$e.merge(n,"string"==typeof e?[e]:e):ce.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:fe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return ue.apply([],s)},guid:1,support:ve}),"function"==typeof Symbol&&($e.fn[Symbol.iterator]=oe[Symbol.iterator]),$e.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()});var xe=function(e){function t(e,t,n,r){var i,o,a,s,l,u,c,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:U)!==R&&D(t),t=t||R,I)){if(11!==h&&(l=ve.exec(e)))if(i=l[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&B(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return J.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(i)),n}if(w.qsa&&!z[e+" "]&&(!F||!F.test(e))){if(1!==h)d=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace($e,we):t.setAttribute("id",s=j),o=(u=_(e)).length;o--;)u[o]="#"+s+" "+p(u[o]);c=u.join(","),d=be.test(e)&&f(t.parentNode)||t}if(c)try{return J.apply(n,d.querySelectorAll(c)),n}catch(e){}finally{s===j&&t.removeAttribute("id")}}}return A(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[j]=!0,e}function i(e){var t=R.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ce(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=H++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var u,c,f,d=[K,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[j]||(t[j]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[o])&&u[0]===K&&u[1]===s)return d[2]=u[2];if(c[o]=d,d[2]=e(t,n,l))return!0}return!1}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function b(e,t,n,i,o,a){return i&&!i[j]&&(i=b(i)),o&&!o[j]&&(o=b(o,a)),r(function(r,a,s,l){var u,c,f,d=[],p=[],h=a.length,g=r||m(t||"*",s.nodeType?[s]:s,[]),b=!e||!r&&t?g:v(g,d,e,s,l),y=n?o||(r?e:h||i)?[]:a:b;if(n&&n(b,y,s,l),i)for(u=v(y,p),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(y[p[c]]=!(b[p[c]]=f));if(r){if(o||e){if(o){for(u=[],c=y.length;c--;)(f=y[c])&&u.push(b[c]=f);o(null,y=[],u,l)}for(c=y.length;c--;)(f=y[c])&&(u=o?ee(r,f):d[c])>-1&&(r[u]=!(a[u]=f))}}else y=v(y===a?y.splice(h,y.length):y),o?o(null,a,y,l):J.apply(a,y)})}function y(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==O)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];s<i;s++)if(n=x.relative[e[s].type])c=[h(g(c),n)];else{if((n=x.filter[e[s].type].apply(null,e[s].matches))[j]){for(r=++s;r<i&&!x.relative[e[r].type];r++);return b(s>1&&g(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&y(e.slice(s,r)),r<i&&y(e=e.slice(r)),r<i&&p(e))}c.push(n)}return g(c)}function E(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,f,d,p=0,h="0",g=r&&[],m=[],b=O,y=r||o&&x.find.TAG("*",u),E=K+=null==b?1:Math.random()||.1,$=y.length;for(u&&(O=a===R||a||u);h!==$&&null!=(c=y[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument===R||(D(c),s=!I);d=e[f++];)if(d(c,a||R,s)){l.push(c);break}u&&(K=E)}i&&((c=!d&&c)&&p--,r&&g.push(c))}if(p+=h,i&&h!==p){for(f=0;d=n[f++];)d(g,m,a,s);if(r){if(p>0)for(;h--;)g[h]||m[h]||(m[h]=X.call(l));m=v(m)}J.apply(l,m),u&&!r&&m.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(K=E,O=b),g};return i?r(a):a}var $,w,x,C,S,_,T,A,O,k,N,D,R,M,I,F,L,P,B,j="sizzle"+1*new Date,U=e.document,K=0,H=0,q=n(),V=n(),z=n(),W=function(e,t){return e===t&&(N=!0),0},G={}.hasOwnProperty,Y=[],X=Y.pop,Q=Y.push,J=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),de=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},$e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){D()},Ce=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{J.apply(Y=Z.call(U.childNodes),U.childNodes),Y[U.childNodes.length].nodeType}catch(e){J={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:U;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,M=R.documentElement,I=!S(R),U!==R&&(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=me.test(R.getElementsByClassName),w.getById=i(function(e){return M.appendChild(e).id=j,!R.getElementsByName||!R.getElementsByName(j).length}),w.getById?(x.filter.ID=function(e){var t=e.replace(ye,Ee);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(ye,Ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&I)return t.getElementsByClassName(e)},L=[],F=[],(w.qsa=me.test(R.querySelectorAll))&&(i(function(e){M.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||F.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=me.test(P=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(e){w.disconnectedMatch=P.call(e,"*"),P.call(e,"[s!='']:x"),L.push("!=",oe)}),F=F.length&&new RegExp(F.join("|")),L=L.length&&new RegExp(L.join("|")),t=me.test(M.compareDocumentPosition),B=t||me.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===U&&B(U,e)?-1:t===R||t.ownerDocument===U&&B(U,t)?1:k?ee(k,e)-ee(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!i||!o)return e===R?-1:t===R?1:i?-1:o?1:k?ee(k,e)-ee(k,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===U?-1:l[r]===U?1:0},R):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&D(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&I&&!z[n+" "]&&(!L||!L.test(n))&&(!F||!F.test(n)))try{var r=P.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&D(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&D(e);var n=x.attrHandle[t.toLowerCase()],r=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==r?r:w.attributes||!I?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace($e,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(N=!w.detectDuplicates,k=!w.sortStable&&e.slice(0),e.sort(W),N){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return k=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},(x=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,p,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&b){for(y=(p=(u=(c=(f=(d=m)[j]||(d[j]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===K&&u[1])&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(y=p=0)||h.pop();)if(1===d.nodeType&&++y&&d===t){c[e]=[K,p,y];break}}else if(b&&(y=p=(u=(c=(f=(d=t)[j]||(d[j]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===K&&u[1]),!1===y)for(;(d=++p&&d&&d[g]||(y=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(b&&((c=(f=d[j]||(d[j]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[K,y]),d!==t)););return(y-=i)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[j]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=ee(e,i[a])]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=T(e.replace(se,"$1"));return i[j]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,Ee),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,Ee).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex);
},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=x.pseudos.eq;for($ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[$]=s($);for($ in{submit:!0,reset:!0})x.pseudos[$]=l($);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,_=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=V[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){r&&!(i=le.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in x.filter)!(i=pe[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):V(e,l).slice(0)},T=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=_(e)),n=t.length;n--;)(o=y(t[n]))[j]?r.push(o):i.push(o);(o=z(e,E(i,r))).selector=e}return o},A=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,c=!r&&_(e=u.selector||e);if(n=n||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&I&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ye,Ee),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(r=l(a.matches[0].replace(ye,Ee),be.test(o[0].type)&&f(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&p(o)))return J.apply(n,r),n;break}}return(u||T(e,c))(r,t,!I,n,!t||be.test(e)&&f(t.parentNode)||t),n},w.sortStable=j.split("").sort(W).join("")===j,w.detectDuplicates=!!N,D(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(R.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);$e.find=xe,$e.expr=xe.selectors,$e.expr[":"]=$e.expr.pseudos,$e.uniqueSort=$e.unique=xe.uniqueSort,$e.text=xe.getText,$e.isXMLDoc=xe.isXML,$e.contains=xe.contains,$e.escapeSelector=xe.escape;var Ce=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&$e(e).is(n))break;r.push(e)}return r},Se=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},_e=$e.expr.match.needsContext,Te=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;$e.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?$e.find.matchesSelector(r,e)?[r]:[]:$e.find.matches(e,$e.grep(t,function(e){return 1===e.nodeType}))},$e.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack($e(e).filter(function(){for(t=0;t<r;t++)if($e.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)$e.find(e,i[t],n);return r>1?$e.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&_e.test(e)?$e(e):e||[],!1).length}});var Ae,Oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;($e.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ae,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Oe.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof $e?t[0]:t,$e.merge(this,$e.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),Te.test(r[1])&&$e.isPlainObject(t))for(r in t)be(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=ae.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):be(e)?void 0!==n.ready?n.ready(e):e($e):$e.makeArray(e,this)}).prototype=$e.fn,Ae=$e(ae);var ke=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};$e.fn.extend({has:function(e){var t=$e(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if($e.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&$e(e);if(!_e.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&$e.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?$e.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?fe.call($e(e),this[0]):fe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack($e.uniqueSort($e.merge(this.get(),$e(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),$e.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ce(e,"parentNode")},parentsUntil:function(e,t,n){return Ce(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Ce(e,"nextSibling")},prevAll:function(e){return Ce(e,"previousSibling")},nextUntil:function(e,t,n){return Ce(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ce(e,"previousSibling",n)},siblings:function(e){return Se((e.parentNode||{}).firstChild,e)},children:function(e){return Se(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),$e.merge([],e.childNodes))}},function(e,t){$e.fn[e]=function(n,r){var i=$e.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=$e.filter(r,i)),this.length>1&&(Ne[e]||$e.uniqueSort(i),ke.test(e)&&i.reverse()),this.pushStack(i)}});var De=/[^\x20\t\r\n\f]+/g;$e.Callbacks=function(e){e="string"==typeof e?l(e):$e.extend({},e);var t,n,i,o,a=[],s=[],u=-1,c=function(){for(o=o||e.once,i=t=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)!1===a[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},f={add:function(){return a&&(n&&!t&&(u=a.length-1,s.push(n)),function i(t){$e.each(t,function(t,n){be(n)?e.unique&&f.has(n)||a.push(n):n&&n.length&&"string"!==r(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return $e.each(arguments,function(e,t){for(var n;(n=$e.inArray(t,a,n))>-1;)a.splice(n,1),n<=u&&u--}),this},has:function(e){return e?$e.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},$e.extend({Deferred:function(t){var n=[["notify","progress",$e.Callbacks("memory"),$e.Callbacks("memory"),2],["resolve","done",$e.Callbacks("once memory"),$e.Callbacks("once memory"),0,"resolved"],["reject","fail",$e.Callbacks("once memory"),$e.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return $e.Deferred(function(t){$e.each(n,function(n,r){var i=be(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&be(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,l=arguments,f=function(){var e,f;if(!(t<a)){if((e=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,be(f)?i?f.call(e,o(a,n,u,i),o(a,n,c,i)):(a++,f.call(e,o(a,n,u,i),o(a,n,c,i),o(a,n,u,n.notifyWith))):(r!==u&&(s=void 0,l=[e]),(i||n.resolveWith)(s,l))}},d=i?f:function(){try{f()}catch(e){$e.Deferred.exceptionHook&&$e.Deferred.exceptionHook(e,d.stackTrace),t+1>=a&&(r!==c&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?d():($e.Deferred.getStackHook&&(d.stackTrace=$e.Deferred.getStackHook()),e.setTimeout(d))}}var a=0;return $e.Deferred(function(e){n[0][3].add(o(0,e,be(i)?i:u,e.notifyWith)),n[1][3].add(o(0,e,be(t)?t:u)),n[2][3].add(o(0,e,be(r)?r:c))}).promise()},promise:function(e){return null!=e?$e.extend(e,i):i}},o={};return $e.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=le.call(arguments),o=$e.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?le.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(f(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||be(i[n]&&i[n].then)))return o.then();for(;n--;)f(i[n],a(n),o.reject);return o.promise()}});var Re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;$e.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Re.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},$e.readyException=function(t){e.setTimeout(function(){throw t})};var Me=$e.Deferred();$e.fn.ready=function(e){return Me.then(e)["catch"](function(e){$e.readyException(e)}),this},$e.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--$e.readyWait:$e.isReady)||($e.isReady=!0,!0!==e&&--$e.readyWait>0||Me.resolveWith(ae,[$e]))}}),$e.ready.then=Me.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?e.setTimeout($e.ready):(ae.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var Ie=function(e,t,n,i,o,a,s){var l=0,u=e.length,c=null==n;if("object"===r(n)){o=!0;for(l in n)Ie(e,t,l,n[l],!0,a,s)}else if(void 0!==i&&(o=!0,be(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call($e(e),n)})),t))for(;l<u;l++)t(e[l],n,s?i:i.call(e[l],l,t(e[l],n)));return o?e:c?t.call(e):u?t(e[0],n):a},Fe=/^-ms-/,Le=/-([a-z])/g,Pe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Pe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[h(t)]=n;else for(r in t)i[h(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(h):(t=h(t))in r?[t]:t.match(De)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||$e.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!$e.isEmptyObject(t)}};var Be=new g,je=new g,Ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ke=/[A-Z]/g;$e.extend({hasData:function(e){return je.hasData(e)||Be.hasData(e)},data:function(e,t,n){return je.access(e,t,n)},removeData:function(e,t){je.remove(e,t)},_data:function(e,t,n){return Be.access(e,t,n)},_removeData:function(e,t){Be.remove(e,t)}}),$e.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=je.get(o),1===o.nodeType&&!Be.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=h(r.slice(5)),v(o,r,i[r]));Be.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){je.set(this,e)}):Ie(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=je.get(o,e)))return n;if(void 0!==(n=v(o,e)))return n}else this.each(function(){je.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){je.remove(this,e)})}}),$e.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Be.get(e,t),n&&(!r||Array.isArray(n)?r=Be.access(e,t,$e.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=$e.queue(e,t),r=n.length,i=n.shift(),o=$e._queueHooks(e,t),a=function(){$e.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Be.get(e,n)||Be.access(e,n,{empty:$e.Callbacks("once memory").add(function(){Be.remove(e,[t+"queue",n])})})}}),$e.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?$e.queue(this[0],e):void 0===t?this:this.each(function(){var n=$e.queue(this,e,t);$e._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&$e.dequeue(this,e)})},dequeue:function(e){return this.each(function(){$e.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=$e.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Be.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qe=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),Ve=["Top","Right","Bottom","Left"],ze=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&$e.contains(e.ownerDocument,e)&&"none"===$e.css(e,"display")},We=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Ge={};$e.fn.extend({show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ze(this)?$e(this).show():$e(this).hide()})}});var Ye=/^(?:checkbox|radio)$/i,Xe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Qe=/^$|^module$|\/(?:java|ecma)script/i,Je={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td;var Ze=/<|&#?\w+;/;!function(){var e=ae.createDocumentFragment().appendChild(ae.createElement("div")),t=ae.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),ve.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ve.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var et=ae.documentElement,tt=/^key/,nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rt=/^([^.]*)(?:\.(.+)|)/;$e.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,g,m=Be.get(e);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&$e.find.matchesSelector(et,i),n.guid||(n.guid=$e.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return"undefined"!=typeof $e&&$e.event.triggered!==t.type?$e.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(De)||[""]).length;u--;)p=g=(s=rt.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p&&(f=$e.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=$e.event.special[p]||{},c=$e.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&$e.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),$e.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,g,m=Be.hasData(e)&&Be.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(De)||[""]).length;u--;)if(s=rt.exec(t[u])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(f=$e.event.special[p]||{},d=l[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||$e.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)$e.event.remove(e,p+t[u],n,r,!0);$e.isEmptyObject(l)&&Be.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=$e.event.fix(e),l=new Array(arguments.length),u=(Be.get(this,"events")||{})[s.type]||[],c=$e.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=$e.event.handlers.call(this,s,u),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=(($e.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?$e(i,this).index(u)>-1:$e.find(i,this,null,[u]).length),a[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty($e.Event.prototype,e,{enumerable:!0,configurable:!0,get:be(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[$e.expando]?e:new $e.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},$e.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},$e.Event=function(e,t){return this instanceof $e.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?C:S,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&$e.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[$e.expando]=!0,void 0):new $e.Event(e,t)},$e.Event.prototype={constructor:$e.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=C,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=C,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=C,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},$e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&tt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&nt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},$e.event.addProp),$e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){$e.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||$e.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),$e.fn.extend({on:function(e,t,n,r){return T(this,e,t,n,r)},one:function(e,t,n,r){return T(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,$e(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=S),this.each(function(){$e.event.remove(this,e,n,t)})}});var it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ot=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;$e.extend({htmlPrefilter:function(e){return e.replace(it,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=$e.contains(e.ownerDocument,e);if(!(ve.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||$e.isXMLDoc(e)))for(a=$(s),r=0,i=(o=$(e)).length;r<i;r++)D(o[r],a[r]);if(t)if(n)for(o=o||$(e),a=a||$(s),r=0,i=o.length;r<i;r++)N(o[r],a[r]);else N(e,s);return(a=$(s,"script")).length>0&&w(a,!l&&$(e,"script")),s},cleanData:function(e){for(var t,n,r,i=$e.event.special,o=0;void 0!==(n=e[o]);o++)if(Pe(n)){if(t=n[Be.expando]){if(t.events)for(r in t.events)i[r]?$e.event.remove(n,r):$e.removeEvent(n,r,t.handle);n[Be.expando]=void 0}n[je.expando]&&(n[je.expando]=void 0)}}}),$e.fn.extend({detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?$e.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return R(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||A(this,e).appendChild(e)})},prepend:function(){return R(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return R(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return R(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&($e.cleanData($(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return $e.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ot.test(e)&&!Je[(Xe.exec(e)||["",""])[1].toLowerCase()]){e=$e.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&($e.cleanData($(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return R(this,arguments,function(t){var n=this.parentNode;$e.inArray(this,e)<0&&($e.cleanData($(this)),n&&n.replaceChild(t,this))},e)}}),$e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){$e.fn[e]=function(e){for(var n,r=[],i=$e(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),$e(i[a])[t](n),ce.apply(r,n.get());return this.pushStack(r)}});var lt=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),ut=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ct=new RegExp(Ve.join("|"),"i");!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",et.appendChild(l).appendChild(u);var t=e.getComputedStyle(u);r="1%"!==t.top,s=12===n(t.marginLeft),u.style.right="60%",a=36===n(t.right),i=36===n(t.width),u.style.position="absolute",o=36===u.offsetWidth||"absolute",et.removeChild(l),u=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,l=ae.createElement("div"),u=ae.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ve.clearCloneStyle="content-box"===u.style.backgroundClip,$e.extend(ve,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var ft=/^(none|table(?!-c[ea]).+)/,dt=/^--/,pt={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"},gt=["Webkit","Moz","ms"],mt=ae.createElement("div").style;$e.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=I(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=h(t),l=dt.test(t),u=e.style;if(l||(t=P(s)),a=$e.cssHooks[t]||$e.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];"string"==(o=typeof n)&&(i=qe.exec(n))&&i[1]&&(n=b(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||($e.cssNumber[s]?"":"px")),ve.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=h(t);return dt.test(t)||(t=P(s)),(a=$e.cssHooks[t]||$e.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=I(e,t,r)),"normal"===i&&t in ht&&(i=ht[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),$e.each(["height","width"],function(e,t){$e.cssHooks[t]={get:function(e,n,r){if(n)return!ft.test($e.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?U(e,t,r):We(e,pt,function(){return U(e,t,r)})},set:function(e,n,r){var i,o=ut(e),a="border-box"===$e.css(e,"boxSizing",!1,o),s=r&&j(e,t,r,a,o);return a&&ve.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-j(e,t,"border",!1,o)-.5)),s&&(i=qe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=$e.css(e,t)),B(e,n,s)}}}),$e.cssHooks.marginLeft=F(ve.reliableMarginLeft,function(e,t){if(t)return(parseFloat(I(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),$e.each({margin:"",padding:"",border:"Width"},function(e,t){$e.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ve[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&($e.cssHooks[e+t].set=B)}),$e.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=ut(e),i=t.length;a<i;a++)o[t[a]]=$e.css(e,t[a],!1,r);return o}return void 0!==n?$e.style(e,t,n):$e.css(e,t)},e,t,arguments.length>1)}}),$e.Tween=K,K.prototype={constructor:K,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||$e.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||($e.cssNumber[n]?"":"px")},cur:function(){var e=K.propHooks[this.prop];return e&&e.get?e.get(this):K.propHooks._default.get(this)},run:function(e){var t,n=K.propHooks[this.prop];return this.options.duration?this.pos=t=$e.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=$e.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){$e.fx.step[e.prop]?$e.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[$e.cssProps[e.prop]]&&!$e.cssHooks[e.prop]?e.elem[e.prop]=e.now:$e.style(e.elem,e.prop,e.now+e.unit)}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},$e.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},$e.fx=K.prototype.init,$e.fx.step={};var vt,bt,yt=/^(?:toggle|show|hide)$/,Et=/queueHooks$/;$e.Animation=$e.extend(Y,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return b(n.elem,e,qe.exec(t),n),n}]},tweener:function(e,t){be(e)?(t=e,e=["*"]):e=e.match(De);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(t)},prefilters:[W],prefilter:function(e,t){t?Y.prefilters.unshift(e):Y.prefilters.push(e)}}),$e.speed=function(e,t,n){var r=e&&"object"==typeof e?$e.extend({},e):{complete:n||!n&&t||be(e)&&e,duration:e,easing:n&&t||t&&!be(t)&&t};return $e.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in $e.fx.speeds?r.duration=$e.fx.speeds[r.duration]:r.duration=$e.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){be(r.old)&&r.old.call(this),r.queue&&$e.dequeue(this,r.queue)},r},$e.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ze).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=$e.isEmptyObject(e),o=$e.speed(t,n,r),a=function(){var t=Y(this,$e.extend({},e),o);(i||Be.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=$e.timers,a=Be.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||$e.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),
this.each(function(){var t,n=Be.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=$e.timers,a=r?r.length:0;for(n.finish=!0,$e.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),$e.each(["toggle","show","hide"],function(e,t){var n=$e.fn[t];$e.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(V(t,!0),e,r,i)}}),$e.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){$e.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),$e.timers=[],$e.fx.tick=function(){var e,t=0,n=$e.timers;for(vt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||$e.fx.stop(),vt=void 0},$e.fx.timer=function(e){$e.timers.push(e),$e.fx.start()},$e.fx.interval=13,$e.fx.start=function(){bt||(bt=!0,H())},$e.fx.stop=function(){bt=null},$e.fx.speeds={slow:600,fast:200,_default:400},$e.fn.delay=function(t,n){return t=$e.fx?$e.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=ae.createElement("input"),t=ae.createElement("select").appendChild(ae.createElement("option"));e.type="checkbox",ve.checkOn=""!==e.value,ve.optSelected=t.selected,(e=ae.createElement("input")).value="t",e.type="radio",ve.radioValue="t"===e.value}();var $t,wt=$e.expr.attrHandle;$e.fn.extend({attr:function(e,t){return Ie(this,$e.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){$e.removeAttr(this,e)})}}),$e.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?$e.prop(e,t,n):(1===o&&$e.isXMLDoc(e)||(i=$e.attrHooks[t.toLowerCase()]||($e.expr.match.bool.test(t)?$t:void 0)),void 0!==n?null===n?void $e.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=$e.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!ve.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(De);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),$t={set:function(e,t,n){return!1===t?$e.removeAttr(e,n):e.setAttribute(n,n),n}},$e.each($e.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||$e.find.attr;wt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=wt[a],wt[a]=i,i=null!=n(e,t,r)?a:null,wt[a]=o),i}});var xt=/^(?:input|select|textarea|button)$/i,Ct=/^(?:a|area)$/i;$e.fn.extend({prop:function(e,t){return Ie(this,$e.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[$e.propFix[e]||e]})}}),$e.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&$e.isXMLDoc(e)||(t=$e.propFix[t]||t,i=$e.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=$e.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ve.optSelected||($e.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),$e.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){$e.propFix[this.toLowerCase()]=this}),$e.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(be(e))return this.each(function(t){$e(this).addClass(e.call(this,t,Q(this)))});if((t=J(e)).length)for(;n=this[l++];)if(i=Q(n),r=1===n.nodeType&&" "+X(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=X(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(be(e))return this.each(function(t){$e(this).removeClass(e.call(this,t,Q(this)))});if(!arguments.length)return this.attr("class","");if((t=J(e)).length)for(;n=this[l++];)if(i=Q(n),r=1===n.nodeType&&" "+X(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=X(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):be(e)?this.each(function(n){$e(this).toggleClass(e.call(this,n,Q(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=$e(this),a=J(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=Q(this))&&Be.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Be.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(Q(n))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;$e.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=be(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,$e(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=$e.map(i,function(e){return null==e?"":e+""})),(t=$e.valHooks[this.type]||$e.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=$e.valHooks[i.type]||$e.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(St,""):null==n?"":n:void 0}}),$e.extend({valHooks:{option:{get:function(e){var t=$e.find.attr(e,"value");return null!=t?t:X($e.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,s="select-one"===e.type,l=s?null:[],u=s?a+1:i.length;for(r=a<0?u:s?a:0;r<u;r++)if(((n=i[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(t=$e(n).val(),s)return t;l.push(t)}return l},set:function(e,t){for(var n,r,i=e.options,o=$e.makeArray(t),a=i.length;a--;)((r=i[a]).selected=$e.inArray($e.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),$e.each(["radio","checkbox"],function(){$e.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=$e.inArray($e(e).val(),t)>-1}},ve.checkOn||($e.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ve.focusin="onfocusin"in e;var _t=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};$e.extend($e.event,{trigger:function(t,n,r,i){var o,a,s,l,u,c,f,d,p=[r||ae],h=he.call(t,"type")?t.type:t,g=he.call(t,"namespace")?t.namespace.split("."):[];if(a=d=s=r=r||ae,3!==r.nodeType&&8!==r.nodeType&&!_t.test(h+$e.event.triggered)&&(h.indexOf(".")>-1&&(h=(g=h.split(".")).shift(),g.sort()),u=h.indexOf(":")<0&&"on"+h,t=t[$e.expando]?t:new $e.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:$e.makeArray(n,[t]),f=$e.event.special[h]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!ye(r)){for(l=f.delegateType||h,_t.test(l+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||ae)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)d=a,t.type=o>1?l:f.bindType||h,(c=(Be.get(a,"events")||{})[t.type]&&Be.get(a,"handle"))&&c.apply(a,n),(c=u&&a[u])&&c.apply&&Pe(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),n)||!Pe(r)||u&&be(r[h])&&!ye(r)&&((s=r[u])&&(r[u]=null),$e.event.triggered=h,t.isPropagationStopped()&&d.addEventListener(h,Tt),r[h](),t.isPropagationStopped()&&d.removeEventListener(h,Tt),$e.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=$e.extend(new $e.Event,n,{type:e,isSimulated:!0});$e.event.trigger(r,null,t)}}),$e.fn.extend({trigger:function(e,t){return this.each(function(){$e.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return $e.event.trigger(e,t,n,!0)}}),ve.focusin||$e.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){$e.event.simulate(t,e.target,$e.event.fix(e))};$e.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Be.access(r,t);i||r.addEventListener(e,n,!0),Be.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Be.access(r,t)-1;i?Be.access(r,t,i):(r.removeEventListener(e,n,!0),Be.remove(r,t))}}});var At=e.location,Ot=Date.now(),kt=/\?/;$e.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(n){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||$e.error("Invalid XML: "+e),t};var Nt=/\[\]$/,Dt=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;$e.param=function(e,t){var n,r=[],i=function(e,t){var n=be(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!$e.isPlainObject(e))$e.each(e,function(){i(this.name,this.value)});else for(n in e)Z(n,e[n],t,i);return r.join("&")},$e.fn.extend({serialize:function(){return $e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=$e.prop(this,"elements");return e?$e.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!$e(this).is(":disabled")&&Mt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!Ye.test(e))}).map(function(e,t){var n=$e(this).val();return null==n?null:Array.isArray(n)?$e.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var It=/%20/g,Ft=/#.*$/,Lt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,Ut=/^\/\//,Kt={},Ht={},qt="*/".concat("*"),Vt=ae.createElement("a");Vt.href=At.href,$e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:Bt.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":$e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,$e.ajaxSettings),t):ne($e.ajaxSettings,e)},ajaxPrefilter:ee(Kt),ajaxTransport:ee(Ht),ajax:function(e,t){function n(e,t,n,a){var l,f,d,y,E,$=t;u||(u=!0,s&&x.clearTimeout(s),r=void 0,o=a||"",w.readyState=e>0?4:0,l=e>=200&&e<300||304===e,n&&(y=re(p,w,n)),y=ie(p,y,w,l),l?(p.ifModified&&((E=w.getResponseHeader("Last-Modified"))&&($e.lastModified[i]=E),(E=w.getResponseHeader("etag"))&&($e.etag[i]=E)),204===e||"HEAD"===p.type?$="nocontent":304===e?$="notmodified":($=y.state,f=y.data,l=!(d=y.error))):(d=$,!e&&$||($="error",e<0&&(e=0))),w.status=e,w.statusText=(t||$)+"",l?m.resolveWith(h,[f,$,w]):m.rejectWith(h,[w,$,d]),w.statusCode(b),b=void 0,c&&g.trigger(l?"ajaxSuccess":"ajaxError",[w,p,l?f:d]),v.fireWith(h,[w,$]),c&&(g.trigger("ajaxComplete",[w,p]),--$e.active||$e.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,f,d,p=$e.ajaxSetup({},t),h=p.context||p,g=p.context&&(h.nodeType||h.jquery)?$e(h):$e.event,m=$e.Deferred(),v=$e.Callbacks("once memory"),b=p.statusCode||{},y={},E={},$="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Pt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)w.always(e[w.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||$;return r&&r.abort(t),n(0,t),this}};if(m.promise(w),p.url=((e||p.url||At.href)+"").replace(Ut,At.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(De)||[""],null==p.crossDomain){l=ae.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Vt.protocol+"//"+Vt.host!=l.protocol+"//"+l.host}catch(x){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=$e.param(p.data,p.traditional)),te(Kt,p,t,w),u)return w;(c=$e.event&&p.global)&&0==$e.active++&&$e.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!jt.test(p.type),i=p.url.replace(Ft,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(It,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(kt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Lt,"$1"),d=(kt.test(i)?"&":"?")+"_="+Ot++ +d),p.url=i+d),p.ifModified&&($e.lastModified[i]&&w.setRequestHeader("If-Modified-Since",$e.lastModified[i]),$e.etag[i]&&w.setRequestHeader("If-None-Match",$e.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+qt+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)w.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(h,w,p)||u))return w.abort();if($="abort",v.add(p.complete),w.done(p.success),w.fail(p.error),r=te(Ht,p,t,w)){if(w.readyState=1,c&&g.trigger("ajaxSend",[w,p]),u)return w;p.async&&p.timeout>0&&(s=x.setTimeout(function(){w.abort("timeout")},p.timeout));try{u=!1,r.send(y,n)}catch(x){if(u)throw x;n(-1,x)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return $e.get(e,t,n,"json")},getScript:function(e,t){return $e.get(e,void 0,t,"script")}}),$e.each(["get","post"],function(e,t){$e[t]=function(e,n,r,i){return be(n)&&(i=i||r,r=n,n=void 0),$e.ajax($e.extend({url:e,type:t,dataType:i,data:n,success:r},$e.isPlainObject(e)&&e))}}),$e._evalUrl=function(e){return $e.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},$e.fn.extend({wrapAll:function(e){var t;return this[0]&&(be(e)&&(e=e.call(this[0])),t=$e(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return be(e)?this.each(function(t){$e(this).wrapInner(e.call(this,t))}):this.each(function(){var t=$e(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=be(e);return this.each(function(n){$e(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){$e(this).replaceWith(this.childNodes)}),this}}),$e.expr.pseudos.hidden=function(e){return!$e.expr.pseudos.visible(e)},$e.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},$e.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Wt=$e.ajaxSettings.xhr();ve.cors=!!Wt&&"withCredentials"in Wt,ve.ajax=Wt=!!Wt,$e.ajaxTransport(function(e){var t,n;if(ve.cors||Wt&&!e.crossDomain)return{send:function(r,i){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&s.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}}),$e.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),$e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return $e.globalEval(e),e}}}),$e.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),$e.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=$e("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),ae.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;$e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||$e.expando+"_"+Ot++;return this[e]=!0,e}}),$e.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Yt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=be(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Yt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||$e.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?$e(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Gt.push(i)),a&&be(o)&&o(a[0]),a=o=void 0}),"script"}),ve.createHTMLDocument=function(){var e=ae.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),$e.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(ve.createHTMLDocument?((r=(t=ae.implementation.createHTMLDocument("")).createElement("base")).href=ae.location.href,t.head.appendChild(r)):t=ae),i=Te.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=x([e],t,o),o&&o.length&&$e(o).remove(),$e.merge([],i.childNodes))},$e.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=X(e.slice(s)),e=e.slice(0,s)),be(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&$e.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?$e("<div>").append($e.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},$e.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){$e.fn[t]=function(e){return this.on(t,e)}}),$e.expr.pseudos.animated=function(e){return $e.grep($e.timers,function(t){return e===t.elem}).length},$e.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=$e.css(e,"position"),f=$e(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=$e.css(e,"top"),l=$e.css(e,"left"),(u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),be(t)&&(t=t.call(e,n,$e.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},$e.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){$e.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===$e.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===$e.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=$e(e).offset()).top+=$e.css(e,"borderTopWidth",!0),i.left+=$e.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-$e.css(r,"marginTop",!0),left:t.left-i.left-$e.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===$e.css(e,"position");)e=e.offsetParent;return e||et})}}),$e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;$e.fn[e]=function(r){return Ie(this,function(e,r,i){var o;return ye(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),$e.each(["top","left"],function(e,t){$e.cssHooks[t]=F(ve.pixelPosition,function(e,n){if(n)return n=I(e,t),lt.test(n)?$e(e).position()[t]+"px":n})}),$e.each({Height:"height",Width:"width"},function(e,t){$e.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){$e.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Ie(this,function(t,n,i){var o;return ye(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?$e.css(t,n,s):$e.style(t,n,i,s)},t,a?i:void 0,a)}})}),$e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){$e.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),$e.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),$e.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),$e.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),be(e))return r=le.call(arguments,2),i=function(){return e.apply(t||this,r.concat(le.call(arguments)))},i.guid=e.guid=e.guid||$e.guid++,i},$e.holdReady=function(e){e?$e.readyWait++:$e.ready(!0)},$e.isArray=Array.isArray,$e.parseJSON=JSON.parse,$e.nodeName=o,$e.isFunction=be,$e.isWindow=ye,$e.camelCase=h,$e.type=r,$e.now=Date.now,$e.isNumeric=function(e){var t=$e.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return $e});var Xt=e.jQuery,Qt=e.$;return $e.noConflict=function(t){return e.$===$e&&(e.$=Qt),t&&e.jQuery===$e&&(e.jQuery=Xt),$e},t||(e.jQuery=e.$=$e),$e}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){var t=function(n,r){this.id=++e.FE.ID,this.opts=e.extend(!0,{},e.extend({},t.DEFAULTS,"object"==typeof r&&r));var i=JSON.stringify(this.opts);e.FE.OPTS_MAPPING[i]=e.FE.OPTS_MAPPING[i]||this.id,this.sid=e.FE.OPTS_MAPPING[i],e.FE.SHARED[this.sid]=e.FE.SHARED[this.sid]||{},this.shared=e.FE.SHARED[this.sid],this.shared.count=(this.shared.count||0)+1,this.$oel=e(n),this.$oel.data("froala.editor",this),this.o_doc=n.ownerDocument,this.o_win="defaultView"in this.o_doc?this.o_doc.defaultView:this.o_doc.parentWindow;var o=e(this.o_win).scrollTop();this.$oel.on("froala.doInit",e.proxy(function(){this.$oel.off("froala.doInit"),this.doc=this.$el.get(0).ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.$doc=e(this.doc),this.$win=e(this.win),this.opts.pluginsEnabled||(this.opts.pluginsEnabled=Object.keys(e.FE.PLUGINS)),this.opts.initOnClick?(this.load(e.FE.MODULES),this.$el.on("touchstart.init",function(){e(this).data("touched",!0)}),this.$el.on("touchmove.init",function(){e(this).removeData("touched")}),this.$el.on("mousedown.init touchend.init dragenter.init focus.init",e.proxy(function(t){if("touchend"==t.type&&!this.$el.data("touched"))return!0;if(1===t.which||!t.which){this.$el.off("mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init"),this.load(e.FE.MODULES),this.load(e.FE.PLUGINS);var n=t.originalEvent&&t.originalEvent.originalTarget;n&&"IMG"==n.tagName&&e(n).trigger("mousedown"),"undefined"==typeof this.ul&&this.destroy(),"touchend"==t.type&&this.image&&t.originalEvent&&t.originalEvent.target&&e(t.originalEvent.target).is("img")&&setTimeout(e.proxy(function(){this.image.edit(e(t.originalEvent.target))},this),100),this.ready=!0,this.events.trigger("initialized")}},this))):(this.load(e.FE.MODULES),this.load(e.FE.PLUGINS),e(this.o_win).scrollTop(o),"undefined"==typeof this.ul&&this.destroy(),this.ready=!0,this.events.trigger("initialized"))},this)),this._init()};t.DEFAULTS={initOnClick:!1,pluginsEnabled:null},t.MODULES={},t.PLUGINS={},t.VERSION="2.4.2",t.INSTANCES=[],t.OPTS_MAPPING={},t.SHARED={},t.ID=0,t.prototype._init=function(){var t=this.$oel.prop("tagName"),n=e.proxy(function(){"TEXTAREA"!=t&&(this._original_html=this._original_html||this.$oel.html()),this.$box=this.$box||this.$oel,this.opts.fullPage&&(this.opts.iframe=!0),this.opts.iframe?(this.$iframe=e('<iframe src="about:blank" frameBorder="0">'),this.$wp=e("<div></div>"),this.$box.html(this.$wp),this.$wp.append(this.$iframe),this.$iframe.get(0).contentWindow.document.open(),this.$iframe.get(0).contentWindow.document.write("<!DOCTYPE html>"),this.$iframe.get(0).contentWindow.document.write("<html><head></head><body></body></html>"),this.$iframe.get(0).contentWindow.document.close(),this.$el=this.$iframe.contents().find("body"),this.el=this.$el.get(0),this.$head=this.$iframe.contents().find("head"),this.$html=this.$iframe.contents().find("html"),this.iframe_document=this.$iframe.get(0).contentWindow.document,this.$oel.trigger("froala.doInit")):(this.$el=e("<div></div>"),this.el=this.$el.get(0),this.$wp=e("<div></div>").append(this.$el),this.$box.html(this.$wp),this.$oel.trigger("froala.doInit"))},this),r=e.proxy(function(){this.$box=e("<div>"),this.$oel.before(this.$box).hide(),this._original_html=this.$oel.val(),this.$oel.parents("form").on("submit."+this.id,e.proxy(function(){this.events.trigger("form.submit")},this)),this.$oel.parents("form").on("reset."+this.id,e.proxy(function(){this.events.trigger("form.reset")},this)),n()},this),i=e.proxy(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.$el.attr("contenteditable",!0).css("outline","none").css("display","inline-block"),this.opts.multiLine=!1,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),o=e.proxy(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),a=e.proxy(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.on("click.popup",function(e){e.preventDefault()}),this.$oel.trigger("froala.doInit")},this);this.opts.editInPopup?a():"TEXTAREA"==t?r():"A"==t?i():"IMG"==t?o():"BUTTON"==t||"INPUT"==t?(this.opts.editInPopup=!0,this.opts.toolbarInline=!1,a()):n()},t.prototype.load=function(t){for(var n in t)if(t.hasOwnProperty(n)){if(this[n])continue;if(e.FE.PLUGINS[n]&&this.opts.pluginsEnabled.indexOf(n)<0)continue;if(this[n]=new t[n](this),this[n]._init&&(this[n]._init(),this.opts.initOnClick&&"core"==n))return!1}},t.prototype.destroy=function(){this.shared.count--,this.events.$off();var t=this.html.get();if(this.events.trigger("destroy",[],!0),this.events.trigger("shared.destroy",void 0,!0),0===this.shared.count){for(var n in this.shared)this.shared.hasOwnProperty(n)&&(null==this.shared[n],e.FE.SHARED[this.sid][n]=null);e.FE.SHARED[this.sid]={}}this.$oel.parents("form").off("."+this.id),this.$oel.off("click.popup"),this.$oel.removeData("froala.editor"),this.$oel.off("froalaEditor"),this.core.destroy(t),e.FE.INSTANCES.splice(e.FE.INSTANCES.indexOf(this),1)},e.fn.froalaEditor=function(n){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);if("string"==typeof n){var o=[];return this.each(function(){var t=e(this),i=t.data("froala.editor");if(i){var a,s;if(n.indexOf(".")>0&&i[n.split(".")[0]]?(i[n.split(".")[0]]&&(a=i[n.split(".")[0]]),s=n.split(".")[1]):(a=i,s=n.split(".")[0]),!a[s])return e.error("Method "+n+" does not exist in Froala Editor.");var l=a[s].apply(i,r.slice(1));void 0===l?o.push(this):0===o.length&&o.push(l)}}),1==o.length?o[0]:o}if("object"==typeof n||!n)return this.each(function(){var r=e(this).data("froala.editor");if(!r){var i=this;new t(i,n)}})},e.fn.froalaEditor.Constructor=t,e.FroalaEditor=t,e.FE=t,e.FE.XS=0,e.FE.SM=1,e.FE.MD=2,e.FE.LG=3,e.FE.MODULES.helpers=function(t){function n(){var e,t,n=-1;return"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1))),n}function r(){var e={},t=n();if(t>0)e.msie=!0;else{var r=navigator.userAgent.toLowerCase(),i=/(edge)[ \/]([\w.]+)/.exec(r)||/(chrome)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[],o={browser:i[1]||"",version:i[2]||"0"};i[1]&&(e[o.browser]=!0),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0)}return e.msie&&(e.version=t),e}function i(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&!s()}function o(){return/(Android)/g.test(navigator.userAgent)&&!s()}function a(){return/(Blackberry)/g.test(navigator.userAgent)}function s(){return/(Windows Phone)/gi.test(navigator.userAgent)}function l(){return o()||i()||a()}function u(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}function c(e){return parseInt(e,10)||0}function f(){var t=e('<div class="fr-visibility-helper"></div>').appendTo("body"),n=c(t.css("margin-left"));return t.remove(),n}function d(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function p(e){if(!/^(https?:|ftps?:|)\/\//i.test(e))return!1;e=String(e).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var t=/(http|ftp|https):\/\/[a-z\u00a1-\uffff0-9{}]+(\.[a-z\u00a1-\uffff0-9{}]*)*([a-z\u00a1-\uffff0-9.,@?^=%&amp;:\/~+#-_{}]*[a-z\u00a1-\uffff0-9@?^=%&amp;\/~+#-_{}])?/gi;return t.test(e)}function h(e){if(/^(https?:|ftps?:|)\/\//i.test(e)){if(!p(e)&&!p("http:"+e))return""}else e=encodeURIComponent(e).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/gi,"mailto:").replace(/file%3A/gi,"file:").replace(/sms%3A/gi,"sms:").replace(/tel%3A/gi,"tel:").replace(/notes%3A/gi,"notes:").replace(/data%3Aimage/gi,"data:image").replace(/blob%3A/gi,"blob:").replace(/webkit-fake-url%3A/gi,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%7B/g,"{").replace(/%7D/g,"}");return e}function g(e){return e&&!e.propertyIsEnumerable("length")&&"object"==typeof e&&"number"==typeof e.length;
}function m(e){function t(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}try{return e&&"transparent"!==e?/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+t(e[1])+t(e[2])+t(e[3])).toUpperCase()):""}catch(n){return null}}function v(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?"rgb("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+")":""}function b(t){var n=(t.css("text-align")||"").replace(/-(.*)-/g,"");if(["left","right","justify","center"].indexOf(n)<0){if(!C){var r=e('<div dir="auto" style="text-align: initial; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>');e("body").append(r);var i=r.find("#s1").get(0).getBoundingClientRect().left,o=r.find("#s2").get(0).getBoundingClientRect().left;r.remove(),C=i<o?"left":"right"}n=C}return n}function y(){return null==S&&(S=navigator.platform.toUpperCase().indexOf("MAC")>=0),S}function E(){function e(e,t){var r=e[t];e[t]=function(e){var t,o=!1,a=!1;if(e.match(i)){e=e.replace(i,""),this.parentNode||(n.appendChild(this),a=!0);var s=this.parentNode;return this.id||(this.id="rootedQuerySelector_id_"+(new Date).getTime(),o=!0),t=r.call(s,"#"+this.id+" "+e),o&&(this.id=""),a&&n.removeChild(this),t}return r.call(this,e)}}var n=t.o_doc.createElement("div");try{n.querySelectorAll(":scope *")}catch(r){var i=/^\s*:scope/gi;e(Element.prototype,"querySelector"),e(Element.prototype,"querySelectorAll")}}function $(){return t.o_win.pageYOffset?t.o_win.pageYOffset:t.o_doc.documentElement&&t.o_doc.documentElement.scrollTop?t.o_doc.documentElement.scrollTop:t.o_doc.body.scrollTop?t.o_doc.body.scrollTop:0}function w(){return t.o_win.pageXOffset?t.o_win.pageXOffset:t.o_doc.documentElement&&t.o_doc.documentElement.scrollLeft?t.o_doc.documentElement.scrollLeft:t.o_doc.body.scrollLeft?t.o_doc.body.scrollLeft:0}function x(){t.browser=r(),E()}var C,S=null;return{_init:x,isIOS:i,isMac:y,isAndroid:o,isBlackberry:a,isWindowsPhone:s,isMobile:l,requestAnimationFrame:u,getPX:c,screenSize:f,isTouch:d,sanitizeURL:h,isArray:g,RGBToHex:m,HEXtoRGB:v,isURL:p,getAlignment:b,scrollTop:$,scrollLeft:w}},e.FE.MODULES.events=function(t){function n(e,t,n){b(e,t,n)}function r(){n(t.$el,"cut copy paste beforepaste",function(e){$(e.type,[e])})}function i(){n(t.$el,"click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",function(e){$(e.type,[e])}),v("mousedown",function(){for(var n=0;n<e.FE.INSTANCES.length;n++)e.FE.INSTANCES[n]!=t&&e.FE.INSTANCES[n].popups&&e.FE.INSTANCES[n].popups.areVisible()&&e.FE.INSTANCES[n].$el.find(".fr-marker").remove()})}function o(){n(t.$el,"keydown keypress keyup input",function(e){$(e.type,[e])})}function a(){n(t.$win,t._mousedown,function(e){$("window.mousedown",[e]),p()}),n(t.$win,t._mouseup,function(e){$("window.mouseup",[e])}),n(t.$win,"cut copy keydown keyup touchmove touchend",function(e){$("window."+e.type,[e])})}function s(){n(t.$doc,"dragend drop",function(e){$("document."+e.type,[e])})}function l(n){if("undefined"==typeof n&&(n=!0),!t.$wp)return!1;if(t.helpers.isIOS()&&t.$win.get(0).focus(),!t.core.hasFocus()&&n){var r=t.$win.scrollTop();return t.browser.msie&&t.$box&&t.$box.css("position","fixed"),t.$el.focus(),t.browser.msie&&t.$box&&t.$box.css("position",""),r!=t.$win.scrollTop()&&t.$win.scrollTop(r),!1}if(!t.core.hasFocus()||t.$el.find(".fr-marker").length>0)return!1;var i=t.selection.info(t.el);if(i.atStart&&t.selection.isCollapsed()&&null!=t.html.defaultTag()){var o=t.markers.insert();if(o&&!t.node.blockParent(o)){e(o).remove();var a=t.$el.find(t.html.blockTagsQuery()).get(0);a&&(e(a).prepend(e.FE.MARKERS),t.selection.restore())}else o&&e(o).remove()}}function u(){n(t.$el,"focus",function(e){g()&&(l(!1),A===!1&&$(e.type,[e]))}),n(t.$el,"blur",function(e){g()&&A===!0&&($(e.type,[e]),p())}),v("focus",function(){A=!0}),v("blur",function(){A=!1})}function c(){t.helpers.isMobile()?(t._mousedown="touchstart",t._mouseup="touchend",t._move="touchmove",t._mousemove="touchmove"):(t._mousedown="mousedown",t._mouseup="mouseup",t._move="",t._mousemove="mousemove")}function f(n){var r=e(n.currentTarget);return t.edit.isDisabled()||t.node.hasClass(r.get(0),"fr-disabled")?(n.preventDefault(),!1):"mousedown"===n.type&&1!==n.which||(t.helpers.isMobile()||n.preventDefault(),(t.helpers.isAndroid()||t.helpers.isWindowsPhone())&&0===r.parents(".fr-dropdown-menu").length&&(n.preventDefault(),n.stopPropagation()),r.addClass("fr-selected"),void t.events.trigger("commands.mousedown",[r]))}function d(n,r){var i=e(n.currentTarget);if(t.edit.isDisabled()||t.node.hasClass(i.get(0),"fr-disabled"))return n.preventDefault(),!1;if("mouseup"===n.type&&1!==n.which)return!0;if(!t.node.hasClass(i.get(0),"fr-selected"))return!0;if("touchmove"!=n.type){if(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!t.node.hasClass(i.get(0),"fr-selected"))return e(".fr-selected").removeClass("fr-selected"),!1;if(e(".fr-selected").removeClass("fr-selected"),i.data("dragging")||i.attr("disabled"))return i.removeData("dragging"),!1;var o=i.data("timeout");o&&(clearTimeout(o),i.removeData("timeout")),r.apply(t,[n])}else i.data("timeout")||i.data("timeout",setTimeout(function(){i.data("dragging",!0)},100))}function p(){_=!0}function h(){_=!1}function g(){return _}function m(e,n,r){b(e,t._mousedown,n,function(e){t.edit.isDisabled()||f(e)},!0),b(e,t._mouseup+" "+t._move,n,function(e){t.edit.isDisabled()||d(e,r)},!0),b(e,"mousedown click mouseup",n,function(e){t.edit.isDisabled()||e.stopPropagation()},!0),v("window.mouseup",function(){t.edit.isDisabled()||(e.find(n).removeClass("fr-selected"),p())})}function v(e,n,r){var i=e.split(" ");if(i.length>1){for(var o=0;o<i.length;o++)v(i[o],n,r);return!0}"undefined"==typeof r&&(r=!1);var a;a=0!=e.indexOf("shared.")?T[e]=T[e]||[]:t.shared._events[e]=t.shared._events[e]||[],r?a.unshift(n):a.push(n)}function b(e,n,r,i,o){"function"==typeof r&&(o=i,i=r,r=!1);var a=o?t.shared.$_events:O,s=o?t.sid:t.id;r?e.on(n.split(" ").join(".ed"+s+" ")+".ed"+s,r,i):e.on(n.split(" ").join(".ed"+s+" ")+".ed"+s,i),a.indexOf(e.get(0))<0&&a.push(e.get(0))}function y(t,n){for(var r=0;r<t.length;r++)e(t[r]).off(".ed"+n)}function E(){y(O,t.id),O=[],0==t.shared.count&&(y(t.shared.$_events,t.sid),t.shared.$_events=null)}function $(n,r,i){if(!t.edit.isDisabled()||i){var o;if(0!=n.indexOf("shared."))o=T[n];else{if(t.shared.count>0)return!1;o=t.shared._events[n]}var a;if(o)for(var s=0;s<o.length;s++)if(a=o[s].apply(t,r),a===!1)return!1;return a=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],r||[])),a!==!1&&a}}function w(n,r,i){if(!t.edit.isDisabled()||i){var o;if(0!=n.indexOf("shared."))o=T[n];else{if(t.shared.count>0)return!1;o=t.shared._events[n]}var a;if(o)for(var s=0;s<o.length;s++)a=o[s].apply(t,[r]),"undefined"!=typeof a&&(r=a);return a=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],[r])),"undefined"!=typeof a&&(r=a),r}}function x(){for(var e in T)T.hasOwnProperty(e)&&delete T[e]}function C(){for(var e in t.shared._events)t.shared._events.hasOwnProperty(e)&&delete t.shared._events[e]}function S(){t.shared.$_events=t.shared.$_events||[],t.shared._events={},c(),i(),a(),s(),o(),u(),p(),r(),v("destroy",x),v("shared.destroy",C)}var _,T={},A=!1,O=[];return{_init:S,on:v,trigger:$,bindClick:m,disableBlur:h,enableBlur:p,blurActive:g,focus:l,chainTrigger:w,$on:b,$off:E}},e.FE.MODULES.node=function(t){function n(e){return e&&"IFRAME"!=e.tagName?Array.prototype.slice.call(e.childNodes||[]):[]}function r(t){return!!t&&t.nodeType==Node.ELEMENT_NODE&&e.FE.BLOCK_TAGS.indexOf(t.tagName.toLowerCase())>=0}function i(i,o){if(!i)return!0;if(i.querySelector("table"))return!1;var a=n(i);1==a.length&&r(a[0])&&(a=n(a[0]));for(var s=!1,l=0;l<a.length;l++){var u=a[l];if(!(o&&t.node.hasClass(u,"fr-marker")||u.nodeType==Node.TEXT_NODE&&0==u.textContent.length)){if("BR"!=u.tagName&&(u.textContent||"").replace(/\u200B/gi,"").replace(/\n/g,"").length>0)return!1;if(s)return!1;"BR"==u.tagName&&(s=!0)}}return!(i.querySelectorAll(e.FE.VOID_ELEMENTS.join(",")).length-i.querySelectorAll("br").length||i.querySelector(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)")||i.querySelectorAll(e.FE.BLOCK_TAGS.join(",")).length>1||i.querySelector(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)"))}function o(e){for(;e&&e.parentNode!==t.el&&(!e.parentNode||!t.node.hasClass(e.parentNode,"fr-inner"));)if(e=e.parentNode,r(e))return e;return null}function a(n,i,o){if("undefined"==typeof i&&(i=[]),"undefined"==typeof o&&(o=!0),i.push(t.el),i.indexOf(n.parentNode)>=0||n.parentNode&&t.node.hasClass(n.parentNode,"fr-inner")||n.parentNode&&e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)>=0&&o)return null;for(;i.indexOf(n.parentNode)<0&&n.parentNode&&!t.node.hasClass(n.parentNode,"fr-inner")&&(e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)<0||!o)&&(!r(n)||!r(n.parentNode)||!o);)n=n.parentNode;return n}function s(e){var t={},n=e.attributes;if(n)for(var r=0;r<n.length;r++){var i=n[r];t[i.nodeName]=i.value}return t}function l(e){for(var t="",n=s(e),r=Object.keys(n).sort(),i=0;i<r.length;i++){var o=r[i],a=n[o];t+=a.indexOf('"')<0?" "+o+'="'+a+'"':" "+o+"='"+a+"'"}return t}function u(e){for(var t=e.attributes,n=0;n<t.length;n++){var r=t[n];e.removeAttribute(r.nodeName)}}function c(e){return"<"+e.tagName.toLowerCase()+l(e)+">"}function f(e){return"</"+e.tagName.toLowerCase()+">"}function d(e,n){"undefined"==typeof n&&(n=!0);for(var r=e.previousSibling;r&&n&&t.node.hasClass(r,"fr-marker");)r=r.previousSibling;return!r||r.nodeType==Node.TEXT_NODE&&""===r.textContent&&d(r)}function p(e,n){"undefined"==typeof n&&(n=!0);for(var r=e.nextSibling;r&&n&&t.node.hasClass(r,"fr-marker");)r=r.nextSibling;return!r||r.nodeType==Node.TEXT_NODE&&""===r.textContent&&p(r)}function h(t){return t&&t.nodeType==Node.ELEMENT_NODE&&e.FE.VOID_ELEMENTS.indexOf((t.tagName||"").toLowerCase())>=0}function g(e){return!!e&&["UL","OL"].indexOf(e.tagName)>=0}function m(e){return e===t.el}function v(e){return e&&e.nodeType==Node.ELEMENT_NODE&&e.getAttribute("class")&&(e.getAttribute("class")||"").indexOf("fr-deletable")>=0}function b(e){return e===t.doc.activeElement&&(!t.doc.hasFocus||t.doc.hasFocus())&&!!(m(e)||e.type||e.href||~e.tabIndex)}function y(e){return(!e.getAttribute||"false"!=e.getAttribute("contenteditable"))&&["STYLE","SCRIPT"].indexOf(e.tagName)<0}function E(t,n){return t instanceof e&&(t=t.get(0)),t&&t.classList&&t.classList.contains(n)}function $(e){return t.browser.msie?e:{acceptNode:e}}return{isBlock:r,isEmpty:i,blockParent:o,deepestParent:a,rawAttributes:s,attributes:l,clearAttributes:u,openTagString:c,closeTagString:f,isFirstSibling:d,isLastSibling:p,isList:g,isElement:m,contents:n,isVoid:h,hasFocus:b,isEditable:y,isDeletable:v,hasClass:E,filter:$}},e.FE.INVISIBLE_SPACE="&#8203;",e.FE.START_MARKER='<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.END_MARKER='<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.MARKERS=e.FE.START_MARKER+e.FE.END_MARKER,e.FE.MODULES.markers=function(t){function n(n,r){return e('<span class="fr-marker" data-id="'+r+'" data-type="'+n+'" style="display: '+(t.browser.safari?"none":"inline-block")+'; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0]}function r(r,i,o){try{var a=r.cloneRange();if(a.collapse(i),a.insertNode(n(i,o)),i===!0&&r.collapsed)for(var s=t.$el.find('span.fr-marker[data-type="true"][data-id="'+o+'"]'),l=s.get(0).nextSibling;l&&l.nodeType===Node.TEXT_NODE&&0===l.textContent.length;)e(l).remove(),l=s.nextSibling;if(i===!0&&!r.collapsed){var s=t.$el.find('span.fr-marker[data-type="true"][data-id="'+o+'"]').get(0),l=s.nextSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(l)){var u=[l];do l=u[0],u=t.node.contents(l);while(u[0]&&t.node.isBlock(u[0]));e(l).prepend(e(s))}}if(i===!1&&!r.collapsed){var s=t.$el.find('span.fr-marker[data-type="false"][data-id="'+o+'"]').get(0),l=s.previousSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(l)){var u=[l];do l=u[u.length-1],u=t.node.contents(l);while(u[u.length-1]&&t.node.isBlock(u[u.length-1]));e(l).append(e(s))}s.parentNode&&["TD","TH"].indexOf(s.parentNode.tagName)>=0&&s.parentNode.previousSibling&&!s.previousSibling&&e(s.parentNode.previousSibling).append(s)}var c=t.$el.find('span.fr-marker[data-type="'+i+'"][data-id="'+o+'"]').get(0);return c&&(c.style.display="none"),c}catch(f){return null}}function i(){if(!t.$wp)return null;try{var n=t.selection.ranges(0),r=n.commonAncestorContainer;if(r!=t.el&&0==t.$el.find(r).length)return null;var i=n.cloneRange(),o=n.cloneRange();i.collapse(!0);var a=e('<span class="fr-marker" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0];if(i.insertNode(a),a=t.$el.find("span.fr-marker").get(0)){for(var s=a.nextSibling;s&&s.nodeType===Node.TEXT_NODE&&0===s.textContent.length;)e(s).remove(),s=t.$el.find("span.fr-marker").get(0).nextSibling;return t.selection.clear(),t.selection.get().addRange(o),a}return null}catch(l){}}function o(){t.selection.isCollapsed()||t.selection.remove();var n=t.$el.find(".fr-marker").get(0);if(null==n&&(n=i()),null==n)return null;var r=t.node.deepestParent(n);if(r||(r=t.node.blockParent(n),r&&"LI"!=r.tagName&&(r=null)),r)if(t.node.isBlock(r)&&t.node.isEmpty(r))e(r).replaceWith('<span class="fr-marker"></span>');else if(t.cursor.isAtStart(n,r))e(r).before('<span class="fr-marker"></span>'),e(n).remove();else if(t.cursor.isAtEnd(n,r))e(r).after('<span class="fr-marker"></span>'),e(n).remove();else{var o=n,a="",s="";do o=o.parentNode,a+=t.node.closeTagString(o),s=t.node.openTagString(o)+s;while(o!=r);e(n).replaceWith('<span id="fr-break"></span>');var l=t.node.openTagString(r)+e(r).html()+t.node.closeTagString(r);l=l.replace(/<span id="fr-break"><\/span>/g,a+'<span class="fr-marker"></span>'+s),e(r).replaceWith(l)}return t.$el.find(".fr-marker").get(0)}function a(e){var n=e.clientX,r=e.clientY;s();var o,a=null;if("undefined"!=typeof t.doc.caretPositionFromPoint?(o=t.doc.caretPositionFromPoint(n,r),a=t.doc.createRange(),a.setStart(o.offsetNode,o.offset),a.setEnd(o.offsetNode,o.offset)):"undefined"!=typeof t.doc.caretRangeFromPoint&&(o=t.doc.caretRangeFromPoint(n,r),a=t.doc.createRange(),a.setStart(o.startContainer,o.startOffset),a.setEnd(o.startContainer,o.startOffset)),null!==a&&"undefined"!=typeof t.win.getSelection){var l=t.win.getSelection();l.removeAllRanges(),l.addRange(a)}else if("undefined"!=typeof t.doc.body.createTextRange)try{a=t.doc.body.createTextRange(),a.moveToPoint(n,r);var u=a.duplicate();u.moveToPoint(n,r),a.setEndPoint("EndToEnd",u),a.select()}catch(c){return!1}i()}function s(){t.$el.find(".fr-marker").remove()}return{place:r,insert:i,split:o,insertAtPoint:a,remove:s}},e.FE.MODULES.selection=function(t){function n(){var e="";return t.win.getSelection?e=t.win.getSelection():t.doc.getSelection?e=t.doc.getSelection():t.doc.selection&&(e=t.doc.selection.createRange().text),e.toString()}function r(){var e="";return e=t.win.getSelection?t.win.getSelection():t.doc.getSelection?t.doc.getSelection():t.doc.selection.createRange()}function i(e){var n=r(),i=[];if(n&&n.getRangeAt&&n.rangeCount)for(var i=[],o=0;o<n.rangeCount;o++)i.push(n.getRangeAt(o));else i=t.doc.createRange?[t.doc.createRange()]:[];return"undefined"!=typeof e?i[e]:i}function o(){var e=r();try{e.removeAllRanges?e.removeAllRanges():e.empty?e.empty():e.clear&&e.clear()}catch(t){}}function a(){var o=r();try{if(o.rangeCount){var a=i(0),s=a.startContainer;if(s.nodeType==Node.TEXT_NODE&&a.startOffset==(s.textContent||"").length&&s.nextSibling&&(s=s.nextSibling),s.nodeType==Node.ELEMENT_NODE){var l=!1;if(s.childNodes.length>0&&s.childNodes[a.startOffset]){for(var u=s.childNodes[a.startOffset];u&&u.nodeType==Node.TEXT_NODE&&0==u.textContent.length;)u=u.nextSibling;if(u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0),!l&&s.childNodes.length>1&&a.startOffset>0&&s.childNodes[a.startOffset-1]){for(var u=s.childNodes[a.startOffset-1];u&&u.nodeType==Node.TEXT_NODE&&0==u.textContent.length;)u=u.nextSibling;u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}}else if(!a.collapsed&&s.nextSibling&&s.nextSibling.nodeType==Node.ELEMENT_NODE){var u=s.nextSibling;u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}!l&&s.childNodes.length>0&&e(s.childNodes[0]).text().replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&["BR","IMG","HR"].indexOf(s.childNodes[0].tagName)<0&&(s=s.childNodes[0])}for(;s.nodeType!=Node.ELEMENT_NODE&&s.parentNode;)s=s.parentNode;for(var c=s;c&&"HTML"!=c.tagName;){if(c==t.el)return s;c=e(c).parent()[0]}}}catch(f){}return t.el}function s(){var o=r();try{if(o.rangeCount){var a=i(0),s=a.endContainer;if(s.nodeType==Node.ELEMENT_NODE){var l=!1;if(s.childNodes.length>0&&s.childNodes[a.endOffset]&&e(s.childNodes[a.endOffset]).text()===n())s=s.childNodes[a.endOffset],l=!0;else if(!a.collapsed&&s.previousSibling&&s.previousSibling.nodeType==Node.ELEMENT_NODE){var u=s.previousSibling;u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}else if(!a.collapsed&&s.childNodes.length>0&&s.childNodes[a.endOffset]){var u=s.childNodes[a.endOffset].previousSibling;u.nodeType==Node.ELEMENT_NODE&&u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}!l&&s.childNodes.length>0&&e(s.childNodes[s.childNodes.length-1]).text()===n()&&["BR","IMG","HR"].indexOf(s.childNodes[s.childNodes.length-1].tagName)<0&&(s=s.childNodes[s.childNodes.length-1])}for(s.nodeType==Node.TEXT_NODE&&0==a.endOffset&&s.previousSibling&&s.previousSibling.nodeType==Node.ELEMENT_NODE&&(s=s.previousSibling);s.nodeType!=Node.ELEMENT_NODE&&s.parentNode;)s=s.parentNode;for(var c=s;c&&"HTML"!=c.tagName;){if(c==t.el)return s;c=e(c).parent()[0]}}}catch(f){}return t.el}function l(e,t){var n=e;return n.nodeType==Node.ELEMENT_NODE&&n.childNodes.length>0&&n.childNodes[t]&&(n=n.childNodes[t]),n.nodeType==Node.TEXT_NODE&&(n=n.parentNode),n}function u(){var n=[],o=r();if(y()&&o.rangeCount)for(var a=i(),s=0;s<a.length;s++){var u=a[s],c=l(u.startContainer,u.startOffset),f=l(u.endContainer,u.endOffset);t.node.isBlock(c)&&n.indexOf(c)<0&&n.push(c);var d=t.node.blockParent(c);d&&n.indexOf(d)<0&&n.push(d);for(var p=[],h=c;h!==f&&h!==t.el;)p.indexOf(h)<0&&h.children&&h.children.length?(p.push(h),h=h.children[0]):h.nextSibling?h=h.nextSibling:h.parentNode&&(h=h.parentNode,p.push(h)),t.node.isBlock(h)&&p.indexOf(h)<0&&n.indexOf(h)<0&&(h!==f||u.endOffset>0)&&n.push(h);t.node.isBlock(f)&&n.indexOf(f)<0&&u.endOffset>0&&n.push(f);var d=t.node.blockParent(f);d&&n.indexOf(d)<0&&n.push(d)}for(var s=n.length-1;s>0;s--)e(n[s]).find(n).length&&("LI"!=n[s].tagName||1==n[s].children.length&&n.indexOf(n[s].children[0])>=0)&&n.splice(s,1);return n}function c(){if(t.$wp){t.markers.remove();for(var e=i(),n=[],r=0;r<e.length;r++)if(e[r].startContainer!==t.doc){var o=e[r],a=o.collapsed,s=t.markers.place(o,!0,r),l=t.markers.place(o,!1,r);if(t.el.normalize(),t.browser.safari&&!a){var o=t.doc.createRange();o.setStartAfter(s),o.setEndBefore(l),n.push(o)}}if(t.browser.safari&&n.length){t.selection.clear();for(var r=0;r<n.length;r++)t.selection.get().addRange(n[r])}}}function f(){var n=t.el.querySelectorAll('.fr-marker[data-type="true"]');if(!t.$wp)return t.markers.remove(),!1;if(0===n.length)return!1;if(t.browser.msie||t.browser.edge)for(var i=0;i<n.length;i++)n[i].style.display="inline-block";t.core.hasFocus()||t.browser.msie||t.browser.webkit||t.$el.focus(),o();for(var a=r(),i=0;i<n.length;i++){var s=e(n[i]).data("id"),l=n[i],u=t.doc.createRange(),c=t.$el.find('.fr-marker[data-type="false"][data-id="'+s+'"]');(t.browser.msie||t.browser.edge)&&c.css("display","inline-block");var f=null;if(c.length>0){c=c[0];try{for(var p=!1,h=l.nextSibling;h&&h.nodeType==Node.TEXT_NODE&&0==h.textContent.length;){var g=h;h=h.nextSibling,e(g).remove()}for(var m=c.nextSibling;m&&m.nodeType==Node.TEXT_NODE&&0==m.textContent.length;){var g=m;m=m.nextSibling,e(g).remove()}if(l.nextSibling==c||c.nextSibling==l){for(var v=l.nextSibling==c?l:c,b=v==l?c:l,y=v.previousSibling;y&&y.nodeType==Node.TEXT_NODE&&0==y.length;){var g=y;y=y.previousSibling,e(g).remove()}if(y&&y.nodeType==Node.TEXT_NODE)for(;y&&y.previousSibling&&y.previousSibling.nodeType==Node.TEXT_NODE;)y.previousSibling.textContent=y.previousSibling.textContent+y.textContent,y=y.previousSibling,e(y.nextSibling).remove();for(var E=b.nextSibling;E&&E.nodeType==Node.TEXT_NODE&&0==E.length;){var g=E;E=E.nextSibling,e(g).remove()}if(E&&E.nodeType==Node.TEXT_NODE)for(;E&&E.nextSibling&&E.nextSibling.nodeType==Node.TEXT_NODE;)E.nextSibling.textContent=E.textContent+E.nextSibling.textContent,E=E.nextSibling,e(E.previousSibling).remove();if(y&&(t.node.isVoid(y)||t.node.isBlock(y))&&(y=null),E&&(t.node.isVoid(E)||t.node.isBlock(E))&&(E=null),y&&E&&y.nodeType==Node.TEXT_NODE&&E.nodeType==Node.TEXT_NODE){e(l).remove(),e(c).remove();var $=y.textContent.length;y.textContent=y.textContent+E.textContent,e(E).remove(),t.spaces.normalize(y),u.setStart(y,$),u.setEnd(y,$),p=!0}else!y&&E&&E.nodeType==Node.TEXT_NODE?(e(l).remove(),e(c).remove(),t.spaces.normalize(E),f=e(t.doc.createTextNode("​")),e(E).before(f),u.setStart(E,0),u.setEnd(E,0),p=!0):!E&&y&&y.nodeType==Node.TEXT_NODE&&(e(l).remove(),e(c).remove(),t.spaces.normalize(y),f=e(t.doc.createTextNode("​")),e(y).after(f),u.setStart(y,y.textContent.length),u.setEnd(y,y.textContent.length),p=!0)}if(!p){var w,x;if((t.browser.chrome||t.browser.edge)&&l.nextSibling==c)w=d(c,u,!0)||u.setStartAfter(c),x=d(l,u,!1)||u.setEndBefore(l);else{l.previousSibling==c&&(l=c,c=l.nextSibling),c.nextSibling&&"BR"===c.nextSibling.tagName||!c.nextSibling&&t.node.isBlock(l.previousSibling)||l.previousSibling&&"BR"==l.previousSibling.tagName||(l.style.display="inline",c.style.display="inline",f=e(t.doc.createTextNode("​")));var C=l.previousSibling;C&&C.style&&"block"==t.win.getComputedStyle(C).display&&!t.opts.enter==e.FE.ENTER_BR?(u.setEndAfter(C),u.setStartAfter(C)):(w=d(l,u,!0)||e(l).before(f)&&u.setStartBefore(l),x=d(c,u,!1)||e(c).after(f)&&u.setEndAfter(c))}"function"==typeof w&&w(),"function"==typeof x&&x()}}catch(S){}}f&&f.remove();try{a.addRange(u)}catch(S){}}t.markers.remove()}function d(n,r,i){var o=n.previousSibling,a=n.nextSibling;if(o&&a&&o.nodeType==Node.TEXT_NODE&&a.nodeType==Node.TEXT_NODE){var s=o.textContent.length;return i?(a.textContent=o.textContent+a.textContent,e(o).remove(),e(n).remove(),t.spaces.normalize(a),function(){r.setStart(a,s)}):(o.textContent=o.textContent+a.textContent,e(a).remove(),e(n).remove(),t.spaces.normalize(o),function(){r.setEnd(o,s)})}if(o&&!a&&o.nodeType==Node.TEXT_NODE){var s=o.textContent.length;return i?(t.spaces.normalize(o),function(){r.setStart(o,s)}):(t.spaces.normalize(o),function(){r.setEnd(o,s)})}return!(!a||o||a.nodeType!=Node.TEXT_NODE)&&(i?(t.spaces.normalize(a),function(){r.setStart(a,0)}):(t.spaces.normalize(a),function(){r.setEnd(a,0)}))}function p(){return!0}function h(){for(var e=i(),t=0;t<e.length;t++)if(!e[t].collapsed)return!1;return!0}function g(e){var n,r,i=!1,o=!1;if(t.win.getSelection){var a=t.win.getSelection();a.rangeCount&&(n=a.getRangeAt(0),r=n.cloneRange(),r.selectNodeContents(e),r.setEnd(n.startContainer,n.startOffset),i=""===r.toString(),r.selectNodeContents(e),r.setStart(n.endContainer,n.endOffset),o=""===r.toString())}else t.doc.selection&&"Control"!=t.doc.selection.type&&(n=t.doc.selection.createRange(),r=n.duplicate(),r.moveToElementText(e),r.setEndPoint("EndToStart",n),i=""===r.text,r.moveToElementText(e),r.setEndPoint("StartToEnd",n),o=""===r.text);return{atStart:i,atEnd:o}}function m(){if(h())return!1;t.$el.find("td, th, img").prepend('<span class="fr-mk">'+e.FE.INVISIBLE_SPACE+"</span>");var n=!1,r=g(t.el);return r.atStart&&r.atEnd&&(n=!0),t.$el.find(".fr-mk").remove(),n}function v(n,r){"undefined"==typeof r&&(r=!0);var i=e(n).html();i&&i.replace(/\u200b/g,"").length!=i.length&&e(n).html(i.replace(/\u200b/g,""));for(var o=t.node.contents(n),a=0;a<o.length;a++)o[a].nodeType!=Node.ELEMENT_NODE?e(o[a]).remove():(v(o[a],0==a),0==a&&(r=!1));n.nodeType==Node.TEXT_NODE?e(n).replaceWith('<span data-first="true" data-text="true"></span>'):r&&e(n).attr("data-first",!0)}function b(n,r){var i=t.node.contents(n.get(0));["TD","TH"].indexOf(n.get(0).tagName)>=0&&1==n.find(".fr-marker").length&&t.node.hasClass(i[0],"fr-marker")&&n.attr("data-del-cell",!0);for(var o=0;o<i.length;o++){var a=i[o];t.node.hasClass(a,"fr-marker")?r=(r+1)%2:r?e(a).find(".fr-marker").length>0?r=b(e(a),r):["TD","TH"].indexOf(a.tagName)<0&&!t.node.hasClass(a,"fr-inner")?!t.opts.keepFormatOnDelete||t.$el.find("[data-first]").length>0?e(a).remove():v(a):t.node.hasClass(a,"fr-inner")?0==e(a).find(".fr-inner").length?e(a).html("<br>"):e(a).find(".fr-inner").filter(function(){return 0==e(this).find("fr-inner").length}).html("<br>"):(e(a).empty(),e(a).attr("data-del-cell",!0)):e(a).find(".fr-marker").length>0&&(r=b(e(a),r))}return r}function y(){try{if(!t.$wp)return!1;for(var e=i(0),n=e.commonAncestorContainer;n&&!t.node.isElement(n);)n=n.parentNode;return!!t.node.isElement(n)}catch(r){return!1}}function E(){if(h())return!0;c();for(var n=function(t){for(var n=t.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;){var r=n,n=n.previousSibling;e(r).remove()}return n},r=function(t){for(var n=t.nextSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;){var r=n,n=n.nextSibling;e(r).remove()}return n},i=t.$el.find('.fr-marker[data-type="true"]'),o=0;o<i.length;o++)for(var a=i[o];!n(a)&&!t.node.isBlock(a.parentNode)&&!t.$el.is(a.parentNode);)e(a.parentNode).before(a);for(var s=t.$el.find('.fr-marker[data-type="false"]'),o=0;o<s.length;o++){for(var l=s[o];!r(l)&&!t.node.isBlock(l.parentNode)&&!t.$el.is(l.parentNode);)e(l.parentNode).after(l);l.parentNode&&t.node.isBlock(l.parentNode)&&t.node.isEmpty(l.parentNode)&&!t.$el.is(l.parentNode)&&t.opts.keepFormatOnDelete&&e(l.parentNode).after(l)}if(p()){b(t.$el,0);var u=t.$el.find('[data-first="true"]');if(u.length)t.$el.find(".fr-marker").remove(),u.append(e.FE.INVISIBLE_SPACE+e.FE.MARKERS).removeAttr("data-first"),u.attr("data-text")&&u.replaceWith(u.html());else{t.$el.find("table").filter(function(){var t=e(this).find("[data-del-cell]").length>0&&e(this).find("[data-del-cell]").length==e(this).find("td, th").length;return t}).remove(),t.$el.find("[data-del-cell]").removeAttr("data-del-cell");for(var i=t.$el.find('.fr-marker[data-type="true"]'),o=0;o<i.length;o++){var d=i[o],g=d.nextSibling,m=t.$el.find('.fr-marker[data-type="false"][data-id="'+e(d).data("id")+'"]').get(0);if(m){if(g&&g==m);else if(d){var v=t.node.blockParent(d),y=t.node.blockParent(m),E=!1,$=!1;if(v&&["UL","OL"].indexOf(v.tagName)>=0&&(v=null,E=!0),y&&["UL","OL"].indexOf(y.tagName)>=0&&(y=null,$=!0),e(d).after(m),v==y);else if(null!=v||E)if(null!=y||$||0!=e(v).parentsUntil(t.$el,"table").length)v&&y&&0==e(v).parentsUntil(t.$el,"table").length&&0==e(y).parentsUntil(t.$el,"table").length&&(e(v).append(e(y).html()),e(y).remove());else{for(var g=v;!g.nextSibling&&g.parentNode!=t.el;)g=g.parentNode;for(g=g.nextSibling;g&&"BR"!=g.tagName;){var w=g.nextSibling;e(v).append(g),g=w}g&&"BR"==g.tagName&&e(g).remove()}else{var x=t.node.deepestParent(d);x?(e(x).after(e(y).html()),e(y).remove()):0==e(y).parentsUntil(t.$el,"table").length&&(e(d).next().after(e(y).html()),e(y).remove())}}}else m=e(d).clone().attr("data-type",!1),e(d).after(m)}}}t.opts.keepFormatOnDelete||t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(!0),t.clean.lists(),t.spaces.normalize();var C=t.$el.find(".fr-marker:last").get(0),S=t.$el.find(".fr-marker:first").get(0);!C.nextSibling&&S.previousSibling&&"BR"==S.previousSibling.tagName&&t.node.isElement(C.parentNode)&&t.node.isElement(S.parentNode)&&t.$el.append("<br>"),f()}function $(n){if(!n||n.getElementsByClassName("fr-marker").length>0)return!1;for(var r=n.firstChild;r&&t.node.isBlock(r);)n=r,r=r.firstChild;n.innerHTML=e.FE.MARKERS+n.innerHTML}function w(n){if(!n||n.getElementsByClassName("fr-marker").length>0)return!1;for(var r=n.lastChild;r&&t.node.isBlock(r);)n=r,r=r.lastChild;n.innerHTML=n.innerHTML+e.FE.MARKERS}function x(n,r){"undefined"==typeof r&&(r=!0);for(var i=n.previousSibling;i&&i.nodeType==Node.TEXT_NODE&&0==i.textContent.length;)i=i.previousSibling;return i?(t.node.isBlock(i)?w(i):"BR"==i.tagName?e(i).before(e.FE.MARKERS):e(i).after(e.FE.MARKERS),!0):!!r&&(t.node.isBlock(n)?$(n):e(n).before(e.FE.MARKERS),!0)}function C(n,r){"undefined"==typeof r&&(r=!0);for(var i=n.nextSibling;i&&i.nodeType==Node.TEXT_NODE&&0==i.textContent.length;)i=i.nextSibling;return i?(t.node.isBlock(i)?$(i):e(i).before(e.FE.MARKERS),!0):!!r&&(t.node.isBlock(n)?w(n):e(n).after(e.FE.MARKERS),!0)}return{text:n,get:r,ranges:i,clear:o,element:a,endElement:s,save:c,restore:f,isCollapsed:h,isFull:m,inEditor:y,remove:E,blocks:u,info:g,setAtEnd:w,setAtStart:$,setBefore:x,setAfter:C,rangeElement:l}},e.extend(e.FE.DEFAULTS,{htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],htmlRemoveTags:["script","style"],htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","allowfullscreen","allowtransparency","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","frameborder","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","mozallowfullscreen","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","webkitallowfullscreen","width","wrap"],htmlAllowComments:!0,htmlUntouched:!1,fullPage:!1}),e.FE.HTML5Map={B:"STRONG",I:"EM",STRIKE:"S"},e.FE.MODULES.clean=function(t){function n(e){if(e.nodeType==Node.ELEMENT_NODE&&e.getAttribute("class")&&e.getAttribute("class").indexOf("fr-marker")>=0)return!1;var r,i=t.node.contents(e),o=[];for(r=0;r<i.length;r++)i[r].nodeType!=Node.ELEMENT_NODE||t.node.isVoid(i[r])?i[r].nodeType==Node.TEXT_NODE&&(i[r].textContent=i[r].textContent.replace(/\u200b/g,"").replace(/&/g,"&amp;")):i[r].textContent.replace(/\u200b/g,"").length!=i[r].textContent.length&&n(i[r]);if(e.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(e)&&(e.normalize(),i=t.node.contents(e),o=e.querySelectorAll(".fr-marker"),i.length-o.length==0)){for(r=0;r<i.length;r++)if((i[r].getAttribute("class")||"").indexOf("fr-marker")<0)return!1;
for(r=0;r<o.length;r++)e.parentNode.insertBefore(o[r].cloneNode(!0),e);return e.parentNode.removeChild(e),!1}}function r(e){if(e.nodeType==Node.COMMENT_NODE)return"<!--"+e.nodeValue+"-->";if(e.nodeType==Node.TEXT_NODE)return e.textContent.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\u00A0/g,"&nbsp;");if(e.nodeType!=Node.ELEMENT_NODE)return e.outerHTML;if(e.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT"].indexOf(e.tagName)>=0)return e.outerHTML;if(e.nodeType==Node.ELEMENT_NODE&&"svg"==e.tagName){var n=document.createElement("div"),i=e.cloneNode(!0);return n.appendChild(i),n.innerHTML}if("IFRAME"==e.tagName)return e.outerHTML;var o=e.childNodes;if(0===o.length)return e.outerHTML;for(var a="",s=0;s<o.length;s++)a+=r(o[s]);return t.node.openTagString(e)+a+t.node.closeTagString(e)}function i(e){return R=[],e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,function(e){return R.push(e),"[FROALA.EDITOR.SCRIPT "+(R.length-1)+"]"}),e=e.replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-fr-src="')}function o(e){return e=e.replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi,function(e,n){return t.opts.htmlRemoveTags.indexOf("script")>=0?"":R[parseInt(n,10)]}),e=e.replace(/<img((?:[\w\W]*?)) data-fr-src="/g,'<img$1 src="')}function a(e){var t;for(t in e)e.hasOwnProperty(t)&&(t.match(D)||delete e[t]);for(var n="",r=Object.keys(e).sort(),i=0;i<r.length;i++)t=r[i],n+=e[t].indexOf('"')<0?" "+t+'="'+e[t]+'"':" "+t+"='"+e[t]+"'";return n}function s(e,n,r){if(t.opts.fullPage){var i=t.html.extractDoctype(r),o=a(t.html.extractNodeAttrs(r,"html"));n=null==n?t.html.extractNode(r,"head")||"<title></title>":n;var s=a(t.html.extractNodeAttrs(r,"head")),l=a(t.html.extractNodeAttrs(r,"body"));return i+"<html"+o+"><head"+s+">"+n+"</head><body"+l+">"+e+"</body></html>"}return e}function l(n,i){var o=e("<div>"+n+"</div>"),a="";if(o){for(var s=t.node.contents(o.get(0)),l=0;l<s.length;l++)i(s[l]);s=t.node.contents(o.get(0));for(var l=0;l<s.length;l++)a+=r(s[l])}return a}function u(e,n,r){e=i(e);var a=e,u=null;if(t.opts.fullPage){var a=t.html.extractNode(e,"body")||(e.indexOf("<body")>=0?"":e);r&&(u=t.html.extractNode(e,"head")||"")}a=l(a,n),u&&(u=l(u,n));var c=s(a,u,e);return o(c)}function c(e){return e.replace(/\u200b/g,"").length==e.length?e:t.clean.exec(e,n)}function f(){var n=t.el.querySelectorAll(Object.keys(e.FE.HTML5Map).join(","));if(n.length){var r=!1;t.el.querySelector(".fr-marker")||(t.selection.save(),r=!0);for(var i=0;i<n.length;i++)""===t.node.attributes(n[i])&&e(n[i]).replaceWith("<"+e.FE.HTML5Map[n[i].tagName]+">"+n[i].innerHTML+"</"+e.FE.HTML5Map[n[i].tagName]+">");r&&t.selection.restore()}}function d(n){if("SPAN"==n.tagName&&(n.getAttribute("class")||"").indexOf("fr-marker")>=0)return!1;if("PRE"==n.tagName&&h(n),n.nodeType==Node.ELEMENT_NODE&&(n.getAttribute("data-fr-src")&&n.setAttribute("data-fr-src",t.helpers.sanitizeURL(n.getAttribute("data-fr-src"))),n.getAttribute("href")&&n.setAttribute("href",t.helpers.sanitizeURL(n.getAttribute("href"))),["TABLE","TBODY","TFOOT","TR"].indexOf(n.tagName)>=0&&(n.innerHTML=n.innerHTML.trim())),!t.opts.pasteAllowLocalImages&&n.nodeType==Node.ELEMENT_NODE&&"IMG"==n.tagName&&n.getAttribute("data-fr-src")&&0==n.getAttribute("data-fr-src").indexOf("file://"))return n.parentNode.removeChild(n),!1;if(n.nodeType==Node.ELEMENT_NODE&&e.FE.HTML5Map[n.tagName]&&""===t.node.attributes(n)){var r=e.FE.HTML5Map[n.tagName],i="<"+r+">"+n.innerHTML+"</"+r+">";n.insertAdjacentHTML("beforebegin",i),n=n.previousSibling,n.parentNode.removeChild(n.nextSibling)}if(t.opts.htmlAllowComments||n.nodeType!=Node.COMMENT_NODE)if(n.tagName&&n.tagName.match(N))n.parentNode.removeChild(n);else if(n.tagName&&!n.tagName.match(k))n.outerHTML=n.innerHTML;else{var o=n.attributes;if(o)for(var a=o.length-1;a>=0;a--){var s=o[a];s.nodeName.match(D)||n.removeAttribute(s.nodeName)}}else 0!==n.data.indexOf("[FROALA.EDITOR")&&n.parentNode.removeChild(n)}function p(e){for(var n=t.node.contents(e),r=0;r<n.length;r++)n[r].nodeType!=Node.TEXT_NODE&&p(n[r]);d(e)}function h(e){var t=e.innerHTML;t.indexOf("\n")>=0&&(e.innerHTML=t.replace(/\n/g,"<br>"))}function g(n,r,i,o){"undefined"==typeof r&&(r=[]),"undefined"==typeof i&&(i=[]),"undefined"==typeof o&&(o=!1),n=n.replace(/\u0009/g,""),n=n.replace(/<br> */g,"<br>");var a,s=e.merge([],t.opts.htmlAllowedTags);for(a=0;a<r.length;a++)s.indexOf(r[a])>=0&&s.splice(s.indexOf(r[a]),1);var l=e.merge([],t.opts.htmlAllowedAttrs);for(a=0;a<i.length;a++)l.indexOf(i[a])>=0&&l.splice(l.indexOf(i[a]),1);return l.push("data-fr-.*"),l.push("fr-.*"),k=new RegExp("^"+s.join("$|^")+"$","gi"),D=new RegExp("^"+l.join("$|^")+"$","gi"),N=new RegExp("^"+t.opts.htmlRemoveTags.join("$|^")+"$","gi"),n=u(n,p,!0)}function m(){for(var n=t.el.querySelectorAll("blockquote + blockquote"),r=0;r<n.length;r++){var i=n[r];t.node.attributes(i)==t.node.attributes(i.previousSibling)&&(e(i).prev().append(e(i).html()),e(i).remove())}}function v(){for(var e=t.el.querySelectorAll("tr"),n=0;n<e.length;n++){for(var r=e[n].children,i=!0,o=0;o<r.length;o++)if("TH"!=r[o].tagName){i=!1;break}if(0!=i&&0!=r.length){for(var a=e[n];a&&"TABLE"!=a.tagName&&"THEAD"!=a.tagName;)a=a.parentNode;var s=a;"THEAD"!=s.tagName&&(s=t.doc.createElement("THEAD"),a.insertBefore(s,a.firstChild)),s.appendChild(e[n])}}}function b(){var n=t.html.defaultTag();if(n)for(var r=t.el.querySelectorAll("td > "+n+", th > "+n),i=0;i<r.length;i++)""===t.node.attributes(r[i])&&e(r[i]).replaceWith(r[i].innerHTML+"<br>")}function y(){v(),b()}function E(){var e=[],n=function(e){return!t.node.isList(e.parentNode)};do{if(e.length){var r=e[0],i=t.doc.createElement("ul");r.parentNode.insertBefore(i,r);do{var o=r;r=r.nextSibling,i.appendChild(o)}while(r&&"LI"==r.tagName)}e=[];for(var a=t.el.querySelectorAll("li"),s=0;s<a.length;s++)n(a[s])&&e.push(a[s])}while(e.length>0)}function $(){for(var e=t.el.querySelectorAll("ol + ol, ul + ul"),n=0;n<e.length;n++){var r=e[n];if(t.node.isList(r.previousSibling)&&t.node.openTagString(r)==t.node.openTagString(r.previousSibling)){for(var i=t.node.contents(r),o=0;o<i.length;o++)r.previousSibling.appendChild(i[o]);r.parentNode.removeChild(r)}}}function w(){var e,n=function(t){t.querySelector("LI")||(e=!0,t.parentNode.removeChild(t))};do{e=!1;for(var r=t.el.querySelectorAll("li:empty"),i=0;i<r.length;i++)r[i].parentNode.removeChild(r[i]);for(var o=t.el.querySelectorAll("ul, ol"),i=0;i<o.length;i++)n(o[i])}while(e===!0)}function x(){for(var n=t.el.querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),r=0;r<n.length;r++){var i=n[r],o=i.previousSibling;o&&("LI"==o.tagName?o.appendChild(i):e(i).wrap("<li></li>"))}}function C(){for(var n=t.el.querySelectorAll("li > ul, li > ol"),r=0;r<n.length;r++){var i=n[r];if(i.nextSibling){var o=i.nextSibling,a=e("<li>");e(i.parentNode).after(a);do{var s=o;o=o.nextSibling,a.append(s)}while(o)}}}function S(){for(var n=t.el.querySelectorAll("li > ul, li > ol"),r=0;r<n.length;r++){var i=n[r];if(t.node.isFirstSibling(i))e(i).before("<br/>");else if(i.previousSibling&&"BR"==i.previousSibling.tagName){for(var o=i.previousSibling.previousSibling;o&&t.node.hasClass(o,"fr-marker");)o=o.previousSibling;o&&"BR"!=o.tagName&&e(i.previousSibling).remove()}}}function _(){for(var n=t.el.querySelectorAll("li:empty"),r=0;r<n.length;r++)e(n[r]).remove()}function T(){for(var n=t.el.querySelectorAll("ul, ol"),r=0;r<n.length;r++)for(var i=t.node.contents(n[r]),o=null,a=i.length-1;a>=0;a--)"LI"!=i[a].tagName?(o||(o=e("<li>"),o.insertBefore(i[a])),o.prepend(i[a])):o=null}function A(){E(),$(),w(),x(),C(),S(),T(),_()}function O(){t.opts.fullPage&&e.merge(t.opts.htmlAllowedTags,["head","title","style","link","base","body","html","meta"])}var k,N,D,R=[],R=[];return{_init:O,html:g,toHTML5:f,tables:y,lists:A,quotes:m,invisibleSpaces:c,exec:u}},e.FE.MODULES.spaces=function(t){function n(n,r){var i=n.previousSibling,o=n.nextSibling,a=n.textContent,s=n.parentNode;r&&(a=a.replace(/[\f\n\r\t\v ]{2,}/g," "),o&&"BR"!==o.tagName&&!t.node.isBlock(o)||!t.node.isBlock(s)||(a=a.replace(/[\f\n\r\t\v ]{1,}$/g,"")),i&&"BR"!==i.tagName&&!t.node.isBlock(i)||!t.node.isBlock(s)||(a=a.replace(/^[\f\n\r\t\v ]{1,}/g,""))),a=a.replace(new RegExp(e.FE.UNICODE_NBSP,"g")," ");for(var l="",u=0;u<a.length;u++)l+=32!=a.charCodeAt(u)||0!==u&&32!=l.charCodeAt(u-1)?a[u]:e.FE.UNICODE_NBSP;(!o||t.node.isBlock(o)||o.nodeType==Node.ELEMENT_NODE&&t.win.getComputedStyle(o)&&"block"==t.win.getComputedStyle(o).display)&&(l=l.replace(/ $/,e.FE.UNICODE_NBSP)),!i||t.node.isVoid(i)||t.node.isBlock(i)||(l=l.replace(/^\u00A0([^ $])/," $1"),1!==l.length||160!==l.charCodeAt(0)||!o||t.node.isVoid(o)||t.node.isBlock(o)||(l=" ")),l=l.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2"),n.textContent!=l&&(n.textContent=l)}function r(e,r){if("undefined"!=typeof e&&e||(e=t.el),"undefined"==typeof r&&(r=!1),!e.getAttribute||"false"!=e.getAttribute("contenteditable"))if(e.nodeType==Node.TEXT_NODE)n(e,r);else if(e.nodeType==Node.ELEMENT_NODE)for(var i=t.doc.createTreeWalker(e,NodeFilter.SHOW_TEXT,t.node.filter(function(e){return null!=e.textContent.match(/([ \u00A0\f\n\r\t\v]{2,})|(^[ \u00A0\f\n\r\t\v]{1,})|([ \u00A0\f\n\r\t\v]{1,}$)/g)&&!t.node.hasClass(e.parentNode,"fr-marker")}),!1);i.nextNode();)n(i.currentNode,r)}function i(){for(var e=[],n=t.el.querySelectorAll(".fr-marker"),i=0;i<n.length;i++){var o=null,a=t.node.blockParent(n[i]);o=a?a:n[i];for(var s=o.nextSibling,l=o.previousSibling;s&&"BR"==s.tagName;)s=s.nextSibling;for(;l&&"BR"==l.tagName;)l=l.previousSibling;o&&e.indexOf(o)<0&&e.push(o),l&&e.indexOf(l)<0&&e.push(l),s&&e.indexOf(s)<0&&e.push(s)}for(var u=0;u<e.length;u++)r(e[u])}return{normalize:r,normalizeAroundCursor:i}},e.FE.UNICODE_NBSP=String.fromCharCode(160),e.FE.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],e.FE.BLOCK_TAGS=["address","article","aside","audio","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video"],e.extend(e.FE.DEFAULTS,{htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style","script",".fa",".fr-emoticon"],htmlDoNotWrapTags:["script","style"],htmlSimpleAmpersand:!1,htmlIgnoreCSSProperties:[]}),e.FE.MODULES.html=function(t){function n(){return t.opts.enter==e.FE.ENTER_P?"p":t.opts.enter==e.FE.ENTER_DIV?"div":t.opts.enter==e.FE.ENTER_BR?null:void 0}function r(n){var r=[],i=[];if(n)for(var a=t.el.querySelectorAll(".fr-marker"),s=0;s<a.length;s++){var l=t.node.blockParent(a[s])||a[s];if(l){var u=l.nextSibling,c=l.previousSibling;l&&i.indexOf(l)<0&&t.node.isBlock(l)&&i.push(l),c&&t.node.isBlock(c)&&i.indexOf(c)<0&&i.push(c),u&&t.node.isBlock(u)&&i.indexOf(u)<0&&i.push(u)}}else i=t.el.querySelectorAll(o());var f=o();f+=","+e.FE.VOID_ELEMENTS.join(","),f+=","+t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)";for(var s=i.length-1;s>=0;s--)if(!(i[s].textContent&&i[s].textContent.replace(/\u200B|\n/g,"").length>0||i[s].querySelectorAll(f).length>0)){for(var d=t.node.contents(i[s]),p=!1,h=0;h<d.length;h++)if(d[h].nodeType!=Node.COMMENT_NODE&&d[h].textContent&&d[h].textContent.replace(/\u200B|\n/g,"").length>0){p=!0;break}p||r.push(i[s])}return r}function i(){return e.FE.BLOCK_TAGS.join(":empty, ")+":empty"}function o(){return e.FE.BLOCK_TAGS.join(", ")}function a(n){var r=e.merge([],e.FE.VOID_ELEMENTS);r=e.merge(r,t.opts.htmlAllowedEmptyTags),"undefined"==typeof n&&(r=e.merge(r,e.FE.BLOCK_TAGS));var i,o;i=t.el.querySelectorAll("*:empty:not("+r.join("):not(")+"):not(.fr-marker)");do{o=!1;for(var a=0;a<i.length;a++)0!==i[a].attributes.length&&"undefined"==typeof i[a].getAttribute("href")||(i[a].parentNode.removeChild(i[a]),o=!0);i=t.el.querySelectorAll("*:empty:not("+r.join("):not(")+"):not(.fr-marker)")}while(i.length&&o)}function s(e,r){var i=n();if(r&&(i="div"),i){for(var o=t.doc.createDocumentFragment(),a=null,s=!1,l=e.firstChild;l;){var u=l.nextSibling;if(l.nodeType==Node.ELEMENT_NODE&&(t.node.isBlock(l)||t.opts.htmlDoNotWrapTags.indexOf(l.tagName.toLowerCase())>=0&&!t.node.hasClass(l,"fr-marker")))a=null,o.appendChild(l);else if(l.nodeType!=Node.ELEMENT_NODE&&l.nodeType!=Node.TEXT_NODE)a=null,o.appendChild(l);else if("BR"==l.tagName)null==a?(a=t.doc.createElement(i),r&&a.setAttribute("data-empty",!0),a.appendChild(l),o.appendChild(a)):s===!1&&(a.appendChild(t.doc.createElement("br")),a.setAttribute("data-empty",!0)),a=null;else{var c=l.textContent;l.nodeType==Node.TEXT_NODE&&0==c.replace(/\n/g,"").replace(/(^ *)|( *$)/g,"").length||(null==a&&(a=t.doc.createElement(i),r&&a.setAttribute("class","fr-temp-div"),o.appendChild(a),s=!1),a.appendChild(l),s||t.node.hasClass(l,"fr-marker")||l.nodeType==Node.TEXT_NODE&&0===c.replace(/ /g,"").length||(s=!0))}l=u}e.innerHTML="",e.appendChild(o)}}function l(e,t){for(var n=0;n<e.length;n++)s(e[n],t)}function u(e,n,r,i){return!!t.$wp&&("undefined"==typeof e&&(e=!1),"undefined"==typeof n&&(n=!1),"undefined"==typeof r&&(r=!1),"undefined"==typeof i&&(i=!1),s(t.el,e),i&&l(t.el.querySelectorAll(".fr-inner"),e),n&&l(t.el.querySelectorAll("td, th"),e),void(r&&l(t.el.querySelectorAll("blockquote"),e)))}function c(){t.$el.find("div.fr-temp-div").each(function(){e(this).data("empty")||"LI"==this.parentNode.tagName||t.node.isBlock(this.nextSibling)&&!e(this.nextSibling).hasClass("fr-temp-div")?e(this).replaceWith(e(this).html()):e(this).replaceWith(e(this).html()+"<br>")}),t.$el.find(".fr-temp-div").removeClass("fr-temp-div").filter(function(){return""==e(this).attr("class")}).removeAttr("class")}function f(n){for(var i=r(n),o=0;o<i.length;o++){var a=i[o];"false"==a.getAttribute("contenteditable")||a.querySelector(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)")||t.node.isVoid(a)||"TABLE"!=a.tagName&&"TBODY"!=a.tagName&&"TR"!=a.tagName&&a.appendChild(t.doc.createElement("br"))}if(t.browser.msie&&t.opts.enter==e.FE.ENTER_BR){var s=t.node.contents(t.el);s.length&&s[s.length-1].nodeType==Node.TEXT_NODE&&t.$el.append("<br>")}}function d(){return t.$el.get(0).querySelectorAll(o())}function p(e){if("undefined"==typeof e&&(e=t.el),e&&["SCRIPT","STYLE","PRE"].indexOf(e.tagName)>=0)return!1;for(var n=t.doc.createTreeWalker(e,NodeFilter.SHOW_TEXT,t.node.filter(function(e){return null!=e.textContent.match(/([ \n]{2,})|(^[ \n]{1,})|([ \n]{1,}$)/g)}),!1);n.nextNode();){var r=n.currentNode,i=t.node.isBlock(r.parentNode)||t.node.isElement(r.parentNode),o=r.textContent.replace(/(?!^)( ){2,}(?!$)/g," ").replace(/\n/g," ").replace(/^[ ]{2,}/g," ").replace(/[ ]{2,}$/g," ");if(i){var a=r.previousSibling,s=r.nextSibling;a&&s&&" "==o?o=t.node.isBlock(a)&&t.node.isBlock(s)?"":"\n":(a||(o=o.replace(/^ */,"")),s||(o=o.replace(/ *$/,"")))}r.textContent=o}}function h(e,t,n){var r=new RegExp(t,"gi"),i=r.exec(e);return i?i[n]:null}function g(e,t){var n=e.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i);return n?t.implementation.createDocumentType(n[1],n[3],n[4]):t.implementation.createDocumentType("html")}function m(e){var t=e.doctype,n="<!DOCTYPE html>";return t&&(n="<!DOCTYPE "+t.name+(t.publicId?' PUBLIC "'+t.publicId+'"':"")+(!t.publicId&&t.systemId?" SYSTEM":"")+(t.systemId?' "'+t.systemId+'"':"")+">"),n}function v(n,r){var i=n.parentNode;if(i&&(t.node.isBlock(i)||t.node.isElement(i))&&["TD","TH"].indexOf(i.tagName)<0){var o=n.previousSibling,a=n.nextSibling;o&&i&&"BR"!=o.tagName&&!t.node.isBlock(o)&&!a&&i.textContent.replace(/\u200B/g,"").length>0&&o.textContent.length>0&&!t.node.hasClass(o,"fr-marker")&&(t.el==i&&!a&&t.opts.enter==e.FE.ENTER_BR&&t.browser.msie||(r&&t.selection.save(),n.parentNode.removeChild(n),r&&t.selection.restore()))}}function b(){var e,n=t.selection.element();e=t.node.isBlock(n)?n:t.node.blockParent(n);var r=[];if(e){var i=e.nextSibling,o=e.previousSibling;e&&r.indexOf(e)<0&&r.push(e),o&&t.node.isBlock(o)&&r.indexOf(o)<0&&r.push(o),i&&t.node.isBlock(i)&&r.indexOf(i)<0&&r.push(i)}for(var a=[],s=0;s<r.length;s++)for(var l=r[s].querySelectorAll("br"),u=0;u<l.length;u++)a.indexOf(l[u])<0&&a.push(l[u]);if(n.parentNode==t.el)for(var c=t.el.children,s=0;s<c.length;s++)"BR"==c[s].tagName&&a.indexOf(c[s])<0&&a.push(c[s]);return a}function y(e,n){var r;if(e){r=b();for(var i=0;i<r.length;i++)v(r[i],n)}else{r=t.el.getElementsByTagName("br");for(var i=0;i<r.length;i++)v(r[i],n)}}function E(){t.opts.htmlUntouched||(a(),u()),p(),t.opts.htmlUntouched||(t.spaces.normalize(null,!0),t.html.fillEmptyBlocks(),t.clean.quotes(),t.clean.lists(),t.clean.tables(),t.clean.toHTML5(),t.html.cleanBRs()),t.selection.restore(),$(),t.placeholder.refresh()}function $(){t.core.isEmpty()&&(null!=n()?t.el.querySelector(o())||t.el.querySelector(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)")||(t.core.hasFocus()?(t.$el.html("<"+n()+">"+e.FE.MARKERS+"<br/></"+n()+">"),t.selection.restore()):t.$el.html("<"+n()+"><br/></"+n()+">")):t.el.querySelector("*:not(.fr-marker):not(br)")||(t.core.hasFocus()?(t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore()):t.$el.html("<br/>")))}function w(e,t){return h(e,"<"+t+"[^>]*?>([\\w\\W]*)</"+t+">",1)}function x(n,r){var i=e("<div "+(h(n,"<"+r+"([^>]*?)>",1)||"")+">");return t.node.rawAttributes(i.get(0))}function C(e){return h(e,"<!DOCTYPE([^>]*?)>",0)||"<!DOCTYPE html>"}function S(n){var r=t.clean.html(n||"",[],[],t.opts.fullPage);if(t.opts.fullPage){var i=w(r,"body")||(r.indexOf("<body")>=0?"":r),o=x(r,"body"),a=w(r,"head")||"<title></title>",s=x(r,"head"),l=e("<div>").append(a).contents().each(function(){(this.nodeType==Node.COMMENT_NODE||["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName)>=0)&&this.parentNode.removeChild(this)}).end().html().trim();a=e("<div>").append(a).contents().map(function(){return this.nodeType==Node.COMMENT_NODE?"<!--"+this.nodeValue+"-->":["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName)>=0?this.outerHTML:""}).toArray().join("");var u=C(r),c=x(r,"html");t.$el.html(l+"\n"+i),t.node.clearAttributes(t.el),t.$el.attr(o),t.$el.addClass("fr-view"),t.$el.attr("spellcheck",t.opts.spellcheck),t.$el.attr("dir",t.opts.direction),t.$head.html(a),t.node.clearAttributes(t.$head.get(0)),t.$head.attr(s),t.node.clearAttributes(t.$html.get(0)),t.$html.attr(c),t.iframe_document.doctype.parentNode.replaceChild(g(u,t.iframe_document),t.iframe_document.doctype)}else t.$el.html(r);var f=t.edit.isDisabled();t.edit.on(),t.core.injectStyle(t.opts.iframeStyle),E(),t.opts.useClasses||(t.$el.find("[fr-original-class]").each(function(){this.setAttribute("class",this.getAttribute("fr-original-class")),this.removeAttribute("fr-original-class")}),t.$el.find("[fr-original-style]").each(function(){this.setAttribute("style",this.getAttribute("fr-original-style")),this.removeAttribute("fr-original-style")})),f&&t.edit.off(),t.events.trigger("html.set")}function _(e){var t=/(#[^\s\+>~\.\[:]+)/g,n=/(\[[^\]]+\])/g,r=/(\.[^\s\+>~\.\[:]+)/g,i=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,o=/(:[\w-]+\([^\)]*\))/gi,a=/(:[^\s\+>~\.\[:]+)/g,s=/([^\s\+>~\.\[:]+)/g;!function(){var t=/:not\(([^\)]*)\)/g;t.test(e)&&(e=e.replace(t,"     $1 "))}();var l=100*(e.match(t)||[]).length+10*(e.match(n)||[]).length+10*(e.match(r)||[]).length+10*(e.match(o)||[]).length+10*(e.match(a)||[]).length+(e.match(i)||[]).length;return e=e.replace(/[\*\s\+>~]/g," "),e=e.replace(/[#\.]/g," "),l+=(e.match(s)||[]).length}function T(e){if(t.events.trigger("html.processGet",[e]),e&&e.getAttribute&&""==e.getAttribute("class")&&e.removeAttribute("class"),e&&e.nodeType==Node.ELEMENT_NODE)for(var n=e.querySelectorAll('[class=""]'),r=0;r<n.length;r++)n[r].removeAttribute("class")}function A(e,n){if(!t.$wp)return t.$oel.clone().removeClass("fr-view").removeAttr("contenteditable").get(0).outerHTML;var r="";t.events.trigger("html.beforeGet");var i,o=[],a={};if(!t.opts.useClasses&&!n){var s=new RegExp("^"+t.opts.htmlIgnoreCSSProperties.join("$|^")+"$","gi");for(i=0;i<t.doc.styleSheets.length;i++){var l,u=0;try{l=t.doc.styleSheets[i].cssRules,t.doc.styleSheets[i].ownerNode&&"STYLE"==t.doc.styleSheets[i].ownerNode.nodeType&&(u=1)}catch(c){}if(l)for(var f=0,d=l.length;f<d;f++)if(l[f].selectorText&&l[f].style.cssText.length>0){var p,h=l[f].selectorText.replace(/body |\.fr-view /g,"").replace(/::/g,":");try{p=t.el.querySelectorAll(h)}catch(c){p=[]}for(var g=0;g<p.length;g++){!p[g].getAttribute("fr-original-style")&&p[g].getAttribute("style")?(p[g].setAttribute("fr-original-style",p[g].getAttribute("style")),o.push(p[g])):p[g].getAttribute("fr-original-style")||o.push(p[g]),a[p[g]]||(a[p[g]]={});for(var v=1e3*u+_(l[f].selectorText),b=l[f].style.cssText.split(";"),y=0;y<b.length;y++){var E=b[y].trim().split(":")[0];E.match(s)||(a[p[g]][E]||(a[p[g]][E]=0,(p[g].getAttribute("fr-original-style")||"").indexOf(E+":")>=0&&(a[p[g]][E]=1e4)),v>=a[p[g]][E]&&(a[p[g]][E]=v,b[y].trim().length&&(p[g].style[E.trim()]=b[y].trim().split(":")[1].trim())))}}}}for(i=0;i<o.length;i++)if(o[i].getAttribute("class")&&(o[i].setAttribute("fr-original-class",o[i].getAttribute("class")),o[i].removeAttribute("class")),(o[i].getAttribute("fr-original-style")||"").trim().length>0)for(var $=o[i].getAttribute("fr-original-style").split(";"),g=0;g<$.length;g++)$[g].indexOf(":")>0&&(o[i].style[$[g].split(":")[0].trim()]=$[g].split(":")[1].trim())}if(t.core.isEmpty()?t.opts.fullPage&&(r=m(t.iframe_document),r+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.find("head").get(0).outerHTML+"<body></body></html>"):("undefined"==typeof e&&(e=!1),t.opts.fullPage?(r=m(t.iframe_document),t.$el.removeClass("fr-view"),r+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.html()+"</html>",t.$el.addClass("fr-view")):r=t.$el.html()),!t.opts.useClasses&&!n)for(i=0;i<o.length;i++)o[i].getAttribute("fr-original-class")&&(o[i].setAttribute("class",o[i].getAttribute("fr-original-class")),o[i].removeAttribute("fr-original-class")),o[i].getAttribute("fr-original-style")?(o[i].setAttribute("style",o[i].getAttribute("fr-original-style")),o[i].removeAttribute("fr-original-style")):o[i].removeAttribute("style");t.opts.fullPage&&(r=r.replace(/<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,""),r=r.replace(/<link([^>]*)data-fr-style="true"([^>]*)>/g,""),r=r.replace(/<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,""),r=r.replace(/<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>"),r=r.replace(/<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),r=r.replace(/<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),r=r.replace(/<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,'<body$1class="$2$4"$5>$6</body>'),r=r.replace(/<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")),t.opts.htmlSimpleAmpersand&&(r=r.replace(/\&amp;/gi,"&")),t.events.trigger("html.afterGet"),e||(r=r.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,"")),r=t.clean.invisibleSpaces(r),r=t.clean.exec(r,T);var w=t.events.chainTrigger("html.get",r);return"string"==typeof w&&(r=w),r=r.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(e){return e.replace(/<br>/g,"\n")})}function O(){var n=function(n,r){for(;r&&(r.nodeType==Node.TEXT_NODE||!t.node.isBlock(r))&&!t.node.isElement(r);)r&&r.nodeType!=Node.TEXT_NODE&&e(n).wrapInner(t.node.openTagString(r)+t.node.closeTagString(r)),r=r.parentNode;r&&n.innerHTML==r.innerHTML&&(n.innerHTML=r.outerHTML)},r=function(){var n,r=null;return t.win.getSelection?(n=t.win.getSelection(),n&&n.rangeCount&&(r=n.getRangeAt(0).commonAncestorContainer,r.nodeType!=Node.ELEMENT_NODE&&(r=r.parentNode))):(n=t.doc.selection)&&"Control"!=n.type&&(r=n.createRange().parentElement()),null!=r&&(e.inArray(t.el,e(r).parents())>=0||r==t.el)?r:null},i="";if("undefined"!=typeof t.win.getSelection){t.browser.mozilla&&(t.selection.save(),t.$el.find('.fr-marker[data-type="false"]').length>1&&(t.$el.find('.fr-marker[data-type="false"][data-id="0"]').remove(),t.$el.find('.fr-marker[data-type="false"]:last').attr("data-id","0"),t.$el.find(".fr-marker").not('[data-id="0"]').remove()),t.selection.restore());for(var o=t.selection.ranges(),a=0;a<o.length;a++){var s=document.createElement("div");s.appendChild(o[a].cloneContents()),n(s,r()),e(s).find(".fr-element").length>0&&(s=t.el),i+=s.innerHTML}}else"undefined"!=typeof t.doc.selection&&"Text"==t.doc.selection.type&&(i=t.doc.selection.createRange().htmlText);return i}function k(e){var n=t.doc.createElement("div");return n.innerHTML=e,null!==n.querySelector(o())}function N(e){var n=t.doc.createElement("div");return n.innerHTML=e,t.selection.setAtEnd(n),n.innerHTML}function D(e){return e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&#39;")}function R(e,n,r){t.selection.isCollapsed()||t.selection.remove();var i;if(i=n?e:t.clean.html(e),i=i.replace(/\r|\n/g," "),e.indexOf('class="fr-marker"')<0&&(i=N(i)),t.core.isEmpty()&&!t.opts.keepFormatOnDelete)t.el.innerHTML=i;else{var o=t.markers.insert();if(o){var a,s=t.node.blockParent(o);if((k(i)||r)&&(a=t.node.deepestParent(o)||s&&"LI"==s.tagName)){var o=t.markers.split();if(!o)return!1;o.outerHTML=i}else o.outerHTML=i}else t.el.innerHTML=t.el.innerHTML+i}E(),t.events.trigger("html.inserted")}function M(n){var r=null;if("undefined"==typeof n&&(r=t.selection.element()),t.opts.keepFormatOnDelete)return!1;var i=r?(r.textContent.match(/\u200B/g)||[]).length-r.querySelectorAll(".fr-marker").length:0,o=(t.el.textContent.match(/\u200B/g)||[]).length-t.el.querySelectorAll(".fr-marker").length;if(o==i)return!1;var a,s;do{s=!1,a=t.el.querySelectorAll("*:not(.fr-marker)");for(var l=0;l<a.length;l++){var u=a[l];if(r!=u){var c=u.textContent;0===u.children.length&&1===c.length&&8203==c.charCodeAt(0)&&(e(u).remove(),s=!0)}}}while(s)}function I(){var e=function(){M(),t.placeholder&&t.placeholder.refresh()};t.events.on("mouseup",e),t.events.on("keydown",e),t.events.on("contentChanged",$)}return{defaultTag:n,emptyBlocks:r,emptyBlockTagsQuery:i,blockTagsQuery:o,fillEmptyBlocks:f,cleanEmptyTags:a,cleanWhiteTags:M,cleanBlankSpaces:p,blocks:d,getDoctype:m,set:S,get:A,getSelected:O,insert:R,wrap:u,unwrap:c,escapeEntities:D,checkIfEmpty:$,extractNode:w,extractNodeAttrs:x,extractDoctype:C,cleanBRs:y,_init:I}},e.extend(e.FE.DEFAULTS,{height:null,heightMax:null,heightMin:null,width:null}),e.FE.MODULES.size=function(e){function t(){n(),e.opts.height&&e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$iframe.height(e.$el.outerHeight(!0))}function n(){e.opts.heightMin?e.$el.css("minHeight",e.opts.heightMin):e.$el.css("minHeight",""),e.opts.heightMax?(e.$wp.css("maxHeight",e.opts.heightMax),e.$wp.css("overflow","auto")):(e.$wp.css("maxHeight",""),e.$wp.css("overflow","")),e.opts.height?(e.$wp.height(e.opts.height),e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$wp.css("overflow","auto")):(e.$wp.css("height",""),e.opts.heightMin||e.$el.css("minHeight",""),e.opts.heightMax||e.$wp.css("overflow","")),e.opts.width&&e.$box.width(e.opts.width)}function r(){return!!e.$wp&&(n(),void(e.$iframe&&(e.events.on("keyup",t),e.events.on("commands.after",t),e.events.on("html.set",t),e.events.on("init",t),e.events.on("initialized",t))))}return{_init:r,syncIframe:t,refresh:n}},e.extend(e.FE.DEFAULTS,{language:null}),e.FE.LANGUAGE={},e.FE.MODULES.language=function(t){function n(e){return i&&i.translation[e]?i.translation[e]:e}function r(){e.FE.LANGUAGE&&(i=e.FE.LANGUAGE[t.opts.language]),i&&i.direction&&(t.opts.direction=i.direction)}var i;return{_init:r,translate:n}},e.extend(e.FE.DEFAULTS,{placeholderText:"Type something"}),e.FE.MODULES.placeholder=function(t){function n(){t.$placeholder||a();var n=0,r=0,i=0,o=0,s=0,l=0,u=t.node.contents(t.el),c=e(t.selection.element()).css("text-align");if(u.length&&u[0].nodeType==Node.ELEMENT_NODE){var f=e(u[0]);!t.opts.toolbarInline&&t.ready&&(n=t.helpers.getPX(f.css("margin-top")),o=t.helpers.getPX(f.css("padding-top")),r=t.helpers.getPX(f.css("margin-left")),i=t.helpers.getPX(f.css("margin-right")),s=t.helpers.getPX(f.css("padding-left")),l=t.helpers.getPX(f.css("padding-right"))),t.$placeholder.css("font-size",f.css("font-size")),t.$placeholder.css("line-height",f.css("line-height"))}else t.$placeholder.css("font-size",t.$el.css("font-size")),t.$placeholder.css("line-height",t.$el.css("line-height"));t.$wp.addClass("show-placeholder"),t.$placeholder.css({marginTop:Math.max(t.helpers.getPX(t.$el.css("margin-top")),n),paddingTop:Math.max(t.helpers.getPX(t.$el.css("padding-top")),o),paddingLeft:Math.max(t.helpers.getPX(t.$el.css("padding-left")),s),marginLeft:Math.max(t.helpers.getPX(t.$el.css("margin-left")),r),paddingRight:Math.max(t.helpers.getPX(t.$el.css("padding-right")),l),marginRight:Math.max(t.helpers.getPX(t.$el.css("margin-right")),i),textAlign:c}).text(t.language.translate(t.opts.placeholderText||t.$oel.attr("placeholder")||"")),t.$placeholder.html(t.$placeholder.text().replace(/\n/g,"<br>"))}function r(){t.$wp.removeClass("show-placeholder")}function i(){return!t.$wp||t.node.hasClass(t.$wp.get(0),"show-placeholder")}function o(){return!!t.$wp&&void(t.core.isEmpty()?n():r())}function a(){t.$placeholder=e('<span class="fr-placeholder"></span>'),t.$wp.append(t.$placeholder)}function s(){return!!t.$wp&&void t.events.on("init input keydown keyup contentChanged initialized",o)}return{_init:s,show:n,hide:r,refresh:o,isVisible:i}},e.FE.MODULES.edit=function(e){function t(){if(e.browser.mozilla)try{e.doc.execCommand("enableObjectResizing",!1,"false"),e.doc.execCommand("enableInlineTableEditing",!1,"false")}catch(t){}if(e.browser.msie)try{e.doc.body.addEventListener("mscontrolselect",function(e){return e.preventDefault(),!1})}catch(t){}}function n(){e.$wp?(e.$el.attr("contenteditable",!0),e.$el.removeClass("fr-disabled").attr("aria-disabled",!1),e.$tb&&e.$tb.removeClass("fr-disabled").attr("aria-disabled",!1),t()):e.$el.is("a")&&e.$el.attr("contenteditable",!0),o=!1}function r(){e.$wp?(e.$el.attr("contenteditable",!1),e.$el.addClass("fr-disabled").attr("aria-disabled",!0),e.$tb&&e.$tb.addClass("fr-disabled").attr("aria-disabled",!0)):e.$el.is("a")&&e.$el.attr("contenteditable",!1),o=!0}function i(){return o}var o=!1;return{on:n,off:r,disableDesign:t,isDisabled:i}},e.extend(e.FE.DEFAULTS,{editorClass:null,typingTimer:500,iframe:!1,requestWithCORS:!0,requestWithCredentials:!1,requestHeaders:{},useClasses:!0,spellcheck:!0,iframeStyle:'html{margin:0px;height:auto;}body{height:auto;padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:"";display:block;clear:both;}',iframeStyleFiles:[],direction:"auto",zIndex:1,disableRightClick:!1,scrollableContainer:"body",keepFormatOnDelete:!1,theme:null}),e.FE.MODULES.core=function(t){function n(n){if(t.opts.iframe){t.$head.find("style[data-fr-style], link[data-fr-style]").remove(),t.$head.append('<style data-fr-style="true">'+n+"</style>");for(var r=0;r<t.opts.iframeStyleFiles.length;r++){var i=e('<link data-fr-style="true" rel="stylesheet" href="'+t.opts.iframeStyleFiles[r]+'">');i.get(0).addEventListener("load",t.size.syncIframe),t.$head.append(i)}}}function r(){t.opts.iframe||t.$el.addClass("fr-element fr-view")}function i(){if(t.$box.addClass("fr-box"+(t.opts.editorClass?" "+t.opts.editorClass:"")),t.$wp.addClass("fr-wrapper"),r(),t.opts.iframe){t.$iframe.addClass("fr-iframe"),t.$el.addClass("fr-view");for(var e=0;e<t.o_doc.styleSheets.length;e++){var n;try{n=t.o_doc.styleSheets[e].cssRules}catch(i){}if(n)for(var o=0,a=n.length;o<a;o++)!n[o].selectorText||0!==n[o].selectorText.indexOf(".fr-view")&&0!==n[o].selectorText.indexOf(".fr-element")||n[o].style.cssText.length>0&&(0===n[o].selectorText.indexOf(".fr-view")?t.opts.iframeStyle+=n[o].selectorText.replace(/\.fr-view/g,"body")+"{"+n[o].style.cssText+"}":t.opts.iframeStyle+=n[o].selectorText.replace(/\.fr-element/g,"body")+"{"+n[o].style.cssText+"}");
}}"auto"!=t.opts.direction&&t.$box.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.$el.attr("dir",t.opts.direction),t.$wp.attr("dir",t.opts.direction),t.opts.zIndex>1&&t.$box.css("z-index",t.opts.zIndex),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme")}function o(){return t.node.isEmpty(t.el)}function a(){t.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!t.win.FormData,progress:"upload"in new XMLHttpRequest}}function s(e,n){var r=new XMLHttpRequest;r.open(n,e,!0),t.opts.requestWithCredentials&&(r.withCredentials=!0);for(var i in t.opts.requestHeaders)t.opts.requestHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,t.opts.requestHeaders[i]);return r}function l(e){"TEXTAREA"==t.$oel.get(0).tagName&&t.$oel.val(e),t.$wp&&("TEXTAREA"==t.$oel.get(0).tagName?(t.$el.html(""),t.$wp.html(""),t.$box.replaceWith(t.$oel),t.$oel.show()):(t.$wp.replaceWith(e),t.$el.html(""),t.$box.removeClass("fr-view fr-ltr fr-box "+(t.opts.editorClass||"")),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme"))),this.$wp=null,this.$el=null,this.el=null,this.$box=null}function u(){return t.browser.mozilla&&t.helpers.isMobile()?t.selection.inEditor():t.node.hasFocus(t.el)||t.$el.find("*:focus").length>0}function c(e){if(!e)return!1;var n=e.data("instance");return!!n&&n.id==t.id}function f(){if(e.FE.INSTANCES.push(t),a(),t.$wp){i(),t.html.set(t._original_html),t.$el.attr("spellcheck",t.opts.spellcheck),t.helpers.isMobile()&&(t.$el.attr("autocomplete",t.opts.spellcheck?"on":"off"),t.$el.attr("autocorrect",t.opts.spellcheck?"on":"off"),t.$el.attr("autocapitalize",t.opts.spellcheck?"on":"off")),t.opts.disableRightClick&&t.events.$on(t.$el,"contextmenu",function(e){if(2==e.button)return!1});try{t.doc.execCommand("styleWithCSS",!1,!1)}catch(n){}}"TEXTAREA"==t.$oel.get(0).tagName&&(t.events.on("contentChanged",function(){t.$oel.val(t.html.get())}),t.events.on("form.submit",function(){t.$oel.val(t.html.get())}),t.events.on("form.reset",function(){t.html.set(t._original_html)}),t.$oel.val(t.html.get())),t.helpers.isIOS()&&t.events.$on(t.$doc,"selectionchange",function(){t.$doc.get(0).hasFocus()||t.$win.get(0).focus()}),t.events.trigger("init")}return{_init:f,destroy:l,isEmpty:o,getXHR:s,injectStyle:n,hasFocus:u,sameInstance:c}},e.FE.MODULES.cursorLists=function(t){function n(e){for(var t=e;"LI"!=t.tagName;)t=t.parentNode;return t}function r(e){for(var n=e;!t.node.isList(n);)n=n.parentNode;return n}function i(i){var o,a=n(i),s=a.nextSibling,l=a.previousSibling,u=t.html.defaultTag();if(t.node.isEmpty(a,!0)&&s){for(var c="",f="",d=i.parentNode;!t.node.isList(d)&&d.parentNode&&"LI"!==d.parentNode.tagName;)c=t.node.openTagString(d)+c,f+=t.node.closeTagString(d),d=d.parentNode;c=t.node.openTagString(d)+c,f+=t.node.closeTagString(d);var p="";for(p=d.parentNode&&"LI"==d.parentNode.tagName?f+"<li>"+e.FE.MARKERS+"<br>"+c:u?f+"<"+u+">"+e.FE.MARKERS+"<br></"+u+">"+c:f+e.FE.MARKERS+"<br>"+c,e(a).html('<span id="fr-break"></span>');["UL","OL"].indexOf(d.tagName)<0||d.parentNode&&"LI"===d.parentNode.tagName;)d=d.parentNode;var h=t.node.openTagString(d)+e(d).html()+t.node.closeTagString(d);h=h.replace(/<span id="fr-break"><\/span>/g,p),e(d).replaceWith(h),t.$el.find("li:empty").remove()}else l&&s||!t.node.isEmpty(a,!0)?(e(a).before("<li><br></li>"),e(i).remove()):l?(o=r(a),o.parentNode&&"LI"==o.parentNode.tagName?e(o.parentNode).after("<li>"+e.FE.MARKERS+"<br></li>"):u?e(o).after("<"+u+">"+e.FE.MARKERS+"<br></"+u+">"):e(o).after(e.FE.MARKERS+"<br>"),e(a).remove()):(o=r(a),o.parentNode&&"LI"==o.parentNode.tagName?s?e(o.parentNode).before("<li>"+e.FE.MARKERS+"<br></li>"):e(o.parentNode).after("<li>"+e.FE.MARKERS+"<br></li>"):u?e(o).before("<"+u+">"+e.FE.MARKERS+"<br></"+u+">"):e(o).before(e.FE.MARKERS+"<br>"),e(a).remove())}function o(r){for(var i=n(r),o="",a=r,s="",l="";a!=i;){a=a.parentNode;var u="A"==a.tagName&&t.cursor.isAtEnd(r,a)?"fr-to-remove":"";s=t.node.openTagString(e(a).clone().addClass(u).get(0))+s,l=t.node.closeTagString(a)+l}o=l+o+s+e.FE.MARKERS,e(r).replaceWith('<span id="fr-break"></span>');var c=t.node.openTagString(i)+e(i).html()+t.node.closeTagString(i);c=c.replace(/<span id="fr-break"><\/span>/g,o),e(i).replaceWith(c)}function a(r){for(var i=n(r),o=e.FE.MARKERS,a="",s=r,l=!1;s!=i;){s=s.parentNode;var u="A"==s.tagName&&t.cursor.isAtEnd(r,s)?"fr-to-remove":"";l||s==i||t.node.isBlock(s)||(l=!0,a+=e.FE.INVISIBLE_SPACE),a=t.node.openTagString(e(s).clone().addClass(u).get(0))+a,o+=t.node.closeTagString(s)}var c=a+o;e(r).remove(),e(i).after(c)}function s(i){var o=n(i),a=o.previousSibling;if(a){a=e(a).find(t.html.blockTagsQuery()).get(-1)||a,e(i).replaceWith(e.FE.MARKERS);var s=t.node.contents(a);s.length&&"BR"==s[s.length-1].tagName&&e(s[s.length-1]).remove(),e(o).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==o&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))});for(var l,u=t.node.contents(o)[0];u&&!t.node.isList(u);)l=u.nextSibling,e(a).append(u),u=l;for(a=o.previousSibling;u;)l=u.nextSibling,e(a).append(u),u=l;e(o).remove()}else{var c=r(o);if(e(i).replaceWith(e.FE.MARKERS),c.parentNode&&"LI"==c.parentNode.tagName){var f=c.previousSibling;t.node.isBlock(f)?(e(o).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==o&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}),e(f).append(e(o).html())):e(c).before(e(o).html())}else{var d=t.html.defaultTag();d&&0===e(o).find(t.html.blockTagsQuery()).length?e(c).before("<"+d+">"+e(o).html()+"</"+d+">"):e(c).before(e(o).html())}e(o).remove(),0===e(c).find("li").length&&e(c).remove()}}function l(r){var i,o=n(r),a=o.nextSibling;if(a){i=t.node.contents(a),i.length&&"BR"==i[0].tagName&&e(i[0]).remove(),e(a).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==a&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))});for(var s,l=r,u=t.node.contents(a)[0];u&&!t.node.isList(u);)s=u.nextSibling,e(l).after(u),l=u,u=s;for(;u;)s=u.nextSibling,e(o).append(u),u=s;e(r).replaceWith(e.FE.MARKERS),e(a).remove()}else{for(var c=o;!c.nextSibling&&c!=t.el;)c=c.parentNode;if(c==t.el)return!1;if(c=c.nextSibling,t.node.isBlock(c))e.FE.NO_DELETE_TAGS.indexOf(c.tagName)<0&&(e(r).replaceWith(e.FE.MARKERS),i=t.node.contents(o),i.length&&"BR"==i[i.length-1].tagName&&e(i[i.length-1]).remove(),e(o).append(e(c).html()),e(c).remove());else for(i=t.node.contents(o),i.length&&"BR"==i[i.length-1].tagName&&e(i[i.length-1]).remove(),e(r).replaceWith(e.FE.MARKERS);c&&!t.node.isBlock(c)&&"BR"!=c.tagName;)e(o).append(e(c)),c=c.nextSibling}}return{_startEnter:i,_middleEnter:o,_endEnter:a,_backspace:s,_del:l}},e.FE.NO_DELETE_TAGS=["TH","TD","TR","TABLE","FORM"],e.FE.SIMPLE_ENTER_TAGS=["TH","TD","LI","DL","DT","FORM"],e.FE.MODULES.cursor=function(t){function n(e){return!!e&&(!!t.node.isBlock(e)||(e.nextSibling&&e.nextSibling.nodeType==Node.TEXT_NODE&&0==e.nextSibling.textContent.replace(/\u200b/g,"").length?n(e.nextSibling):!e.nextSibling&&n(e.parentNode)))}function r(e){return!!e&&(!!t.node.isBlock(e)||(e.previousSibling&&e.previousSibling.nodeType==Node.TEXT_NODE&&0==e.previousSibling.textContent.replace(/\u200b/g,"").length?r(e.previousSibling):!e.previousSibling&&r(e.parentNode)))}function i(e,n){return!!e&&e!=t.$wp.get(0)&&(e.previousSibling&&e.previousSibling.nodeType==Node.TEXT_NODE&&0==e.previousSibling.textContent.replace(/\u200b/g,"").length?i(e.previousSibling,n):!e.previousSibling&&(e.parentNode==n||i(e.parentNode,n)))}function o(e,n){return!!e&&e!=t.$wp.get(0)&&(e.nextSibling&&e.nextSibling.nodeType==Node.TEXT_NODE&&0==e.nextSibling.textContent.replace(/\u200b/g,"").length?o(e.nextSibling,n):!e.nextSibling&&(e.parentNode==n||o(e.parentNode,n)))}function a(n){return e(n).parentsUntil(t.$el,"LI").length>0&&0===e(n).parentsUntil("LI","TABLE").length}function s(n){var r=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,i=t.node.deepestParent(n,[],!r);if(i&&"BLOCKQUOTE"==i.tagName){var o=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);o&&o.previousSibling&&(i=o)}if(null!==i){var a,s=i.previousSibling;if(t.node.isBlock(i)&&t.node.isEditable(i)&&s&&e.FE.NO_DELETE_TAGS.indexOf(s.tagName)<0)if(t.node.isDeletable(s))e(s).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isEditable(s))if(t.node.isBlock(s))if(t.node.isEmpty(s)&&!t.node.isList(s))e(s).remove();else{if(t.node.isList(s)&&(s=e(s).find("li:last").get(0)),a=t.node.contents(s),a.length&&"BR"==a[a.length-1].tagName&&e(a[a.length-1]).remove(),"BLOCKQUOTE"==s.tagName&&"BLOCKQUOTE"!=i.tagName)for(a=t.node.contents(s);a.length&&t.node.isBlock(a[a.length-1]);)s=a[a.length-1],a=t.node.contents(s);else if("BLOCKQUOTE"!=s.tagName&&"BLOCKQUOTE"==i.tagName)for(a=t.node.contents(i);a.length&&t.node.isBlock(a[0]);)i=a[0],a=t.node.contents(i);e(n).replaceWith(e.FE.MARKERS),e(s).append(t.node.isEmpty(i)?e.FE.MARKERS:i.innerHTML),e(i).remove()}else e(n).replaceWith(e.FE.MARKERS),"BLOCKQUOTE"==i.tagName&&s.nodeType==Node.ELEMENT_NODE?e(s).remove():(e(s).after(t.node.isEmpty(i)?"":e(i).html()),e(i).remove(),"BR"==s.tagName&&e(s).remove())}}function l(n){for(var r=n;!r.previousSibling;)if(r=r.parentNode,t.node.isElement(r))return!1;r=r.previousSibling;var i;if(!t.node.isBlock(r)&&t.node.isEditable(r)){for(i=t.node.contents(r);r.nodeType!=Node.TEXT_NODE&&!t.node.isDeletable(r)&&i.length&&t.node.isEditable(r);)r=i[i.length-1],i=t.node.contents(r);if(r.nodeType==Node.TEXT_NODE){if(t.helpers.isIOS())return!0;var o=r.textContent,a=o.length-1;if(t.opts.tabSpaces&&o.length>=t.opts.tabSpaces){var s=o.substr(o.length-t.opts.tabSpaces,o.length-1);0==s.replace(/ /g,"").replace(new RegExp(e.FE.UNICODE_NBSP,"g"),"").length&&(a=o.length-t.opts.tabSpaces)}r.textContent=o.substring(0,a),r.textContent.length&&55357==r.textContent.charCodeAt(r.textContent.length-1)&&(r.textContent=r.textContent.substr(0,r.textContent.length-1));var l=o.length!=r.textContent.length;0==r.textContent.length?l&&t.opts.keepFormatOnDelete?e(r).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS):2!=r.parentNode.childNodes.length||r.parentNode!=n.parentNode||t.node.isBlock(r.parentNode)||t.node.isElement(r.parentNode)?(e(r).after(e.FE.MARKERS),t.node.isElement(r.parentNode)&&!n.nextSibling&&r.previousSibling&&"BR"==r.previousSibling.tagName&&e(n).after("<br>"),r.parentNode.removeChild(r)):(e(r.parentNode).after(e.FE.MARKERS),e(r.parentNode).remove()):e(r).after(e.FE.MARKERS)}else t.node.isDeletable(r)?(e(r).after(e.FE.MARKERS),e(r).remove()):t.events.trigger("node.remove",[e(r)])!==!1&&(e(r).after(e.FE.MARKERS),e(r).remove())}else if(e.FE.NO_DELETE_TAGS.indexOf(r.tagName)<0&&(t.node.isEditable(r)||t.node.isDeletable(r)))if(t.node.isDeletable(r))e(n).replaceWith(e.FE.MARKERS),e(r).remove();else if(t.node.isEmpty(r)&&!t.node.isList(r))e(r).remove(),e(n).replaceWith(e.FE.MARKERS);else{for(t.node.isList(r)&&(r=e(r).find("li:last").get(0)),i=t.node.contents(r),i&&"BR"==i[i.length-1].tagName&&e(i[i.length-1]).remove(),i=t.node.contents(r);i&&t.node.isBlock(i[i.length-1]);)r=i[i.length-1],i=t.node.contents(r);e(r).append(e.FE.MARKERS);for(var u=n;!u.previousSibling;)u=u.parentNode;for(;u&&"BR"!==u.tagName&&!t.node.isBlock(u);){var c=u;u=u.nextSibling,e(r).append(c)}u&&"BR"==u.tagName&&e(u).remove(),e(n).remove()}else n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove()}function u(){var o=!1,u=t.markers.insert();if(!u)return!0;for(var c=u.parentNode;c&&!t.node.isElement(c);){if("false"===c.getAttribute("contenteditable"))return e(u).replaceWith(e.FE.MARKERS),t.selection.restore(),!1;if("true"===c.getAttribute("contenteditable"))break;c=c.parentNode}t.el.normalize();var f=u.previousSibling;if(f){var d=f.textContent;d&&d.length&&8203==d.charCodeAt(d.length-1)&&(1==d.length?e(f).remove():(f.textContent=f.textContent.substr(0,d.length-1),f.textContent.length&&55357==f.textContent.charCodeAt(f.textContent.length-1)&&(f.textContent=f.textContent.substr(0,f.textContent.length-1))))}return n(u)?o=l(u):r(u)?a(u)&&i(u,e(u).parents("li:first").get(0))?t.cursorLists._backspace(u):s(u):o=l(u),e(u).remove(),p(),t.html.fillEmptyBlocks(!0),t.opts.htmlUntouched||(t.html.cleanEmptyTags(),t.clean.quotes(),t.clean.lists()),t.spaces.normalizeAroundCursor(),t.selection.restore(),o}function c(n){var r=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,i=t.node.deepestParent(n,[],!r);if(i&&"BLOCKQUOTE"==i.tagName){var o=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);o&&o.nextSibling&&(i=o)}if(null!==i){var a,s=i.nextSibling;if(t.node.isBlock(i)&&(t.node.isEditable(i)||t.node.isDeletable(i))&&s&&e.FE.NO_DELETE_TAGS.indexOf(s.tagName)<0)if(t.node.isDeletable(s))e(s).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isBlock(s)&&t.node.isEditable(s))if(t.node.isList(s))if(t.node.isEmpty(i,!0))e(i).remove(),e(s).find("li:first").prepend(e.FE.MARKERS);else{var l=e(s).find("li:first");"BLOCKQUOTE"==i.tagName&&(a=t.node.contents(i),a.length&&t.node.isBlock(a[a.length-1])&&(i=a[a.length-1])),0===l.find("ul, ol").length&&(e(n).replaceWith(e.FE.MARKERS),l.find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==l.get(0)&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}),e(i).append(t.node.contents(l.get(0))),l.remove(),0===e(s).find("li").length&&e(s).remove())}else{if(a=t.node.contents(s),a.length&&"BR"==a[0].tagName&&e(a[0]).remove(),"BLOCKQUOTE"!=s.tagName&&"BLOCKQUOTE"==i.tagName)for(a=t.node.contents(i);a.length&&t.node.isBlock(a[a.length-1]);)i=a[a.length-1],a=t.node.contents(i);else if("BLOCKQUOTE"==s.tagName&&"BLOCKQUOTE"!=i.tagName)for(a=t.node.contents(s);a.length&&t.node.isBlock(a[0]);)s=a[0],a=t.node.contents(s);e(n).replaceWith(e.FE.MARKERS),e(i).append(s.innerHTML),e(s).remove()}else{for(e(n).replaceWith(e.FE.MARKERS);s&&"BR"!==s.tagName&&!t.node.isBlock(s)&&t.node.isEditable(s);){var u=s;s=s.nextSibling,e(i).append(u)}s&&"BR"==s.tagName&&t.node.isEditable(s)&&e(s).remove()}}}function f(r){for(var i=r;!i.nextSibling;)if(i=i.parentNode,t.node.isElement(i))return!1;if(i=i.nextSibling,"BR"==i.tagName&&t.node.isEditable(i))if(i.nextSibling){if(t.node.isBlock(i.nextSibling)&&t.node.isEditable(i.nextSibling)){if(!(e.FE.NO_DELETE_TAGS.indexOf(i.nextSibling.tagName)<0))return void e(i).remove();i=i.nextSibling,e(i.previousSibling).remove()}}else if(n(i)){if(a(r))t.cursorLists._del(r);else{var o=t.node.deepestParent(i);o&&(e(i).remove(),c(r))}return}var s;if(!t.node.isBlock(i)&&t.node.isEditable(i)){for(s=t.node.contents(i);i.nodeType!=Node.TEXT_NODE&&s.length&&!t.node.isDeletable(i)&&t.node.isEditable(i);)i=s[0],s=t.node.contents(i);i.nodeType==Node.TEXT_NODE?(e(i).before(e.FE.MARKERS),i.textContent.length&&55357==i.textContent.charCodeAt(0)?i.textContent=i.textContent.substring(2,i.textContent.length):i.textContent=i.textContent.substring(1,i.textContent.length)):t.node.isDeletable(i)?(e(i).before(e.FE.MARKERS),e(i).remove()):t.events.trigger("node.remove",[e(i)])!==!1&&(e(i).before(e.FE.MARKERS),e(i).remove()),e(r).remove()}else if(e.FE.NO_DELETE_TAGS.indexOf(i.tagName)<0&&(t.node.isEditable(i)||t.node.isDeletable(i)))if(t.node.isDeletable(i))e(r).replaceWith(e.FE.MARKERS),e(i).remove();else if(t.node.isList(i))r.previousSibling?(e(i).find("li:first").prepend(r),t.cursorLists._backspace(r)):(e(i).find("li:first").prepend(e.FE.MARKERS),e(r).remove());else if(s=t.node.contents(i),s&&"BR"==s[0].tagName&&e(s[0]).remove(),s&&"BLOCKQUOTE"==i.tagName){var l=s[0];for(e(r).before(e.FE.MARKERS);l&&"BR"!=l.tagName;){var u=l;l=l.nextSibling,e(r).before(u)}l&&"BR"==l.tagName&&e(l).remove()}else e(r).after(e(i).html()).after(e.FE.MARKERS),e(i).remove()}function d(){var i=t.markers.insert();if(!i)return!1;if(t.el.normalize(),n(i))if(a(i))if(0===e(i).parents("li:first").find("ul, ol").length)t.cursorLists._del(i);else{var o=e(i).parents("li:first").find("ul:first, ol:first").find("li:first");o=o.find(t.html.blockTagsQuery()).get(-1)||o,o.prepend(i),t.cursorLists._backspace(i)}else c(i);else f(r(i)?i:i);e(i).remove(),p(),t.html.fillEmptyBlocks(!0),t.opts.htmlUntouched||(t.html.cleanEmptyTags(),t.clean.quotes(),t.clean.lists()),t.spaces.normalizeAroundCursor(),t.selection.restore()}function p(){for(var e=t.el.querySelectorAll("blockquote:empty"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])}function h(){t.$el.find(".fr-to-remove").each(function(){for(var n=t.node.contents(this),r=0;r<n.length;r++)n[r].nodeType==Node.TEXT_NODE&&(n[r].textContent=n[r].textContent.replace(/\u200B/g,""));e(this).replaceWith(this.innerHTML)})}function g(n,r,i){var a,s=t.node.deepestParent(n,[],!i);if(s&&"BLOCKQUOTE"==s.tagName)return o(n,s)?(a=t.html.defaultTag(),a?e(s).after("<"+a+">"+e.FE.MARKERS+"<br></"+a+">"):e(s).after(e.FE.MARKERS+"<br>"),e(n).remove(),!1):(v(n,r,i),!1);if(null==s)a=t.html.defaultTag(),a&&t.node.isElement(n.parentNode)?e(n).replaceWith("<"+a+">"+e.FE.MARKERS+"<br></"+a+">"):e(n).replaceWith((t.node.isEmpty(n.parentNode,!0)?"":"<br/>")+e.FE.MARKERS+"<br/>");else{var l=n,u="";t.node.isBlock(s)&&!r||(u="<br/>");var c="",f="";a=t.html.defaultTag();var d="",p="";a&&t.node.isBlock(s)&&(d="<"+a+">",p="</"+a+">",s.tagName==a.toUpperCase()&&(d=t.node.openTagString(e(s).clone().removeAttr("id").get(0))));do if(l=l.parentNode,!r||l!=s||r&&!t.node.isBlock(s))if(c+=t.node.closeTagString(l),l==s&&t.node.isBlock(s))f=d+f;else{var h="A"==l.tagName&&o(n,l)?"fr-to-remove":"";f=t.node.openTagString(e(l).clone().addClass(h).get(0))+f}while(l!=s);u=c+u+f+(n.parentNode==s&&t.node.isBlock(s)?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS,t.node.isBlock(s)&&!e(s).find("*:last").is("br")&&e(s).append("<br/>"),e(n).after('<span id="fr-break"></span>'),e(n).remove(),s.nextSibling&&!t.node.isBlock(s.nextSibling)||t.node.isBlock(s)||e(s).after("<br>");var g;g=!r&&t.node.isBlock(s)?t.node.openTagString(s)+e(s).html()+p:t.node.openTagString(s)+e(s).html()+t.node.closeTagString(s),g=g.replace(/<span id="fr-break"><\/span>/g,u),e(s).replaceWith(g)}}function m(n,r,a){var s,l=t.node.deepestParent(n,[],!a);if(l&&"TABLE"==l.tagName)return e(l).find("td:first, th:first").prepend(n),m(n,r,a);if(l&&"BLOCKQUOTE"==l.tagName){if(i(n,l))return s=t.html.defaultTag(),s?e(l).before("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):e(l).before(e.FE.MARKERS+"<br>"),e(n).remove(),!1;o(n,l)?g(n,r,!0):v(n,r,!0)}if(null==l)s=t.html.defaultTag(),s&&t.node.isElement(n.parentNode)?e(n).replaceWith("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):e(n).replaceWith("<br>"+e.FE.MARKERS);else{if(t.node.isBlock(l))if(r)e(n).remove(),e(l).prepend("<br>"+e.FE.MARKERS);else{if(t.node.isEmpty(l,!0))return g(n,r,a);e(l).before(t.node.openTagString(e(l).clone().removeAttr("id").get(0))+"<br>"+t.node.closeTagString(l))}else e(l).before("<br>");e(n).remove()}}function v(n,r,a){var s=t.node.deepestParent(n,[],!a);if(null==s)t.html.defaultTag()&&n.parentNode===t.el?e(n).replaceWith("<"+t.html.defaultTag()+">"+e.FE.MARKERS+"<br></"+t.html.defaultTag()+">"):(n.nextSibling&&!t.node.isBlock(n.nextSibling)||e(n).after("<br>"),e(n).replaceWith("<br>"+e.FE.MARKERS));else{var l=n,u="";"PRE"==s.tagName&&(r=!0),t.node.isBlock(s)&&!r||(u="<br>");var c="",f="";do{var d=l;if(l=l.parentNode,"BLOCKQUOTE"==s.tagName&&t.node.isEmpty(d)&&!t.node.hasClass(d,"fr-marker")&&e(d).find(n).length>0&&e(d).after(n),("BLOCKQUOTE"!=s.tagName||!o(n,l)&&!i(n,l))&&(!r||l!=s||r&&!t.node.isBlock(s))){c+=t.node.closeTagString(l);var p="A"==l.tagName&&o(n,l)?"fr-to-remove":"";f=t.node.openTagString(e(l).clone().addClass(p).removeAttr("id").get(0))+f}}while(l!=s);var h=s==n.parentNode&&t.node.isBlock(s)||n.nextSibling;if("BLOCKQUOTE"==s.tagName){n.previousSibling&&t.node.isBlock(n.previousSibling)&&n.nextSibling&&"BR"==n.nextSibling.tagName&&(e(n.nextSibling).after(n),n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove());var g=t.html.defaultTag();u=c+u+(g?"<"+g+">":"")+e.FE.MARKERS+"<br>"+(g?"</"+g+">":"")+f}else u=c+u+f+(h?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS;e(n).replaceWith('<span id="fr-break"></span>');var m=t.node.openTagString(s)+e(s).html()+t.node.closeTagString(s);m=m.replace(/<span id="fr-break"><\/span>/g,u),e(s).replaceWith(m)}}function b(i){var o=t.markers.insert();if(!o)return!0;t.el.normalize();var s=!1;e(o).parentsUntil(t.$el,"BLOCKQUOTE").length>0&&(i=!1,s=!0),e(o).parentsUntil(t.$el,"TD, TH").length&&(s=!1),n(o)?!a(o)||i||s?g(o,i,s):t.cursorLists._endEnter(o):r(o)?!a(o)||i||s?m(o,i,s):t.cursorLists._startEnter(o):!a(o)||i||s?v(o,i,s):t.cursorLists._middleEnter(o),h(),t.opts.htmlUntouched||(t.html.fillEmptyBlocks(!0),t.html.cleanEmptyTags(),t.clean.lists()),t.spaces.normalizeAroundCursor(),t.selection.restore()}return{enter:b,backspace:u,del:d,isAtEnd:o,isAtStart:i}},e.FE.ENTER_P=0,e.FE.ENTER_DIV=1,e.FE.ENTER_BR=2,e.FE.KEYCODE={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,FF_HYPHEN:173,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,HYPHEN:189,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221},e.extend(e.FE.DEFAULTS,{enter:e.FE.ENTER_P,multiLine:!0,tabSpaces:0}),e.FE.MODULES.keys=function(t){function n(e){t.opts.multiLine?t.helpers.isIOS()||(e.preventDefault(),e.stopPropagation(),t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter()):(e.preventDefault(),e.stopPropagation())}function r(e){e.preventDefault(),e.stopPropagation(),t.opts.multiLine&&(t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter(!0))}function i(e){t.selection.isCollapsed()?t.cursor.backspace()||(e.preventDefault(),e.stopPropagation(),S=!1):(e.preventDefault(),e.stopPropagation(),t.selection.remove(),t.html.fillEmptyBlocks(),S=!1),t.placeholder.refresh()}function o(e){e.preventDefault(),e.stopPropagation(),""===t.selection.text()?t.cursor.del():t.selection.remove(),t.placeholder.refresh()}function a(n){var r=t.selection.element();if(!t.helpers.isMobile()&&(t.browser.mozilla||r&&"A"==r.tagName)){n.preventDefault(),n.stopPropagation(),t.selection.isCollapsed()||t.selection.remove();var i=t.markers.insert();if(i){var o=i.previousSibling,a=i.nextSibling;!a&&i.parentNode&&"A"==i.parentNode.tagName?(i.parentNode.insertAdjacentHTML("afterend","&nbsp;"+e.FE.MARKERS),i.parentNode.removeChild(i)):(o&&o.nodeType==Node.TEXT_NODE&&1==o.textContent.length&&160==o.textContent.charCodeAt(0)?o.textContent=o.textContent+" ":i.insertAdjacentHTML("beforebegin","&nbsp;"),i.outerHTML=e.FE.MARKERS),t.selection.restore()}}}function s(){if(t.browser.mozilla&&t.selection.isCollapsed()&&!A){var e=t.selection.ranges(0),n=e.startContainer,r=e.startOffset;n&&n.nodeType==Node.TEXT_NODE&&r<=n.textContent.length&&r>0&&32==n.textContent.charCodeAt(r-1)&&(t.selection.save(),t.spaces.normalize(),t.selection.restore())}}function l(){t.selection.isFull()&&setTimeout(function(){var n=t.html.defaultTag();n?t.$el.html("<"+n+">"+e.FE.MARKERS+"<br/></"+n+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore(),t.placeholder.refresh(),t.button.bulkRefresh(),t.undo.saveStep()},0)}function u(e){if(t.opts.tabSpaces>0)if(t.selection.isCollapsed()){t.undo.saveStep(),e.preventDefault(),e.stopPropagation();for(var n="",r=0;r<t.opts.tabSpaces;r++)n+="&nbsp;";t.html.insert(n),t.placeholder.refresh(),t.undo.saveStep()}else e.preventDefault(),e.stopPropagation(),e.shiftKey?t.commands.outdent():t.commands.indent()}function c(e){A=!1}function f(){return A}function d(s){t.events.disableBlur(),S=!0;var l=s.which;if(16===l)return!0;if(229===l)return A=!0,!0;A=!1;var c=y(l)&&!v(s),f=l==e.FE.KEYCODE.BACKSPACE||l==e.FE.KEYCODE.DELETE;if((t.selection.isFull()&&!t.opts.keepFormatOnDelete&&!t.placeholder.isVisible()||f&&t.placeholder.isVisible()&&t.opts.keepFormatOnDelete)&&(c||f)){var d=t.html.defaultTag();if(d?t.$el.html("<"+d+">"+e.FE.MARKERS+"<br/></"+d+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore(),!y(l))return s.preventDefault(),!0}l==e.FE.KEYCODE.ENTER?s.shiftKey?r(s):n(s):l!=e.FE.KEYCODE.BACKSPACE||v(s)||s.altKey?l!=e.FE.KEYCODE.DELETE||v(s)||s.altKey?l==e.FE.KEYCODE.SPACE?a(s):l==e.FE.KEYCODE.TAB?u(s):v(s)||!y(s.which)||t.selection.isCollapsed()||s.ctrlKey||t.selection.remove():t.placeholder.isVisible()?(s.preventDefault(),s.stopPropagation()):o(s):t.placeholder.isVisible()?(s.preventDefault(),s.stopPropagation()):i(s),t.events.enableBlur()}function p(e){for(var n=t.doc.createTreeWalker(e,NodeFilter.SHOW_TEXT,t.node.filter(function(e){return/\u200B/gi.test(e.textContent)}),!1);n.nextNode();){var r=n.currentNode;r.textContent=r.textContent.replace(/\u200B/gi,"")}}function h(){if(!t.$wp)return!0;var n;t.opts.height||t.opts.heightMax?(n=t.position.getBoundingRect().top,t.helpers.isIOS()&&(n-=t.helpers.scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n>t.$wp.offset().top-t.helpers.scrollTop()+t.$wp.height()-20&&t.$wp.scrollTop(n+t.$wp.scrollTop()-(t.$wp.height()+t.$wp.offset().top)+t.helpers.scrollTop()+20)):(n=t.position.getBoundingRect().top,t.opts.toolbarBottom&&(n+=t.opts.toolbarStickyOffset),t.helpers.isIOS()&&(n-=t.helpers.scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n+=t.opts.toolbarStickyOffset,n>t.o_win.innerHeight-20&&e(t.o_win).scrollTop(n+t.helpers.scrollTop()-t.o_win.innerHeight+20),n=t.position.getBoundingRect().top,t.opts.toolbarBottom||(n-=t.opts.toolbarStickyOffset),t.helpers.isIOS()&&(n-=t.helpers.scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n<t.$tb.height()+20&&e(t.o_win).scrollTop(n+t.helpers.scrollTop()-t.$tb.height()-20))}function g(){var n=t.selection.element(),r=t.node.blockParent(n);if(r&&"DIV"==r.tagName&&t.selection.info(r).atStart){var i=t.html.defaultTag();r.previousSibling&&"DIV"!=r.previousSibling.tagName&&i&&"div"!=i&&(t.selection.save(),e(r).replaceWith("<"+i+">"+r.innerHTML+"</"+i+">"),t.selection.restore())}}function m(n){if(t.helpers.isAndroid&&t.browser.mozilla)return!0;if(A)return A=!1,!1;if(!t.selection.isCollapsed())return!0;if(n&&(n.which===e.FE.KEYCODE.META||n.which==e.FE.KEYCODE.CTRL))return!0;if(n&&b(n.which))return!0;n&&n.which==e.FE.KEYCODE.ENTER&&t.helpers.isIOS()&&g(),n&&(n.which==e.FE.KEYCODE.ENTER||n.which==e.FE.KEYCODE.BACKSPACE||n.which>=37&&n.which<=40&&!t.browser.msie)&&(n.which==e.FE.KEYCODE.BACKSPACE&&S||h()),t.html.cleanBRs(!0,!0);var r=function(e){if(!e)return!1;var t=e.innerHTML;return t=t.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,""),!!(t&&/\u200B/.test(t)&&t.replace(/\u200B/gi,"").length>0)},i=function(e){var n=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return!t.helpers.isIOS()||0===((e.textContent||"").match(n)||[]).length},o=t.selection.element();r(o)&&!t.node.hasClass(o,"fr-marker")&&"IFRAME"!=o.tagName&&i(o)&&(t.selection.save(),p(o),t.selection.restore())}function v(e){if(navigator.userAgent.indexOf("Mac OS X")!=-1){if(e.metaKey&&!e.altKey)return!0}else if(e.ctrlKey&&!e.altKey)return!0;return!1}function b(t){if(t>=e.FE.KEYCODE.ARROW_LEFT&&t<=e.FE.KEYCODE.ARROW_DOWN)return!0}function y(n){if(n>=e.FE.KEYCODE.ZERO&&n<=e.FE.KEYCODE.NINE)return!0;if(n>=e.FE.KEYCODE.NUM_ZERO&&n<=e.FE.KEYCODE.NUM_MULTIPLY)return!0;if(n>=e.FE.KEYCODE.A&&n<=e.FE.KEYCODE.Z)return!0;if(t.browser.webkit&&0===n)return!0;switch(n){case e.FE.KEYCODE.SPACE:case e.FE.KEYCODE.QUESTION_MARK:case e.FE.KEYCODE.NUM_PLUS:case e.FE.KEYCODE.NUM_MINUS:case e.FE.KEYCODE.NUM_PERIOD:case e.FE.KEYCODE.NUM_DIVISION:case e.FE.KEYCODE.SEMICOLON:case e.FE.KEYCODE.FF_SEMICOLON:case e.FE.KEYCODE.DASH:case e.FE.KEYCODE.EQUALS:case e.FE.KEYCODE.FF_EQUALS:case e.FE.KEYCODE.COMMA:case e.FE.KEYCODE.PERIOD:case e.FE.KEYCODE.SLASH:case e.FE.KEYCODE.APOSTROPHE:case e.FE.KEYCODE.SINGLE_QUOTE:case e.FE.KEYCODE.OPEN_SQUARE_BRACKET:case e.FE.KEYCODE.BACKSLASH:case e.FE.KEYCODE.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}function E(n){var r=n.which;return!!(v(n)||r>=37&&r<=40||!y(r)&&r!=e.FE.KEYCODE.DELETE&&r!=e.FE.KEYCODE.BACKSPACE&&r!=e.FE.KEYCODE.ENTER)||(_||(T=t.snapshot.get()),clearTimeout(_),void(_=setTimeout(function(){_=null,t.undo.saveStep()},Math.max(250,t.opts.typingTimer))))}function $(e){var n=e.which;return!!(v(e)||n>=37&&n<=40)||void(T&&_&&(t.undo.saveStep(T),T=null))}function w(){_&&(clearTimeout(_),t.undo.saveStep(),T=null)}function x(t){var n=t.which;return v(t)||n==e.FE.KEYCODE.F5}function C(){if(t.events.on("keydown",E),t.events.on("input",s),t.events.on("keyup input",$),t.events.on("keypress",c),t.events.on("keydown",d),t.events.on("keyup",m),t.events.on("html.inserted",m),t.events.on("cut",l),!t.browser.edge&&t.el.msGetInputContext)try{t.el.msGetInputContext().addEventListener("MSCandidateWindowShow",function(){A=!0}),t.el.msGetInputContext().addEventListener("MSCandidateWindowHide",function(){A=!1,m()})}catch(e){}}var S,_,T,A=!1;return{_init:C,ctrlKey:v,isCharacter:y,isArrow:b,forceUndo:w,isIME:f,isBrowserAction:x}},e.FE.MODULES.accessibility=function(t){function n(e){if(e&&e.length){e.data("blur-event-set")||e.parents(".fr-popup").length||(t.events.$on(e,"blur",function(n){var r=e.parents(".fr-toolbar, .fr-popup").data("instance")||t;r.events.blurActive()&&r.events.trigger("blur"),r.events.enableBlur()},!0),e.data("blur-event-set",!0));var n=e.parents(".fr-toolbar, .fr-popup").data("instance")||t;n.events.disableBlur(),e.focus(),t.shared.$f_el=e}}function r(e,t){var r=t?"last":"first",i=e.find("button:visible:not(.fr-disabled), .fr-group span.fr-command:visible")[r]();if(i.length)return n(i),!0}function i(e){return e.is("input, textarea")&&a(),t.events.disableBlur(),e.focus(),!0}function o(e,n){var r=e.find("input, textarea, button, select").filter(":visible").not(":disabled").filter(n?":last":":first");if(r.length)return i(r);if(t.shared.with_kb){var o=e.find(".fr-active-item:visible:first");if(o.length)return i(o);var a=e.find("[tabIndex]:visible:first");if(a.length)return i(a)}}function a(){0===t.$el.find(".fr-marker").length&&t.core.hasFocus()&&t.selection.save()}function s(e){e.$el.find(".fr-marker").length&&(e.events.disableBlur(),e.selection.restore(),e.events.enableBlur())}function l(e){var n=e.children().not(".fr-buttons");n.data("mouseenter-event-set")||(t.events.$on(n,"mouseenter","[tabIndex]",function(r){var i=e.data("instance")||t;if(!N)return r.stopPropagation(),void r.preventDefault();var o=n.find(":focus:first");o.length&&!o.is("input, button, textarea")&&(i.events.disableBlur(),o.blur(),i.events.disableBlur(),i.events.focus())}),n.data("mouseenter-event-set",!0)),!o(n)&&t.shared.with_kb&&r(e.find(".fr-buttons"))}function u(e){t.core.hasFocus()||(t.events.disableBlur(),t.events.focus()),t.accessibility.saveSelection(),t.events.disableBlur(),t.$el.blur(),t.selection.clear(),t.events.disableBlur(),t.shared.with_kb?e.find(".fr-command[tabIndex]:first").focus():e.find("[tabIndex]:first").focus()}function c(){var e=t.popups.areVisible();if(e){var n=e.find(".fr-buttons");return n.find("button:focus, .fr-group span:focus").length?!r(e.data("instance").$tb):!r(n)}return!r(t.$tb)}function f(){var e=null;return t.shared.$f_el.is(".fr-dropdown.fr-active")?e=t.shared.$f_el:t.shared.$f_el.closest(".fr-dropdown-menu").prev().is(".fr-dropdown.fr-active")&&(e=t.shared.$f_el.closest(".fr-dropdown-menu").prev()),e}function d(i,a,s){if(t.shared.$f_el){var l=f();l&&(t.button.click(l),t.shared.$f_el=l);var u=i.find("button:visible:not(.fr-disabled), .fr-group span.fr-command:visible"),c=u.index(t.shared.$f_el);if(0==c&&!s||c==u.length-1&&s){var d;if(a){if(i.parent().is(".fr-popup")){var p=i.parent().children().not(".fr-buttons");d=!o(p,!s);
}d===!1&&(t.shared.$f_el=null)}a&&d===!1||r(i,!s)}else n(e(u.get(c+(s?1:-1))));return!1}}function p(e,t){return d(e,t,!0)}function h(e,t){return d(e,t)}function g(e){if(t.shared.$f_el){if(t.shared.$f_el.is(".fr-dropdown.fr-active")){var r;return r=e?t.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").first():t.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").last(),n(r),!1}if(t.shared.$f_el.is("a.fr-command")){var r;return r=e?t.shared.$f_el.closest("li").nextAll(":visible:first").find(".fr-command:not(.fr-disabled)").first():t.shared.$f_el.closest("li").prevAll(":visible:first").find(".fr-command:not(.fr-disabled)").first(),r.length||(r=e?t.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").first():t.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").last()),n(r),!1}}}function m(){return t.shared.$f_el&&t.shared.$f_el.is(".fr-dropdown:not(.fr-active)")?b():g(!0)}function v(){return g()}function b(){if(t.shared.$f_el){if(t.shared.$f_el.hasClass("fr-dropdown"))t.button.click(t.shared.$f_el);else if(t.shared.$f_el.is("button.fr-back")){t.opts.toolbarInline&&(t.events.disableBlur(),t.events.focus());var e=t.popups.areVisible(t);e&&(t.shared.with_kb=!1),t.button.click(t.shared.$f_el),S(e)}else{if(t.events.disableBlur(),t.button.click(t.shared.$f_el),t.shared.$f_el.attr("data-popup")){var n=t.popups.areVisible(t);n&&n.data("popup-button",t.shared.$f_el)}else if(t.shared.$f_el.attr("data-modal")){var r=t.modals.areVisible(t);r&&r.data("modal-button",t.shared.$f_el)}t.shared.$f_el=null}return!1}}function y(){t.shared.$f_el&&(t.events.disableBlur(),t.shared.$f_el.blur(),t.shared.$f_el=null),t.events.trigger("toolbar.focusEditor")!==!1&&(t.events.disableBlur(),t.events.focus())}function E(e){if(t.shared.$f_el){var r=f();return r?(t.button.click(r),n(r)):e.parent().find(".fr-back:visible").length?(t.shared.with_kb=!1,t.opts.toolbarInline&&(t.events.disableBlur(),t.events.focus()),t.button.exec(e.parent().find(".fr-back:visible:first")),S(e.parent())):t.shared.$f_el.is("button, .fr-group span")&&(e.parent().is(".fr-popup")?(s(t),t.shared.$f_el=null,t.events.trigger("toolbar.esc")!==!1&&(t.popups.hide(e.parent()),t.opts.toolbarInline&&t.toolbar.showInline(null,!0),S(e.parent()))):y()),!1}}function $(n,r){var i=navigator.userAgent.indexOf("Mac OS X")!=-1?n.metaKey:n.ctrlKey,o=n.which,a=!1;return o!=e.FE.KEYCODE.TAB||i||n.shiftKey||n.altKey?o!=e.FE.KEYCODE.ARROW_RIGHT||i||n.shiftKey||n.altKey?o!=e.FE.KEYCODE.TAB||i||!n.shiftKey||n.altKey?o!=e.FE.KEYCODE.ARROW_LEFT||i||n.shiftKey||n.altKey?o!=e.FE.KEYCODE.ARROW_UP||i||n.shiftKey||n.altKey?o!=e.FE.KEYCODE.ARROW_DOWN||i||n.shiftKey||n.altKey?o!=e.FE.KEYCODE.ENTER||i||n.shiftKey||n.altKey?o!=e.FE.KEYCODE.ESC||i||n.shiftKey||n.altKey?o!=e.FE.KEYCODE.F10||i||n.shiftKey||!n.altKey||(a=c()):a=E(r):a=b():a=m():a=v():a=h(r):a=h(r,!0):a=p(r):a=p(r,!0),t.shared.$f_el||void 0!==a||(a=!0),!a&&t.keys.isBrowserAction(n)&&(a=!0),!!a||(n.preventDefault(),n.stopPropagation(),!1)}function w(n){n&&n.length&&(t.events.$on(n,"keydown",function(r){if(!e(r.target).is("a.fr-command, button.fr-command, .fr-group span.fr-command"))return!0;var i=n.parents(".fr-popup").data("instance")||n.data("instance")||t;t.shared.with_kb=!0;var o=i.accessibility.exec(r,n);return t.shared.with_kb=!1,o},!0),t.events.$on(n,"mouseenter","[tabIndex]",function(r){var i=n.parents(".fr-popup").data("instance")||n.data("instance")||t;if(!N)return r.stopPropagation(),void r.preventDefault();var o=e(r.currentTarget);i.shared.$f_el&&i.shared.$f_el.not(o)&&i.accessibility.focusEditor()},!0))}function x(e){var n=t.popups.get(e),r=C(e);w(n.find(".fr-buttons")),t.events.$on(n,"mouseenter","tabIndex",r._tiMouseenter,!0),t.events.$on(n.children().not(".fr-buttons"),"keydown","[tabIndex]",r._tiKeydown,!0),t.popups.onHide(e,function(){s(n.data("instance")||t)}),t.popups.onShow(e,function(){N=!1,setTimeout(function(){N=!0},0)})}function C(n){var i=t.popups.get(n);return{_tiKeydown:function(a){var l=i.data("instance")||t;if(l.events.trigger("popup.tab",[a])===!1)return!1;var u=a.which,c=i.find(":focus:first");if(e.FE.KEYCODE.TAB==u){a.preventDefault();var f=i.children().not(".fr-buttons"),d=f.find("input, textarea, button, select").filter(":visible").not(".fr-no-touch input, .fr-no-touch textarea, .fr-no-touch button, .fr-no-touch select, :disabled").toArray(),p=d.indexOf(this)+(a.shiftKey?-1:1);if(0<=p&&p<d.length)return l.events.disableBlur(),e(d[p]).focus(),a.stopPropagation(),!1;var h=i.find(".fr-buttons");if(h.length&&r(h,!!a.shiftKey))return a.stopPropagation(),!1;if(o(f))return a.stopPropagation(),!1}else{if(e.FE.KEYCODE.ENTER!=u)return e.FE.KEYCODE.ESC==u?(a.preventDefault(),a.stopPropagation(),s(l),l.popups.isVisible(n)&&i.find(".fr-back:visible").length?(l.opts.toolbarInline&&(l.events.disableBlur(),l.events.focus()),l.button.exec(i.find(".fr-back:visible:first")),S(i)):l.popups.isVisible(n)&&i.find(".fr-dismiss:visible").length?l.button.exec(i.find(".fr-dismiss:visible:first")):(l.popups.hide(n),l.opts.toolbarInline&&l.toolbar.showInline(null,!0),S(i)),!1):e.FE.KEYCODE.SPACE==u&&(c.is(".fr-submit")||c.is(".fr-dismiss"))?(a.preventDefault(),a.stopPropagation(),l.events.disableBlur(),l.button.exec(c),!0):l.keys.isBrowserAction(a)?void a.stopPropagation():c.is("input[type=text], textarea")?void a.stopPropagation():e.FE.KEYCODE.SPACE==u&&(c.is(".fr-link-attr")||c.is("input[type=file]"))?void a.stopPropagation():(a.stopPropagation(),a.preventDefault(),!1);var g=null;i.find(".fr-submit:visible").length>0?g=i.find(".fr-submit:visible:first"):i.find(".fr-dismiss:visible").length&&(g=i.find(".fr-dismiss:visible:first")),g&&(a.preventDefault(),a.stopPropagation(),l.events.disableBlur(),l.button.exec(g))}},_tiMouseenter:function(e){var n=i.data("instance")||t;A(n)}}}function S(e){var t=e.data("popup-button");t&&setTimeout(function(){n(t),e.data("popup-button",null)},0)}function _(e){var t=e.data("modal-button");t&&setTimeout(function(){n(t),e.data("modal-button",null)},0)}function T(){return null!=t.shared.$f_el}function A(e){var n=t.popups.areVisible(e);n&&n.data("popup-button",null)}function O(n){var r=navigator.userAgent.indexOf("Mac OS X")!=-1?n.metaKey:n.ctrlKey,i=n.which;if(i==e.FE.KEYCODE.F10&&!r&&!n.shiftKey&&n.altKey){t.shared.with_kb=!0;var a=t.popups.areVisible(t),s=!1;return a&&(s=o(a.children().not(".fr-buttons"))),s||c(),t.shared.with_kb=!1,n.preventDefault(),n.stopPropagation(),!1}return!0}function k(){t.$wp?t.events.on("keydown",O,!0):t.events.$on(t.$win,"keydown",O,!0),t.events.on("mousedown",function(e){A(t),t.shared.$f_el&&(s(t),e.stopPropagation(),t.events.disableBlur(),t.shared.$f_el=null)},!0),t.events.on("blur",function(e){t.shared.$f_el=null,A(t)},!0)}var N=!0;return{_init:k,registerPopup:x,registerToolbar:w,focusToolbarElement:n,focusToolbar:r,focusContent:o,focusPopup:l,focusModal:u,focusEditor:y,focusPopupButton:S,focusModalButton:_,hasFocus:T,exec:$,saveSelection:a,restoreSelection:s}},e.FE.MODULES.format=function(t){function n(e,t){var n="<"+e;for(var r in t)t.hasOwnProperty(r)&&(n+=" "+r+'="'+t[r]+'"');return n+=">"}function r(e){return"</"+e+">"}function i(e,t){var n=e;for(var r in t)t.hasOwnProperty(r)&&(e+="id"==r?"#"+t[r]:"class"==r?"."+t[r]:"["+r+'="'+t[r]+'"]');return n}function o(e,t){return!(!e||e.nodeType!=Node.ELEMENT_NODE)&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function a(r,i,o){if(r){if(t.node.isBlock(r))return a(r.firstChild,i,o),!1;for(var s=e(n(i,o)).insertBefore(r),l=r;l&&!e(l).is(".fr-marker")&&0==e(l).find(".fr-marker").length;){var u=l;l=l.nextSibling,s.append(u)}if(l)e(l).find(".fr-marker").length&&a(l.firstChild,i,o);else{for(var c=s.get(0).parentNode;c&&!c.nextSibling&&!t.node.isElement(c);)c=c.parentNode;if(c){var f=c.nextSibling;f&&(t.node.isBlock(f)?a(f.firstChild,i,o):a(f,i,o))}}s.is(":empty")&&s.remove()}}function s(s,l){if("undefined"==typeof l&&(l={}),l.style&&delete l.style,t.selection.isCollapsed()){t.markers.insert();var u=t.$el.find(".fr-marker");u.replaceWith(n(s,l)+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+r(s)),t.selection.restore()}else{t.selection.save();var c=t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling;a(c,s,l);var f;do f=t.$el.find(i(s,l)+" > "+i(s,l)),f.each(function(){e(this).replaceWith(this.innerHTML)});while(f.length);t.el.normalize();for(var d=t.el.querySelectorAll(".fr-marker"),p=0;p<d.length;p++){var h=e(d[p]);1==h.data("type")?o(h.get(0).nextSibling,i(s,l))&&h.next().prepend(h):o(h.get(0).previousSibling,i(s,l))&&h.prev().append(h)}t.selection.restore()}}function l(e,n,r,a){if(!a){var s=!1;if(e.data("type")===!0)for(;t.node.isFirstSibling(e.get(0))&&!e.parent().is(t.$el);)e.parent().before(e),s=!0;else if(e.data("type")===!1)for(;t.node.isLastSibling(e.get(0))&&!e.parent().is(t.$el);)e.parent().after(e),s=!0;if(s)return!0}if(e.parents(n).length||"undefined"==typeof n){var l="",u="",c=e.parent();if(c.is(t.$el)||t.node.isBlock(c.get(0)))return!1;for(;"undefined"==typeof n&&!t.node.isBlock(c.parent().get(0))||"undefined"!=typeof n&&!o(c.get(0),i(n,r));)l+=t.node.closeTagString(c.get(0)),u=t.node.openTagString(c.get(0))+u,c=c.parent();var f=e.get(0).outerHTML;e.replaceWith('<span id="mark"></span>');var d=c.html().replace(/<span id="mark"><\/span>/,l+t.node.closeTagString(c.get(0))+u+f+l+t.node.openTagString(c.get(0))+u);return c.replaceWith(t.node.openTagString(c.get(0))+d+t.node.closeTagString(c.get(0))),!0}return!1}function u(n,r,a,s){for(var l=t.node.contents(n.get(0)),c=0;c<l.length;c++){var f=l[c];t.node.hasClass(f,"fr-marker")?r=(r+1)%2:r?e(f).find(".fr-marker").length>0?r=u(e(f),r,a,s):(e(e(f).find(a||"*").get().reverse()).each(function(){t.node.isBlock(this)||t.node.isVoid(this)||e(this).replaceWith(this.innerHTML)}),"undefined"==typeof a&&f.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(f)&&!t.node.isBlock(f)||o(f,i(a,s))?e(f).replaceWith(f.innerHTML):"undefined"==typeof a&&f.nodeType==Node.ELEMENT_NODE&&t.node.isBlock(f)&&t.node.clearAttributes(f)):e(f).find(".fr-marker").length>0&&(r=u(e(f),r,a,s))}return r}function c(n,r){"undefined"==typeof r&&(r={}),r.style&&delete r.style;var i=t.selection.isCollapsed();t.selection.save();for(var o=!0;o;){o=!1;for(var a=t.$el.find(".fr-marker"),s=0;s<a.length;s++)if(l(e(a[s]),n,r,i)){o=!0;break}}u(t.$el,0,n,r),i&&t.$el.find(".fr-marker").before(e.FE.INVISIBLE_SPACE).after(e.FE.INVISIBLE_SPACE),t.html.cleanEmptyTags(),t.el.normalize(),t.selection.restore()}function f(e,t){m(e,t)?c(e,t):s(e,t)}function d(t,n){var r=e(t);r.css(n,""),""===r.attr("style")&&r.replaceWith(r.html())}function p(t,n){return 0===e(t).attr("style").indexOf(n+":")||e(t).attr("style").indexOf(";"+n+":")>=0||e(t).attr("style").indexOf("; "+n+":")>=0}function h(n,r){if(t.selection.isCollapsed()){t.markers.insert();var i=t.$el.find(".fr-marker"),o=i.parent();if(t.node.openTagString(o.get(0))=='<span style="'+n+": "+o.css(n)+';">')if(t.node.isEmpty(o.get(0)))o.replaceWith('<span style="'+n+": "+r+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>");else{var s={};s[n]=r,l(i,"span",s,!0),i=t.$el.find(".fr-marker"),i.replaceWith('<span style="'+n+": "+r+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>")}else t.node.isEmpty(o.get(0))&&o.is("span")?(i.replaceWith(e.FE.MARKERS),o.css(n,r)):i.replaceWith('<span style="'+n+": "+r+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>");t.selection.restore()}else{t.selection.save();for(var u=t.$el.find(".fr-marker"),c=0;c<u.length;c++){var i=e(u[c]);if(i.data("type")===!0)for(;t.node.isFirstSibling(i.get(0))&&!i.parent().is(t.$el);)i.parent().before(i);else for(;t.node.isLastSibling(i.get(0))&&!i.parent().is(t.$el);)i.parent().after(i)}var f=t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling,h={"class":"fr-unprocessed"};for(r&&(h.style=n+": "+r+";"),a(f,"span",h),t.$el.find(".fr-marker + .fr-unprocessed").each(function(){e(this).prepend(e(this).prev())}),t.$el.find(".fr-unprocessed + .fr-marker").each(function(){e(this).prev().append(this)});t.$el.find("span.fr-unprocessed").length>0;){var g=t.$el.find("span.fr-unprocessed:first").removeClass("fr-unprocessed");if(g.parent().get(0).normalize(),g.parent().is("span")&&1==g.parent().get(0).childNodes.length){g.parent().css(n,r);var m=g;g=g.parent(),m.replaceWith(m.html())}for(var v=g.find("span"),c=v.length-1;c>=0;c--)d(v[c],n);var b=g.parentsUntil(t.$el,"span[style]").filter(function(){return p(this,n)});if(b.length){var y="",E="",$="",w="",x=g.get(0);do x=x.parentNode,e(x).addClass("fr-split"),y+=t.node.closeTagString(x),E=t.node.openTagString(e(x).clone().addClass("fr-split").get(0))+E,b.get(0)!=x&&($+=t.node.closeTagString(x),w=t.node.openTagString(e(x).clone().addClass("fr-split").get(0))+w);while(b.get(0)!=x);var C=y+t.node.openTagString(e(b.get(0)).clone().css(n,r||"").get(0))+w+g.css(n,"").get(0).outerHTML+$+"</span>"+E;g.replaceWith('<span id="fr-break"></span>');var S=b.get(0).outerHTML;e(b.get(0)).replaceWith(S.replace(/<span id="fr-break"><\/span>/g,C))}}for(;t.$el.find(".fr-split:empty").length>0;)t.$el.find(".fr-split:empty").remove();t.$el.find(".fr-split").removeClass("fr-split"),t.$el.find('span[style=""]').removeAttr("style"),t.$el.find('span[class=""]').removeAttr("class"),t.html.cleanEmptyTags(),e(t.$el.find("span").get().reverse()).each(function(){this.attributes&&0!=this.attributes.length||e(this).replaceWith(this.innerHTML)}),t.el.normalize();var _=t.$el.find("span[style] + span[style]");for(c=0;c<_.length;c++){var T=e(_[c]),A=e(_[c]).prev();T.get(0).previousSibling==A.get(0)&&t.node.openTagString(T.get(0))==t.node.openTagString(A.get(0))&&(T.prepend(A.html()),A.remove())}t.el.normalize(),t.selection.restore()}}function g(e){h(e,null)}function m(e,n){"undefined"==typeof n&&(n={}),n.style&&delete n.style;var r=t.selection.ranges(0),a=r.startContainer;a.nodeType==Node.ELEMENT_NODE&&a.childNodes.length>0&&a.childNodes[r.startOffset]&&(a=a.childNodes[r.startOffset]);for(var s=a;s&&s.nodeType==Node.ELEMENT_NODE&&!o(s,i(e,n));)s=s.firstChild;if(s&&s.nodeType==Node.ELEMENT_NODE&&o(s,i(e,n)))return!0;var l=a;for(l&&l.nodeType!=Node.ELEMENT_NODE&&(l=l.parentNode);l&&l.nodeType==Node.ELEMENT_NODE&&l!=t.el&&!o(l,i(e,n));)l=l.parentNode;return!(!l||l.nodeType!=Node.ELEMENT_NODE||l==t.el||!o(l,i(e,n)))}return{is:m,toggle:f,apply:s,remove:c,applyStyle:h,removeStyle:g}},e.FE.COMMANDS={bold:{title:"Bold",toggle:!0,refresh:function(e){var t=this.format.is("strong");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},italic:{title:"Italic",toggle:!0,refresh:function(e){var t=this.format.is("em");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},underline:{title:"Underline",toggle:!0,refresh:function(e){var t=this.format.is("u");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},strikeThrough:{title:"Strikethrough",toggle:!0,refresh:function(e){var t=this.format.is("s");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},subscript:{title:"Subscript",toggle:!0,refresh:function(e){var t=this.format.is("sub");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},superscript:{title:"Superscript",toggle:!0,refresh:function(e){var t=this.format.is("sup");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},outdent:{title:"Decrease Indent"},indent:{title:"Increase Indent"},undo:{title:"Undo",undo:!1,forcedRefresh:!0,disabled:!0},redo:{title:"Redo",undo:!1,forcedRefresh:!0,disabled:!0},insertHR:{title:"Insert Horizontal Line"},clearFormatting:{title:"Clear Formatting"},selectAll:{title:"Select All",undo:!1}},e.FE.RegisterCommand=function(t,n){e.FE.COMMANDS[t]=n},e.FE.MODULES.commands=function(t){function n(n,r){if(t.events.trigger("commands.before",e.merge([n],r||[]))!==!1){var i=e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].callback||s[n],o=!0,a=!1;e.FE.COMMANDS[n]&&("undefined"!=typeof e.FE.COMMANDS[n].focus&&(o=e.FE.COMMANDS[n].focus),"undefined"!=typeof e.FE.COMMANDS[n].accessibilityFocus&&(a=e.FE.COMMANDS[n].accessibilityFocus)),(!t.core.hasFocus()&&o&&!t.popups.areVisible()||!t.core.hasFocus()&&a&&t.accessibility.hasFocus())&&t.events.focus(!0),e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].undo!==!1&&(t.$el.find(".fr-marker").length&&(t.events.disableBlur(),t.selection.restore()),t.undo.saveStep()),i&&i.apply(t,e.merge([n],r||[])),t.events.trigger("commands.after",e.merge([n],r||[])),e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].undo!==!1&&t.undo.saveStep()}}function r(e,n){t.format.toggle(n)}function i(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var r=t.selection.blocks(),i=0;i<r.length;i++)if("LI"!=r[i].tagName&&"LI"!=r[i].parentNode.tagName){var o=e(r[i]),a="rtl"==t.opts.direction||"rtl"==o.css("direction")?"margin-right":"margin-left",s=t.helpers.getPX(o.css(a));o.css(a,Math.max(s+20*n,0)||""),o.removeClass("fr-temp-div")}t.selection.save(),t.html.unwrap(),t.selection.restore()}function o(e){return function(){n(e)}}function a(){t.events.on("keydown",function(e){var n=t.selection.element();if(n&&"HR"==n.tagName&&!t.keys.isArrow(e.which))return e.preventDefault(),!1}),t.events.on("keyup",function(n){var r=t.selection.element();if(r&&"HR"==r.tagName)if(n.which==e.FE.KEYCODE.ARROW_LEFT||n.which==e.FE.KEYCODE.ARROW_UP){if(r.previousSibling)return t.node.isBlock(r.previousSibling)?t.selection.setAtEnd(r.previousSibling):e(r).before(e.FE.MARKERS),t.selection.restore(),!1}else if((n.which==e.FE.KEYCODE.ARROW_RIGHT||n.which==e.FE.KEYCODE.ARROW_DOWN)&&r.nextSibling)return t.node.isBlock(r.nextSibling)?t.selection.setAtStart(r.nextSibling):e(r).after(e.FE.MARKERS),t.selection.restore(),!1}),t.events.on("mousedown",function(e){if(e.target&&"HR"==e.target.tagName)return e.preventDefault(),e.stopPropagation(),!1}),t.events.on("mouseup",function(n){var r=t.selection.element(),i=t.selection.endElement();r==i&&r&&"HR"==r.tagName&&(r.nextSibling&&(t.node.isBlock(r.nextSibling)?t.selection.setAtStart(r.nextSibling):e(r).after(e.FE.MARKERS)),t.selection.restore())})}var s={bold:function(){r("bold","strong")},subscript:function(){r("subscript","sub")},superscript:function(){r("superscript","sup")},italic:function(){r("italic","em")},strikeThrough:function(){r("strikeThrough","s")},underline:function(){r("underline","u")},undo:function(){t.undo.run()},redo:function(){t.undo.redo()},indent:function(){i(1)},outdent:function(){i(-1)},show:function(){t.opts.toolbarInline&&t.toolbar.showInline(null,!0)},insertHR:function(){t.selection.remove();var e="";t.core.isEmpty()&&(e="<br>",t.html.defaultTag()&&(e="<"+t.html.defaultTag()+">"+e+"</"+t.html.defaultTag()+">")),t.html.insert('<hr id="fr-just">'+e);var n=t.$el.find("hr#fr-just");n.removeAttr("id"),t.selection.setAfter(n.get(0),!1)||t.selection.setBefore(n.get(0),!1),t.selection.restore()},clearFormatting:function(){t.format.remove()},selectAll:function(){t.doc.execCommand("selectAll",!1,!1)}},l={};for(var u in s)s.hasOwnProperty(u)&&(l[u]=o(u));return e.extend(l,{exec:n,_init:a})},e.FE.MODULES.data=function(e){function t(e){return e}function n(e){if(!e)return e;for(var n="",o=t("charCodeAt"),a=t("fromCharCode"),s=f.indexOf(e[0]),l=1;l<e.length-2;l++){for(var u=r(++s),c=e[o](l),d="";/[0-9-]/.test(e[l+1]);)d+=e[++l];d=parseInt(d,10)||0,c=i(c,u,d),c^=s-1&31,n+=String[a](c)}return n}function r(e){for(var t=e.toString(),n=0,r=0;r<t.length;r++)n+=parseInt(t.charAt(r),10);return n>10?n%9+1:n}function i(e,t,n){for(var r=Math.abs(n);r-- >0;)e-=t;return n<0&&(e+=123),e}function o(e){return!(!e||"none"!=e.css("display")||(e.remove(),0))}function a(){return o(u)||o(c)}function s(){return!!e.$box&&(e.$box.append(p(t(p("kTDD4spmKD1klaMB1C7A5RA1G3RA10YA5qhrjuvnmE1D3FD2bcG-7noHE6B2JB4C3xXA8WF6F-10RG2C3G3B-21zZE3C3H3xCA16NC4DC1f1hOF1MB3B-21whzQH5UA2WB10kc1C2F4D3XC2YD4D1C4F3GF2eJ2lfcD-13HF1IE1TC11TC7WE4TA4d1A2YA6XA4d1A3yCG2qmB-13GF4A1B1KH1HD2fzfbeQC3TD9VE4wd1H2A20A2B-22ujB3nBG2A13jBC10D3C2HD5D1H1KB11uD-16uWF2D4A3F-7C9D-17c1E4D4B3d1D2CA6B2B-13qlwzJF2NC2C-13E-11ND1A3xqUA8UE6bsrrF-7C-22ia1D2CF2H1E2akCD2OE1HH1dlKA6PA5jcyfzB-22cXB4f1C3qvdiC4gjGG2H2gklC3D-16wJC1UG4dgaWE2D5G4g1I2H3B7vkqrxH1H2EC9C3E4gdgzKF1OA1A5PF5C4WWC3VA6XA4e1E3YA2YA5HE4oGH4F2H2IB10D3D2NC5G1B1qWA9PD6PG5fQA13A10XA4C4A3e1H2BA17kC-22cmOB1lmoA2fyhcptwWA3RA8A-13xB-11nf1I3f1B7GB3aD3pavFC10D5gLF2OG1LSB2D9E7fQC1F4F3wpSB5XD3NkklhhaE-11naKA9BnIA6D1F5bQA3A10c1QC6Kjkvitc2B6BE3AF3E2DA6A4JD2IC1jgA-64MB11D6C4==")))),u=e.$box.find("> div:last"),c=u.find("> a"),void("rtl"==e.opts.direction&&u.css("left","auto").css("right",0)))}function l(){var n=e.opts.key||[""];"string"==typeof n&&(n=[n]),e.ul=!0;for(var r=0;r<n.length;r++){var i=p(n[r])||"";if(!(i!==p(t(p("mcVRDoB1BGILD7YFe1BTXBA7B6==")))&&i.indexOf(d,i.length-d.length)<0&&[p("9qqG-7amjlwq=="),p("KA3B3C2A6D1D5H5H1A3=="),p("QzbzvxyB2yA-9m=="),p("naamngiA3dA-16xtE-11C-9B1H-8sc==")].indexOf(d)<0)){e.ul=!1;break}}e.ul===!0&&s(),e.events.on("contentChanged",function(){e.ul===!0&&a()&&s()}),e.events.on("destroy",function(){u&&u.length&&u.remove()},!0)}var u,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=function(){for(var e=0,t=document.domain,n=t.split("."),r="_gd"+(new Date).getTime();e<n.length-1&&document.cookie.indexOf(r+"="+r)==-1;)t=n.slice(-1-++e).join("."),document.cookie=r+"="+r+";domain="+t+";";return document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",(t||"").replace(/(^\.*)|(\.*$)/g,"")}(),p=t(n);return{_init:l}},e.extend(e.FE.DEFAULTS,{pastePlain:!1,pasteDeniedTags:["colgroup","col"],pasteDeniedAttrs:["class","id","style"],pasteAllowLocalImages:!1}),e.FE.MODULES.paste=function(t){function n(n){e.FE.copied_html=t.html.getSelected(),e.FE.copied_text=e("<div>").html(e.FE.copied_html).text(),"cut"==n.type&&(t.undo.saveStep(),setTimeout(function(){t.selection.save(),t.html.wrap(),t.selection.restore(),t.events.focus(),t.undo.saveStep()},0))}function r(e){if(h)return!1;if(e.originalEvent&&(e=e.originalEvent),t.events.trigger("paste.before",[e])===!1)return e.preventDefault(),!1;if(f=t.$win.scrollTop(),e&&e.clipboardData&&e.clipboardData.getData){var n="",r=e.clipboardData.types;if(t.helpers.isArray(r))for(var o=0;o<r.length;o++)n+=r[o]+";";else n=r;if(d="",/text\/html/.test(n)?d=e.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&t.browser.safari?d=e.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(d=t.html.escapeEntities(e.clipboardData.getData("text/plain")).replace(/\n/g,"<br>")),""!==d)return s(),e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!1;d=null}i()}function i(){t.selection.save(),t.events.disableBlur(),d=null,p?p.html(""):(p=e('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 9999; line-height: 140%;" tabIndex="-1"></div>'),t.$box.after(p),t.events.on("destroy",function(){p.remove()})),p.focus(),t.win.setTimeout(s,1)}function o(e){e=e.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),e=e.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),e=e.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),e=e.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),e=e.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),e=e.replace(/<!--[\s\S]*?-->/gi,""),e=e.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var n=["style","script","applet","embed","noframes","noscript"],r=0;r<n.length;r++){var i=new RegExp("<"+n[r]+".*?"+n[r]+"(.*?)>","gi");e=e.replace(i,"")}e=e.replace(/&nbsp;/gi," "),e=e.replace(/<td([^>]*)><\/td>/g,"<td$1><br></td>"),e=e.replace(/<th([^>]*)><\/th>/g,"<th$1><br></th>");var o;do o=e,e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(e!=o);e=e.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),e=e.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),e=t.clean.html(e,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs),e=e.replace(/<a>(.[^<]+)<\/a>/gi,"$1"),e=e.replace(/<br> */g,"<br>");var a=t.o_doc.createElement("div");a.innerHTML=e;for(var s=a.querySelectorAll("li[data-indent]"),r=0;r<s.length;r++){var l=s[r],u=l.previousElementSibling;if(u&&"LI"==u.tagName){var c=u.querySelector(":scope > ul, :scope > ol");c||(c=document.createElement("ul"),u.appendChild(c)),c.appendChild(l)}else l.removeAttribute("data-indent")}return t.html.cleanBlankSpaces(a),e=a.innerHTML}function a(e){var n=t.doc.createElement("div");n.innerHTML=e;for(var r=n.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote"),i=0;i<r.length;i++){var o=r[i];o.outerHTML="<"+(t.html.defaultTag()||"DIV")+">"+o.innerHTML+"</"+(t.html.defaultTag()||"DIV")+">"}r=n.querySelectorAll("*:not("+"p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img".split(",").join("):not(")+")");for(var i=r.length-1;i>=0;i--){var o=r[i];o.outerHTML=o.innerHTML}var a=function(e){for(var n=t.node.contents(e),r=0;r<n.length;r++)n[r].nodeType!=Node.TEXT_NODE&&n[r].nodeType!=Node.ELEMENT_NODE?n[r].parentNode.removeChild(n[r]):a(n[r])};return a(n),n.innerHTML}function s(){t.keys.forceUndo();var n=t.snapshot.get();null===d&&(d=p.get(0).innerHTML,t.selection.restore(),t.events.enableBlur());var r=t.events.chainTrigger("paste.beforeCleanup",d);"string"==typeof r&&(d=r);var i=!1;d.match(/(class=\"?Mso|class=\'?Mso|style=\"[^\"]*\bmso\-|style=\'[^\']*\bmso\-|w:WordDocument)/gi)&&(i=!0),d.indexOf("<body")>=0&&(d=d.replace(/[.\s\S\w\W<>]*<body[^>]*>[\s]*([.\s\S\w\W<>]*)\s]*<\/body>[.\s\S\w\W<>]*/g,"$1"),d=d.replace(/([^>])\n([^<])/g,"$1 $2"));var s=!1;if(d.indexOf('id="docs-internal-guid')>=0&&(d=d.replace(/^.* id="docs-internal-guid[^>]*>(.*)<\/b>.*$/,"$1"),s=!0),i)d=d.replace(/^\n*/g,"").replace(/^ /g,""),0===d.indexOf("<colgroup>")&&(d="<table>"+d+"</table>"),d=o(d),d=u(d);else{t.opts.htmlAllowComments=!1,d=t.clean.html(d,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs),t.opts.htmlAllowComments=!0,d=u(d),d=d.replace(/\r|\n|\t/g,"");var c=t.doc.createElement("div");c.innerHTML=d,e.FE.copied_text&&c.textContent.replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")==e.FE.copied_text.replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")&&(d=e.FE.copied_html),d=d.replace(/^ */g,"").replace(/ *$/g,"")}if(t.opts.pastePlain&&(d=a(d)),r=t.events.chainTrigger("paste.afterCleanup",d),"string"==typeof r&&(d=r),""!==d){var f=t.o_doc.createElement("div");f.innerHTML=d,t.spaces.normalize(f);for(var h=f.getElementsByTagName("span"),g=0;g<h.length;g++){var m=h[g];0===m.attributes.length&&(m.outerHTML=m.innerHTML)}var v=f.children;if(1==v.length&&["OL","UL"].indexOf(v[0].tagName)>=0&&(v[0].outerHTML=v[0].innerHTML),!s)for(var b=f.getElementsByTagName("br"),g=0;g<b.length;g++){var y=b[g];t.node.isBlock(y.previousSibling)&&y.parentNode.removeChild(y)}if(t.opts.enter==e.FE.ENTER_BR)for(var E=f.querySelectorAll("p, div"),g=0;g<E.length;g++){var $=E[g];$.outerHTML=$.innerHTML+($.nextSibling&&!t.node.isEmpty($)?"<br>":"")}else if(t.opts.enter==e.FE.ENTER_DIV)for(var E=f.getElementsByTagName("p"),g=0;g<E.length;g++){var $=E[g];$.outerHTML="<div>"+$.innerHTML+"</div>"}d=f.innerHTML,t.html.insert(d,!0)}l(),t.undo.saveStep(n),t.undo.saveStep()}function l(){t.events.trigger("paste.after")}function u(e){var n=t.o_doc.createElement("div");n.innerHTML=e;for(var r=n.querySelectorAll("*:empty:not(br):not(img):not(td):not(th)");r.length;){for(var i=0;i<r.length;i++)r[i].parentNode.removeChild(r[i]);r=n.querySelectorAll("*:empty:not(br):not(img):not(td):not(th)")}for(var o=n.querySelectorAll(":scope > div:not([style]), td > div, th > div, li > div");o.length;){var a=o[o.length-1];if(t.html.defaultTag()&&"div"!=t.html.defaultTag())a.querySelector(t.html.blockTagsQuery())?a.outerHTML=a.innerHTML:a.outerHTML="<"+t.html.defaultTag()+">"+a.innerHTML+"</"+t.html.defaultTag()+">";else{var s=a.querySelectorAll("*");s.length&&"BR"===s[s.length-1].tagName?a.outerHTML=a.innerHTML:a.outerHTML=a.innerHTML+"<br>"}o=n.querySelectorAll(":scope > div:not([style]), td > div, th > div, li > div")}for(o=n.querySelectorAll("div:not([style])");o.length;){for(i=0;i<o.length;i++){var l=o[i],u=l.innerHTML.replace(/\u0009/gi,"").trim();l.outerHTML=u}o=n.querySelectorAll("div:not([style])")}return n.innerHTML}function c(){t.events.on("copy",n),t.events.on("cut",n),t.events.on("paste",r),t.browser.msie&&t.browser.version<11&&(t.events.on("mouseup",function(e){2==e.button&&(setTimeout(function(){h=!1},50),h=!0)},!0),t.events.on("beforepaste",r))}var f,d,p,h=!1;return{_init:c}},e.extend(e.FE.DEFAULTS,{shortcutsEnabled:["show","bold","italic","underline","strikeThrough","indent","outdent","undo","redo"],shortcutsHint:!0}),e.FE.SHORTCUTS_MAP={},e.FE.RegisterShortcut=function(t,n,r,i,o,a){e.FE.SHORTCUTS_MAP[(o?"^":"")+(a?"@":"")+t]={cmd:n,val:r,letter:i,shift:o,option:a},e.FE.DEFAULTS.shortcutsEnabled.push(n)},e.FE.RegisterShortcut(e.FE.KEYCODE.E,"show",null,"E",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.B,"bold",null,"B",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.I,"italic",null,"I",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.U,"underline",null,"U",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.S,"strikeThrough",null,"S",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.CLOSE_SQUARE_BRACKET,"indent",null,"]",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.OPEN_SQUARE_BRACKET,"outdent",null,"[",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"undo",null,"Z",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"redo",null,"Z",!0,!1),e.FE.MODULES.shortcuts=function(t){function n(n){if(!t.opts.shortcutsHint)return null;if(!o){o={};for(var r in e.FE.SHORTCUTS_MAP)e.FE.SHORTCUTS_MAP.hasOwnProperty(r)&&t.opts.shortcutsEnabled.indexOf(e.FE.SHORTCUTS_MAP[r].cmd)>=0&&(o[e.FE.SHORTCUTS_MAP[r].cmd+"."+(e.FE.SHORTCUTS_MAP[r].val||"")]={shift:e.FE.SHORTCUTS_MAP[r].shift,option:e.FE.SHORTCUTS_MAP[r].option,letter:e.FE.SHORTCUTS_MAP[r].letter})}var i=o[n];return i?(t.helpers.isMac()?String.fromCharCode(8984):"Ctrl+")+(i.shift?t.helpers.isMac()?String.fromCharCode(8679):"Shift+":"")+(i.option?t.helpers.isMac()?String.fromCharCode(8997):"Alt+":"")+i.letter:null}function r(n){if(!t.core.hasFocus())return!0;var r=n.which,i=navigator.userAgent.indexOf("Mac OS X")!=-1?n.metaKey:n.ctrlKey;if("keyup"==n.type&&a&&r!=e.FE.KEYCODE.META)return a=!1,!1;"keydown"==n.type&&(a=!1);var o=(n.shiftKey?"^":"")+(n.altKey?"@":"")+r;if(i&&e.FE.SHORTCUTS_MAP[o]){var s=e.FE.SHORTCUTS_MAP[o].cmd;if(s&&t.opts.shortcutsEnabled.indexOf(s)>=0){var l,u=e.FE.SHORTCUTS_MAP[o].val;if(s&&!u?l=t.$tb.find('.fr-command[data-cmd="'+s+'"]'):s&&u&&(l=t.$tb.find('.fr-command[data-cmd="'+s+'"][data-param1="'+u+'"]')),l.length)return n.preventDefault(),n.stopPropagation(),l.parents(".fr-toolbar").data("instance",t),"keydown"==n.type&&(t.button.exec(l),a=!0),!1;if(s&&t.commands[s])return n.preventDefault(),n.stopPropagation(),"keydown"==n.type&&(t.commands[s](),a=!0),!1}}}function i(){t.events.on("keydown",r,!0),t.events.on("keyup",r,!0)}var o=null,a=!1;return{_init:i,get:n}},e.FE.MODULES.snapshot=function(e){function t(e){for(var t=e.parentNode.childNodes,n=0,r=null,i=0;i<t.length;i++){if(r){var o=t[i].nodeType===Node.TEXT_NODE&&""===t[i].textContent,a=r.nodeType===Node.TEXT_NODE&&t[i].nodeType===Node.TEXT_NODE;
o||a||n++}if(t[i]==e)return n;r=t[i]}}function n(n){var r=[];if(!n.parentNode)return[];for(;!e.node.isElement(n);)r.push(t(n)),n=n.parentNode;return r.reverse()}function r(e,t){for(;e&&e.nodeType===Node.TEXT_NODE;){var n=e.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&(t+=n.textContent.length),e=n}return t}function i(e){return{scLoc:n(e.startContainer),scOffset:r(e.startContainer,e.startOffset),ecLoc:n(e.endContainer),ecOffset:r(e.endContainer,e.endOffset)}}function o(){var t={};if(e.events.trigger("snapshot.before"),t.html=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,""),t.ranges=[],e.$wp&&e.selection.inEditor()&&e.core.hasFocus())for(var n=e.selection.ranges(),r=0;r<n.length;r++)t.ranges.push(i(n[r]));return e.events.trigger("snapshot.after"),t}function a(t){for(var n=e.el,r=0;r<t.length;r++)n=n.childNodes[t[r]];return n}function s(t,n){try{var r=a(n.scLoc),i=n.scOffset,o=a(n.ecLoc),s=n.ecOffset,l=e.doc.createRange();l.setStart(r,i),l.setEnd(o,s),t.addRange(l)}catch(u){}}function l(t){e.$el.html()!=t.html&&e.$el.html(t.html);var n=e.selection.get();e.selection.clear(),e.events.focus(!0);for(var r=0;r<t.ranges.length;r++)s(n,t.ranges[r])}function u(t,n){return t.html==n.html&&(!e.core.hasFocus()||JSON.stringify(t.ranges)==JSON.stringify(n.ranges))}return{get:o,restore:l,equal:u}},e.FE.MODULES.undo=function(e){function t(t){var n=t.which,r=e.keys.ctrlKey(t);r&&(90==n&&t.shiftKey&&t.preventDefault(),90==n&&t.preventDefault())}function n(){return!(0===e.undo_stack.length||e.undo_index<=1)}function r(){return e.undo_index!=e.undo_stack.length}function i(t){return!(!e.undo_stack||e.undoing||e.el.querySelector(".fr-marker"))&&void("undefined"==typeof t?(t=e.snapshot.get(),e.undo_stack[e.undo_index-1]&&e.snapshot.equal(e.undo_stack[e.undo_index-1],t)||(o(),e.undo_stack.push(t),e.undo_index++,t.html!=f&&(e.events.trigger("contentChanged"),f=t.html))):(o(),e.undo_index>0?e.undo_stack[e.undo_index-1]=t:(e.undo_stack.push(t),e.undo_index++)))}function o(){if(!e.undo_stack||e.undoing)return!1;for(;e.undo_stack.length>e.undo_index;)e.undo_stack.pop()}function a(){if(e.undo_index>1){e.undoing=!0;var t=e.undo_stack[--e.undo_index-1];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),f=t.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.undo"),e.undoing=!1}}function s(){if(e.undo_index<e.undo_stack.length){e.undoing=!0;var t=e.undo_stack[e.undo_index++];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),f=t.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.redo"),e.undoing=!1}}function l(){e.undo_index=0,e.undo_stack=[]}function u(){e.undo_stack=[]}function c(){l(),e.events.on("initialized",function(){f=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,"")}),e.events.on("blur",function(){e.el.querySelector(".fr-dragging")||e.undo.saveStep()}),e.events.on("keydown",t),e.events.on("destroy",u)}var f=null;return{_init:c,run:a,redo:s,canDo:n,canRedo:r,dropRedo:o,reset:l,saveStep:i}},e.FE.ICON_DEFAULT_TEMPLATE="font_awesome",e.FE.ICON_TEMPLATES={font_awesome:'<i class="fa fa-[NAME]" aria-hidden="true"></i>',text:'<span style="text-align: center;">[NAME]</span>',image:"<img src=[SRC] alt=[ALT] />",svg:'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">[PATH]</svg>'},e.FE.ICONS={bold:{NAME:"bold"},italic:{NAME:"italic"},underline:{NAME:"underline"},strikeThrough:{NAME:"strikethrough"},subscript:{NAME:"subscript"},superscript:{NAME:"superscript"},color:{NAME:"tint"},outdent:{NAME:"outdent"},indent:{NAME:"indent"},undo:{NAME:"rotate-left"},redo:{NAME:"rotate-right"},insertHR:{NAME:"minus"},clearFormatting:{NAME:"eraser"},selectAll:{NAME:"mouse-pointer"}},e.FE.DefineIconTemplate=function(t,n){e.FE.ICON_TEMPLATES[t]=n},e.FE.DefineIcon=function(t,n){e.FE.ICONS[t]=n},e.FE.MODULES.icon=function(t){function n(t){var n=null,r=e.FE.ICONS[t];if("undefined"!=typeof r){var i=r.template||e.FE.ICON_DEFAULT_TEMPLATE;i&&(i=e.FE.ICON_TEMPLATES[i])&&(n=i.replace(/\[([a-zA-Z]*)\]/g,function(e,n){return"NAME"==n?r[n]||t:r[n]}))}return n||t}function r(t){var n=e.FE.ICONS[t],r=e.FE.ICON_DEFAULT_TEMPLATE;if("undefined"!=typeof n){var r=n.template||e.FE.ICON_DEFAULT_TEMPLATE;return r}return r}return{create:n,getTemplate:r}},e.extend(e.FE.DEFAULTS,{tooltips:!0}),e.FE.MODULES.tooltip=function(t){function n(){t.$tooltip&&t.$tooltip.removeClass("fr-visible").css("left","-3000px").css("position","fixed")}function r(n,r){if(n.data("title")||n.data("title",n.attr("title")),!n.data("title"))return!1;t.$tooltip||o(),n.removeAttr("title"),t.$tooltip.text(n.data("title")),t.$tooltip.addClass("fr-visible");var i=n.offset().left+(n.outerWidth()-t.$tooltip.outerWidth())/2;i<0&&(i=0),i+t.$tooltip.outerWidth()>e(t.o_win).width()&&(i=e(t.o_win).width()-t.$tooltip.outerWidth()),"undefined"==typeof r&&(r=t.opts.toolbarBottom);var a=r?n.offset().top-t.$tooltip.height():n.offset().top+n.outerHeight();t.$tooltip.css("position",""),t.$tooltip.css("left",i),t.$tooltip.css("top",Math.ceil(a)),"static"!=e(t.o_doc).find("body").css("position")?(t.$tooltip.css("margin-left",-e(t.o_doc).find("body").offset().left),t.$tooltip.css("margin-top",-e(t.o_doc).find("body").offset().top)):(t.$tooltip.css("margin-left",""),t.$tooltip.css("margin-top",""))}function i(i,o,a){t.opts.tooltips&&!t.helpers.isMobile()&&(t.events.$on(i,"mouseenter",o,function(n){t.node.hasClass(n.currentTarget,"fr-disabled")||t.edit.isDisabled()||r(e(n.currentTarget),a)},!0),t.events.$on(i,"mouseleave "+t._mousedown+" "+t._mouseup,o,function(e){n()},!0))}function o(){t.opts.tooltips&&!t.helpers.isMobile()&&(t.shared.$tooltip?t.$tooltip=t.shared.$tooltip:(t.shared.$tooltip=e('<div class="fr-tooltip"></div>'),t.$tooltip=t.shared.$tooltip,t.opts.theme&&t.$tooltip.addClass(t.opts.theme+"-theme"),e(t.o_doc).find("body").append(t.$tooltip)),t.events.on("shared.destroy",function(){t.$tooltip.html("").removeData().remove(),t.$tooltip=null},!0))}return{hide:n,to:r,bind:i}},e.FE.MODULES.button=function(t){function n(n){var r=n.next(),i=t.node.hasClass(n.get(0),"fr-active"),o=(t.helpers.isMobile(),e(".fr-dropdown.fr-active").not(n)),a=n.parents(".fr-toolbar, .fr-popup").data("instance")||t;if(a.helpers.isIOS()&&!a.el.querySelector(".fr-marker")&&(a.selection.save(),a.selection.clear(),a.selection.restore()),!i){var s=n.data("cmd");r.find(".fr-command").removeClass("fr-active").attr("aria-selected",!1),e.FE.COMMANDS[s]&&e.FE.COMMANDS[s].refreshOnShow&&e.FE.COMMANDS[s].refreshOnShow.apply(a,[n,r]),r.css("left",n.offset().left-n.parent().offset().left-("rtl"==t.opts.direction?r.width()-n.outerWidth():0)),t.opts.toolbarBottom?r.css("bottom",t.$tb.height()-n.position().top):r.css("top",n.position().top+n.outerHeight())}n.addClass("fr-blink").toggleClass("fr-active"),n.hasClass("fr-active")?(r.attr("aria-hidden",!1),n.attr("aria-expanded",!0)):(r.attr("aria-hidden",!0),n.attr("aria-expanded",!1)),setTimeout(function(){n.removeClass("fr-blink")},300),r.offset().left+r.outerWidth()>t.$sc.offset().left+t.$sc.outerWidth()&&r.css("margin-left",-(r.offset().left+r.outerWidth()-t.$sc.offset().left-t.$sc.outerWidth())),o.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),o.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""),0!=n.parents(".fr-popup").length||t.opts.toolbarInline||(t.node.hasClass(n.get(0),"fr-active")?t.$tb.css("zIndex",(t.opts.zIndex||1)+4):t.$tb.css("zIndex",""));var l=r.find("a.fr-command.fr-active");l.length?t.accessibility.focusToolbarElement(l):t.accessibility.focusToolbarElement(n)}function r(t){t.addClass("fr-blink"),setTimeout(function(){t.removeClass("fr-blink")},500);for(var n=t.data("cmd"),r=[];"undefined"!=typeof t.data("param"+(r.length+1));)r.push(t.data("param"+(r.length+1)));var i=e(".fr-dropdown.fr-active");i.length&&(i.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),i.parent(".fr-toolbar:not(.fr-inline)").css("zIndex","")),t.parents(".fr-popup, .fr-toolbar").data("instance").commands.exec(n,r)}function i(e){r(e)}function o(r){var o=r.parents(".fr-popup, .fr-toolbar").data("instance");if(0!=r.parents(".fr-popup").length||r.data("popup")||o.popups.hideAll(),o.popups.areVisible()&&!o.popups.areVisible(o)){for(var a=0;a<e.FE.INSTANCES.length;a++)e.FE.INSTANCES[a]!=o&&e.FE.INSTANCES[a].popups&&e.FE.INSTANCES[a].popups.areVisible()&&e.FE.INSTANCES[a].$el.find(".fr-marker").remove();o.popups.hideAll()}t.node.hasClass(r.get(0),"fr-dropdown")?n(r):(i(r),e.FE.COMMANDS[r.data("cmd")]&&0!=e.FE.COMMANDS[r.data("cmd")].refreshAfterCallback&&o.button.bulkRefresh())}function a(t){var n=e(t.currentTarget);o(n)}function s(e){var t=e.find(".fr-dropdown.fr-active");t.length&&(t.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),t.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""))}function l(e){e.preventDefault(),e.stopPropagation()}function u(e){if(e.stopPropagation(),!t.helpers.isMobile())return!1}function c(n,r){t.events.bindClick(n,".fr-command:not(.fr-disabled)",a),t.events.$on(n,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu",l,!0),t.events.$on(n,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu .fr-dropdown-wrapper",u,!0);var i=n.get(0).ownerDocument,o="defaultView"in i?i.defaultView:i.parentWindow,c=function(r){(!r||r.type==t._mouseup&&r.target!=e("html").get(0)||"keydown"==r.type&&(t.keys.isCharacter(r.which)&&!t.keys.ctrlKey(r)||r.which==e.FE.KEYCODE.ESC))&&s(n)};t.events.$on(e(o),t._mouseup+" resize keydown",c,!0),t.opts.iframe&&t.events.$on(t.$win,t._mouseup,c,!0),t.node.hasClass(n.get(0),"fr-popup")?e.merge(E,n.find(".fr-btn").toArray()):e.merge(y,n.find(".fr-btn").toArray()),t.tooltip.bind(n,".fr-btn, .fr-title",r)}function f(e,n){var r="";if(n.html)r+="function"==typeof n.html?n.html.call(t):n.html;else{var i=n.options;"function"==typeof i&&(i=i()),r+='<ul class="fr-dropdown-list" role="presentation">';for(var o in i)if(i.hasOwnProperty(o)){var a=t.shortcuts.get(e+"."+o);a=a?'<span class="fr-shortcut">'+a+"</span>":"",r+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="'+e+'" data-param1="'+o+'" title="'+i[o]+'">'+t.language.translate(i[o])+"</a></li>"}r+="</ul>"}return r}function d(e,n,r){if(t.helpers.isMobile()&&n.showOnMobile===!1)return"";var i=n.displaySelection;"function"==typeof i&&(i=i(t));var o;if(i){var a="function"==typeof n.defaultSelection?n.defaultSelection(t):n.defaultSelection;o='<span style="width:'+(n.displaySelectionWidth||100)+'px">'+(a||t.language.translate(n.title))+"</span>"}else o=t.icon.create(n.icon||e),o+='<span class="fr-sr-only">'+(t.language.translate(n.title)||"")+"</span>";var s=n.popup?' data-popup="true"':"",l=n.modal?' data-modal="true"':"",u=t.shortcuts.get(e+".");u=u?" ("+u+")":"";var c=e+"-"+t.id,d='<button id="'+c+'"type="button" tabIndex="-1" role="button"'+(n.toggle?' aria-pressed="false"':"")+("dropdown"==n.type?' aria-controls="drop" aria-expanded="false" aria-haspopup="true"':"")+(n.disabled?' aria-disabled="true"':"")+' title="'+(t.language.translate(n.title)||"")+u+'" class="fr-command fr-btn'+("dropdown"==n.type?" fr-dropdown":"")+(" fr-btn-"+t.icon.getTemplate(n.icon))+(n.displaySelection?" fr-selection":"")+(n.back?" fr-back":"")+(n.disabled?" fr-disabled":"")+(r?"":" fr-hidden")+'" data-cmd="'+e+'"'+s+l+">"+o+"</button>";if("dropdown"==n.type){var p='<div class="fr-dropdown-menu" role="listbox" aria-labelledby="'+c+'" aria-hidden="true"><div class="fr-dropdown-wrapper" role="presentation"><div class="fr-dropdown-content" role="presentation">';p+=f(e,n),p+="</div></div></div>",d+=p}return d}function p(n,r){for(var i="",o=0;o<n.length;o++){var a=n[o],s=e.FE.COMMANDS[a];if(!(s&&"undefined"!=typeof s.plugin&&t.opts.pluginsEnabled.indexOf(s.plugin)<0))if(s){var l="undefined"==typeof r||r.indexOf(a)>=0;i+=d(a,s,l)}else"|"==a?i+='<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>':"-"==a&&(i+='<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>')}return i}function h(n){var r,i=n.parents(".fr-popup, .fr-toolbar").data("instance")||t,o=n.data("cmd");t.node.hasClass(n.get(0),"fr-dropdown")?r=n.next():(n.removeClass("fr-active"),n.attr("aria-pressed")&&n.attr("aria-pressed",!1)),e.FE.COMMANDS[o]&&e.FE.COMMANDS[o].refresh?e.FE.COMMANDS[o].refresh.apply(i,[n,r]):t.refresh[o]&&i.refresh[o](n,r)}function g(n){var r=t.$tb?t.$tb.data("instance")||t:t;return 0==t.events.trigger("buttons.refresh")||void setTimeout(function(){for(var i=r.selection.inEditor()&&r.core.hasFocus(),o=0;o<n.length;o++){var a=e(n[o]),s=a.data("cmd");0==a.parents(".fr-popup").length?i||e.FE.COMMANDS[s]&&e.FE.COMMANDS[s].forcedRefresh?r.button.refresh(a):t.node.hasClass(a.get(0),"fr-dropdown")||(a.removeClass("fr-active"),a.attr("aria-pressed")&&a.attr("aria-pressed",!1)):a.parents(".fr-popup").is(":visible")&&r.button.refresh(a)}},0)}function m(){g(y),g(E)}function v(){y=[],E=[]}function b(){t.opts.toolbarInline?t.events.on("toolbar.show",m):(t.events.on("mouseup",m),t.events.on("keyup",m),t.events.on("blur",m),t.events.on("focus",m),t.events.on("contentChanged",m)),t.events.on("shared.destroy",v)}var y=[];(t.opts.toolbarInline||t.opts.toolbarContainer)&&(t.shared.buttons||(t.shared.buttons=[]),y=t.shared.buttons);var E=[];return t.shared.popup_buttons||(t.shared.popup_buttons=[]),E=t.shared.popup_buttons,{_init:b,buildList:p,bindCommands:c,refresh:h,bulkRefresh:m,exec:r,click:o,hideActiveDropdowns:s}},e.FE.MODULES.modals=function(t){function n(e){return p[e]}function r(n,r){var i='<div tabIndex="-1" class="fr-modal'+(t.opts.theme?" "+t.opts.theme+"-theme":"")+'"><div class="fr-modal-wrapper">',o='<i title="'+t.language.translate("Cancel")+'" class="fa fa-times fr-modal-close"></i>';return i+='<div class="fr-modal-head">'+n+o+"</div>",i+='<div tabIndex="-1" class="fr-modal-body">'+r+"</div>",i+="</div></div>",e(i)}function i(n,i,o){if(t.shared.$overlay||(t.shared.$overlay=e('<div class="fr-overlay">').appendTo("body")),d=t.shared.$overlay,t.opts.theme&&d.addClass(t.opts.theme+"-theme"),!p[n]){var a=r(i,o);p[n]={$modal:a,$head:a.find(".fr-modal-head"),$body:a.find(".fr-modal-body")},t.helpers.isMobile()||a.addClass("fr-desktop"),a.appendTo("body"),t.events.bindClick(a,"i.fr-modal-close",function(){s(n)}),p[n].$body.css("margin-top",p[n].$head.outerHeight()),t.events.$on(a,"keydown",function(r){var i=r.which;return i==e.FE.KEYCODE.ESC?(s(n),t.accessibility.focusModalButton(a),!1):!(!e(r.currentTarget).is("input[type=text], textarea")&&i!=e.FE.KEYCODE.ARROW_UP&&i!=e.FE.KEYCODE.ARROW_DOWN&&!t.keys.isBrowserAction(r)&&(r.preventDefault(),r.stopPropagation(),1))},!0),s(n)}return p[n]}function o(){for(var e in p){var t=p[e];t&&t.$modal&&t.$modal.removeData().remove()}d&&d.removeData().remove(),p={}}function a(e){if(p[e]){var n=p[e].$modal;n.data("instance",t),n.show(),d.show(),t.$doc.find("body").addClass("prevent-scroll"),t.helpers.isMobile()&&t.$doc.find("body").addClass("fr-mobile"),n.addClass("fr-active"),t.accessibility.focusModal(n)}}function s(e){if(p[e]){var n=p[e].$modal,r=n.data("instance")||t;r.events.enableBlur(),n.hide(),d.hide(),r.$doc.find("body").removeClass("prevent-scroll fr-mobile"),n.removeClass("fr-active"),t.accessibility.restoreSelection(r)}}function l(e){if(p[e]){var n=p[e],r=n.$modal,i=n.$body,o=t.$win.height(),a=r.find(".fr-modal-wrapper"),s=a.outerHeight(!0),l=a.height()-(i.outerHeight(!0)-i.height()),u=o-s+l,c=i.get(0).scrollHeight,f="auto";c>u&&(f=u),i.height(f)}}function u(e){var n;if("string"==typeof e){if(!p[e])return;n=p[e].$modal}else n=e;return n&&t.node.hasClass(n,"fr-active")&&t.core.sameInstance(n)||!1}function c(e){for(var t in p)if(p.hasOwnProperty(t)&&u(t)&&("undefined"==typeof e||p[t].$modal.data("instance")==e))return p[t].$modal;return!1}function f(){t.events.on("shared.destroy",o,!0)}t.shared.modals||(t.shared.modals={});var d,p=t.shared.modals;return{_init:f,get:n,create:i,show:a,hide:s,resize:l,isVisible:u,areVisible:c}},e.FE.POPUP_TEMPLATES={"text.edit":"[_EDIT_]"},e.FE.RegisterTemplate=function(t,n){e.FE.POPUP_TEMPLATES[t]=n},e.FE.MODULES.popups=function(t){function n(e,n){n.is(":visible")||(n=t.$sc),n.is(x[e].data("container"))||(x[e].data("container",n),n.append(x[e]))}function r(r,i,s,l){if(a()&&t.$el.find(".fr-marker").length>0?(t.events.disableBlur(),t.selection.restore()):(t.events.disableBlur(),t.events.focus(),t.events.enableBlur()),d([r]),!x[r])return!1;var u=e(".fr-dropdown.fr-active");u.removeClass("fr-active").attr("aria-expanded",!1).parent(".fr-toolbar").css("zIndex",""),u.next().attr("aria-hidden",!0),x[r].data("instance",t),t.$tb&&t.$tb.data("instance",t);var c=x[r].outerWidth(),f=(x[r].outerHeight(),o(r));x[r].addClass("fr-active").removeClass("fr-hidden").find("input, textarea").removeAttr("disabled");var p=x[r].data("container");t.opts.toolbarInline&&p&&t.$tb&&p.get(0)==t.$tb.get(0)&&(n(r,t.$sc),s=t.$tb.offset().top-t.helpers.getPX(t.$tb.css("margin-top")),i=t.$tb.offset().left+t.$tb.outerWidth()/2+(parseFloat(t.$tb.find(".fr-arrow").css("margin-left"))||0)+t.$tb.find(".fr-arrow").outerWidth()/2,t.node.hasClass(t.$tb.get(0),"fr-above")&&s&&(s+=t.$tb.outerHeight()),l=0),p=x[r].data("container"),!t.opts.iframe||l||f||(i&&(i-=t.$iframe.offset().left),s&&(s-=t.$iframe.offset().top)),p.is(t.$tb)?t.$tb.css("zIndex",(t.opts.zIndex||1)+4):x[r].css("zIndex",(t.opts.zIndex||1)+4),i&&(i-=c/2),t.opts.toolbarBottom&&p&&t.$tb&&p.get(0)==t.$tb.get(0)&&(x[r].addClass("fr-above"),s&&(s-=x[r].outerHeight())),x[r].removeClass("fr-active"),t.position.at(i,s,x[r],l||0),x[r].addClass("fr-active"),f||t.accessibility.focusPopup(x[r]),t.opts.toolbarInline&&t.toolbar.hide(),t.events.trigger("popups.show."+r),b(r)._repositionPopup(),h()}function i(e,n){t.events.on("popups.show."+e,n)}function o(e){return x[e]&&t.node.hasClass(x[e],"fr-active")&&t.core.sameInstance(x[e])||!1}function a(e){for(var t in x)if(x.hasOwnProperty(t)&&o(t)&&("undefined"==typeof e||x[t].data("instance")==e))return x[t];return!1}function s(e){var n=null;n="string"!=typeof e?e:x[e],n&&t.node.hasClass(n,"fr-active")&&(n.removeClass("fr-active fr-above"),t.events.trigger("popups.hide."+e),t.$tb&&(t.opts.zIndex>1?t.$tb.css("zIndex",t.opts.zIndex+1):t.$tb.css("zIndex","")),t.events.disableBlur(),n.find("input, textarea, button").filter(":focus").blur(),n.find("input, textarea").attr("disabled","disabled"))}function l(e,n){t.events.on("popups.hide."+e,n)}function u(e){var n=x[e];if(n&&!n.data("inst"+t.id)){var r=b(e);y(r,e)}return n}function c(e,n){t.events.on("popups.refresh."+e,n)}function f(n){t.events.trigger("popups.refresh."+n);for(var r=x[n].find(".fr-command"),i=0;i<r.length;i++){var o=e(r[i]);0==o.parents(".fr-dropdown-menu").length&&t.button.refresh(o)}}function d(e){"undefined"==typeof e&&(e=[]);for(var t in x)x.hasOwnProperty(t)&&e.indexOf(t)<0&&s(t)}function p(){t.shared.exit_flag=!0}function h(){t.shared.exit_flag=!1}function g(){return t.shared.exit_flag}function m(n,r){var i=e.FE.POPUP_TEMPLATES[n];"function"==typeof i&&(i=i.apply(t));for(var o in r)r.hasOwnProperty(o)&&(i=i.replace("[_"+o.toUpperCase()+"_]",r[o]));return i}function v(n,r){var i=m(n,r),o=e('<div class="fr-popup'+(t.helpers.isMobile()?" fr-mobile":" fr-desktop")+(t.opts.toolbarInline?" fr-inline":"")+'"><span class="fr-arrow"></span>'+i+"</div>");t.opts.theme&&o.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&t.$tb.css("z-index",t.opts.zIndex+2),"auto"!=t.opts.direction&&o.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),o.find("input, textarea").attr("dir",t.opts.direction).attr("disabled","disabled");var a=e("body");return a.append(o),o.data("container",a),x[n]=o,t.button.bindCommands(o,!1),o}function b(n){var r=x[n];return{_windowResize:function(){var e=r.data("instance")||t;!e.helpers.isMobile()&&r.is(":visible")&&(e.events.disableBlur(),e.popups.hide(n),e.events.enableBlur())},_inputFocus:function(n){var i=r.data("instance")||t,o=e(n.currentTarget);if(o.is("input:file")&&o.closest(".fr-layer").addClass("fr-input-focus"),n.preventDefault(),n.stopPropagation(),setTimeout(function(){i.events.enableBlur()},0),i.helpers.isMobile()){var a=e(i.o_win).scrollTop();setTimeout(function(){e(i.o_win).scrollTop(a)},0)}},_inputBlur:function(n){var i=r.data("instance")||t,o=e(n.currentTarget);o.is("input:file")&&o.closest(".fr-layer").removeClass("fr-input-focus"),document.activeElement!=this&&e(this).is(":visible")&&(i.events.blurActive()&&i.events.trigger("blur"),i.events.enableBlur())},_editorKeydown:function(i){var a=r.data("instance")||t;a.keys.ctrlKey(i)||i.which==e.FE.KEYCODE.ALT||i.which==e.FE.KEYCODE.ESC||(o(n)&&r.find(".fr-back:visible").length?a.button.exec(r.find(".fr-back:visible:first")):i.which!=e.FE.KEYCODE.ALT&&a.popups.hide(n))},_preventFocus:function(n){var i=r.data("instance")||t;"mouseup"==n.type&&t.button.hideActiveDropdowns(r);var o=n.originalEvent?n.originalEvent.target||n.originalEvent.originalTarget:null;"mouseup"==n.type||e(o).is(":focus")||i.events.disableBlur();var a="input, textarea, button, select, label, .fr-command";return o&&!e(o).is(a)&&0===e(o).parents(a).length?(n.stopPropagation(),!1):(o&&e(o).is(a)&&n.stopPropagation(),void h())},_editorMouseup:function(e){r.is(":visible")&&g()&&r.find("input:focus, textarea:focus, button:focus, select:focus").filter(":visible").length>0&&t.events.disableBlur()},_windowMouseup:function(e){if(!t.core.sameInstance(r))return!0;var i=r.data("instance")||t;r.is(":visible")&&g()&&(e.stopPropagation(),i.markers.remove(),i.popups.hide(n),h())},_windowKeydown:function(i){if(!t.core.sameInstance(r))return!0;var o=r.data("instance")||t,a=i.which;if(e.FE.KEYCODE.ESC==a){if(o.popups.isVisible(n)&&o.opts.toolbarInline)return i.stopPropagation(),o.popups.isVisible(n)&&(r.find(".fr-back:visible").length?(o.button.exec(r.find(".fr-back:visible:first")),o.accessibility.focusPopupButton(r)):r.find(".fr-dismiss:visible").length?o.button.exec(r.find(".fr-dismiss:visible:first")):(o.popups.hide(n),o.toolbar.showInline(null,!0),o.accessibility.FocusPopupButton(r))),!1;if(o.popups.isVisible(n))return r.find(".fr-back:visible").length?(o.button.exec(r.find(".fr-back:visible:first")),o.accessibility.focusPopupButton(r)):r.find(".fr-dismiss:visible").length?o.button.exec(r.find(".fr-dismiss:visible:first")):(o.popups.hide(n),o.accessibility.focusPopupButton(r)),!1}},_doPlaceholder:function(t){var n=e(this).next();0==n.length&&e(this).attr("placeholder")&&e(this).after('<label for="'+e(this).attr("id")+'">'+e(this).attr("placeholder")+"</label>"),e(this).toggleClass("fr-not-empty",""!=e(this).val())},_repositionPopup:function(e){if(!t.opts.height&&!t.opts.heightMax||t.opts.toolbarInline)return!0;if(t.$wp&&o(n)&&r.parent().get(0)==t.$sc.get(0)){var i=r.offset().top-t.$wp.offset().top,a=t.$wp.outerHeight();t.node.hasClass(r.get(0),"fr-above")&&(i+=r.outerHeight()),i>a||i<0?r.addClass("fr-hidden"):r.removeClass("fr-hidden")}}}}function y(e,n){t.events.on("mouseup",e._editorMouseup,!0),t.$wp&&t.events.on("keydown",e._editorKeydown),t.events.on("blur",function(e){a()&&t.markers.remove(),d()}),t.$wp&&!t.helpers.isMobile()&&t.events.$on(t.$wp,"scroll.popup"+n,e._repositionPopup),t.events.on("window.mouseup",e._windowMouseup,!0),t.events.on("window.keydown",e._windowKeydown,!0),x[n].data("inst"+t.id,!0),t.events.on("destroy",function(){t.core.sameInstance(x[n])&&x[n].removeClass("fr-active").appendTo("body")},!0)}function E(n,r){var i=v(n,r),o=b(n);return y(o,n),t.events.$on(i,"mousedown mouseup touchstart touchend touch","*",o._preventFocus,!0),t.events.$on(i,"focus","input, textarea, button, select",o._inputFocus,!0),t.events.$on(i,"blur","input, textarea, button, select",o._inputBlur,!0),t.accessibility.registerPopup(n),t.events.$on(i,"keydown keyup change input","input, textarea",o._doPlaceholder,!0),t.helpers.isIOS()&&t.events.$on(i,"touchend","label",function(){e("#"+e(this).attr("for")).prop("checked",function(e,t){return!t})},!0),t.events.$on(e(t.o_win),"resize",o._windowResize,!0),i}function $(){for(var e in x)if(x.hasOwnProperty(e)){var t=x[e];t.html("").removeData().remove(),x[e]=null}x=[]}function w(){t.events.on("shared.destroy",$,!0),t.events.on("window.mousedown",p),t.events.on("window.touchmove",h),t.events.on("mousedown",function(e){a()&&(e.stopPropagation(),t.$el.find(".fr-marker").remove(),p(),t.events.disableBlur())})}t.shared.popups||(t.shared.popups={});var x=t.shared.popups;return t.shared.exit_flag=!1,{_init:w,create:E,get:u,show:r,hide:s,onHide:l,hideAll:d,setContainer:n,refresh:f,onRefresh:c,onShow:i,isVisible:o,areVisible:a}},e.FE.MODULES.position=function(t){function n(){var e=t.selection.ranges(0),n=e.getBoundingClientRect();if(0==n.top&&0==n.left&&0==n.width||0==n.height){var r=!1;0==t.$el.find(".fr-marker").length&&(t.selection.save(),r=!0);var i=t.$el.find(".fr-marker:first");i.css("display","inline"),i.css("line-height","");var o=i.offset(),a=i.outerHeight();i.css("display","none"),i.css("line-height",0),n={},n.left=o.left,n.width=0,n.height=a,n.top=o.top-(t.helpers.isMobile()?0:t.helpers.scrollTop()),n.right=1,n.bottom=1,n.ok=!0,r&&t.selection.restore()}return n}function r(e,n,r){var i=e.get(0).offsetHeight;if(!t.helpers.isMobile()&&t.$tb&&e.parent().get(0)!=t.$tb.get(0)){var o=(e.get(0).parentNode.clientHeight-20-(t.opts.toolbarBottom?t.$tb.get(0).offsetHeight:0),e.parent().offset().top),a=n-i-(r||0);e.parent().get(0)==t.$sc.get(0)&&(o-=e.parent().position().top);var s=t.$sc.get(0).scrollHeight;o+n+i>t.$sc.offset().top+s&&e.parent().offset().top+a>0?(n=a,e.addClass("fr-above")):e.removeClass("fr-above")}return n}function i(e,n){var r=e.get(0).offsetWidth;return n+r>t.$sc.get(0).clientWidth-10&&(n=t.$sc.get(0).clientWidth-r-10),n<0&&(n=10),n}function o(e){var r=n();e.css({top:0,left:0});var i=r.top+r.height,o=r.left+r.width/2-e.get(0).offsetWidth/2+t.helpers.scrollLeft();t.opts.iframe||(i+=t.helpers.scrollTop()),a(o,i,e,r.height)}function a(e,n,o,a){var s=o.data("container");!s||"BODY"===s.get(0).tagName&&"static"==s.css("position")||(e&&(e-=s.offset().left),n&&(n-=s.offset().top),"BODY"!=s.get(0).tagName?(e&&(e+=s.get(0).scrollLeft),n&&(n+=s.get(0).scrollTop)):"absolute"==s.css("position")&&(e&&(e+=s.position().left),n&&(n+=s.position().top))),t.opts.iframe&&s&&t.$tb&&s.get(0)!=t.$tb.get(0)&&(e&&(e+=t.$iframe.offset().left),n&&(n+=t.$iframe.offset().top));var l=i(o,e);if(e){o.css("left",l);var u=o.data("fr-arrow");u||(u=o.find(".fr-arrow"),o.data("fr-arrow",u)),u.data("margin-left")||u.data("margin-left",t.helpers.getPX(u.css("margin-left"))),u.css("margin-left",e-l+u.data("margin-left"))}n&&o.css("top",r(o,n,a))}function s(n){var r=e(n),i=r.is(".fr-sticky-on"),o=r.data("sticky-top"),a=r.data("sticky-scheduled");if("undefined"==typeof o){r.data("sticky-top",0);var s=e('<div class="fr-sticky-dummy" style="height: '+r.outerHeight()+'px;"></div>');t.$box.prepend(s)}else t.$box.find(".fr-sticky-dummy").css("height",r.outerHeight());if(t.core.hasFocus()||t.$tb.find("input:visible:focus").length>0){var l=t.helpers.scrollTop(),u=Math.min(Math.max(l-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-r.outerHeight());u!=o&&u!=a&&(clearTimeout(r.data("sticky-timeout")),r.data("sticky-scheduled",u),r.outerHeight()<l-t.$tb.parent().offset().top&&r.addClass("fr-opacity-0"),r.data("sticky-timeout",setTimeout(function(){var e=t.helpers.scrollTop(),n=Math.min(Math.max(e-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-r.outerHeight());n>0&&"BODY"==t.$tb.parent().get(0).tagName&&(n+=t.$tb.parent().position().top),n!=o&&(r.css("top",Math.max(n,0)),r.data("sticky-top",n),r.data("sticky-scheduled",n)),r.removeClass("fr-opacity-0")},100))),i||(r.css("top","0"),r.width(t.$tb.parent().width()),r.addClass("fr-sticky-on"),t.$box.addClass("fr-sticky-box"))}else clearTimeout(e(n).css("sticky-timeout")),r.css("top","0"),r.css("position",""),r.width(""),r.data("sticky-top",0),r.removeClass("fr-sticky-on"),t.$box.removeClass("fr-sticky-box")}function l(n){if(n.offsetWidth){var r,i,o=e(n),a=o.outerHeight(),s=o.data("sticky-position"),l=e("body"==t.opts.scrollableContainer?t.o_win:t.opts.scrollableContainer).outerHeight(),u=0,c=0;"body"!==t.opts.scrollableContainer&&(u=t.$sc.offset().top,c=e(t.o_win).outerHeight()-u-l);var f="body"==t.opts.scrollableContainer?t.helpers.scrollTop():u,d=o.is(".fr-sticky-on");o.data("sticky-parent")||o.data("sticky-parent",o.parent());var p=o.data("sticky-parent"),h=p.offset().top,g=p.outerHeight();if(o.data("sticky-offset")||(o.data("sticky-offset",!0),o.after('<div class="fr-sticky-dummy" style="height: '+a+'px;"></div>')),!s){var m="auto"!==o.css("top")||"auto"!==o.css("bottom");m||o.css("position","fixed"),s={top:t.node.hasClass(o.get(0),"fr-top"),bottom:t.node.hasClass(o.get(0),"fr-bottom")},m||o.css("position",""),o.data("sticky-position",s),o.data("top",t.node.hasClass(o.get(0),"fr-top")?o.css("top"):"auto"),o.data("bottom",t.node.hasClass(o.get(0),"fr-bottom")?o.css("bottom"):"auto")}var v=function(){return h<f+r&&h+g-a>=f+r},b=function(){return h+a<f+l-i&&h+g>f+l-i};r=t.helpers.getPX(o.data("top")),i=t.helpers.getPX(o.data("bottom"));var y=s.top&&v(),E=s.bottom&&b();y||E?(o.css("width",p.width()+"px"),d||(o.addClass("fr-sticky-on"),o.removeClass("fr-sticky-off"),o.css("top")&&("auto"!=o.data("top")?o.css("top",t.helpers.getPX(o.data("top"))+u):o.data("top","auto")),o.css("bottom")&&("auto"!=o.data("bottom")?o.css("bottom",t.helpers.getPX(o.data("bottom"))+c):o.css("bottom","auto")))):t.node.hasClass(o.get(0),"fr-sticky-off")||(o.width(""),o.removeClass("fr-sticky-on"),o.addClass("fr-sticky-off"),o.css("top")&&"auto"!=o.data("top")&&s.top&&o.css("top",0),o.css("bottom")&&"auto"!=o.data("bottom")&&s.bottom&&o.css("bottom",0))}}function u(){var e=document.createElement("test"),n=e.style;return n.cssText="position:"+["-webkit-","-moz-","-ms-","-o-",""].join("sticky; position:")+" sticky;",n.position.indexOf("sticky")!==-1&&!t.helpers.isIOS()&&!t.helpers.isAndroid()&&!t.browser.chrome}function c(){if(!u())if(t._stickyElements=[],t.helpers.isIOS()){var n=function(){t.helpers.requestAnimationFrame()(n);for(var e=0;e<t._stickyElements.length;e++)s(t._stickyElements[e])};n(),t.events.$on(e(t.o_win),"scroll",function(){if(t.core.hasFocus())for(var n=0;n<t._stickyElements.length;n++){var r=e(t._stickyElements[n]),i=r.parent(),o=t.helpers.scrollTop();r.outerHeight()<o-i.offset().top&&(r.addClass("fr-opacity-0"),r.data("sticky-top",-1),r.data("sticky-scheduled",-1))}},!0)}else t.events.$on(e("body"==t.opts.scrollableContainer?t.o_win:t.opts.scrollableContainer),"scroll",f,!0),t.events.$on(e(t.o_win),"resize",f,!0),t.events.on("initialized",f),t.events.on("focus",f),t.events.$on(e(t.o_win),"resize","textarea",f,!0);t.events.on("destroy",function(e){t._stickyElements=[]})}function f(){if(t._stickyElements)for(var e=0;e<t._stickyElements.length;e++)l(t._stickyElements[e])}function d(e){e.addClass("fr-sticky"),t.helpers.isIOS()&&e.addClass("fr-sticky-ios"),u()||t._stickyElements.push(e.get(0))}function p(){c()}return{_init:p,forSelection:o,addSticky:d,refresh:f,at:a,getBoundingRect:n}},e.FE.MODULES.refresh=function(t){function n(e){a(e,!t.undo.canDo())}function r(e){a(e,!t.undo.canRedo())}function i(e){if(t.node.hasClass(e.get(0),"fr-no-refresh"))return!1;for(var n=t.selection.blocks(),r=0;r<n.length;r++){for(var i=n[r].previousSibling;i&&i.nodeType==Node.TEXT_NODE&&0===i.textContent.length;)i=i.previousSibling;if("LI"!=n[r].tagName||i)return a(e,!1),!0;a(e,!0)}}function o(n){if(t.node.hasClass(n.get(0),"fr-no-refresh"))return!1;for(var r=t.selection.blocks(),i=0;i<r.length;i++){var o="rtl"==t.opts.direction||"rtl"==e(r[i]).css("direction")?"margin-right":"margin-left";if("LI"==r[i].tagName||"LI"==r[i].parentNode.tagName)return a(n,!1),!0;if(t.helpers.getPX(e(r[i]).css(o))>0)return a(n,!1),!0}a(n,!0)}function a(e,t){e.toggleClass("fr-disabled",t).attr("aria-disabled",t)}return{undo:n,redo:r,outdent:o,indent:i}},e.extend(e.FE.DEFAULTS,{
editInPopup:!1}),e.FE.MODULES.textEdit=function(t){function n(){var e='<div id="fr-text-edit-'+t.id+'" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="'+t.language.translate("Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>",n={edit:e};t.popups.create("text.edit",n)}function r(){var n,r=t.popups.get("text.edit");n="INPUT"===t.$el.prop("tagName")?t.$el.attr("placeholder"):t.$el.text(),r.find("input").val(n).trigger("change"),t.popups.setContainer("text.edit",e("body")),t.popups.show("text.edit",t.$el.offset().left+t.$el.outerWidth()/2,t.$el.offset().top+t.$el.outerHeight(),t.$el.outerHeight())}function i(){t.events.$on(t.$el,t._mouseup,function(e){setTimeout(function(){r()},10)})}function o(){var e=t.popups.get("text.edit"),n=e.find("input").val();0==n.length&&(n=t.opts.placeholderText),"INPUT"===t.$el.prop("tagName")?t.$el.attr("placeholder",n):t.$el.text(n),t.events.trigger("contentChanged"),t.popups.hide("text.edit")}function a(){t.opts.editInPopup&&(n(),i())}return{_init:a,update:o}},e.FE.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.textEdit.update()}}),e.extend(e.FE.DEFAULTS,{toolbarBottom:!1,toolbarButtons:["fullscreen","print","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","|","specialCharacters","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting","selectAll","html","applyFormat","removeFormat","help"],toolbarButtonsXS:["bold","italic","fontFamily","fontSize","|","undo","redo"],toolbarButtonsSM:["bold","italic","underline","|","fontFamily","fontSize","insertLink","insertImage","table","|","undo","redo"],toolbarButtonsMD:["fullscreen","bold","italic","underline","fontFamily","fontSize","color","paragraphStyle","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting"],toolbarContainer:null,toolbarInline:!1,toolbarSticky:!0,toolbarStickyOffset:0,toolbarVisibleWithoutSelection:!1}),e.FE.MODULES.toolbar=function(t){function n(e,t){for(var n=0;n<t.length;n++)"-"!=t[n]&&"|"!=t[n]&&e.indexOf(t[n])<0&&e.push(t[n])}function r(){var r=e.merge([],i());n(r,t.opts.toolbarButtonsXS||[]),n(r,t.opts.toolbarButtonsSM||[]),n(r,t.opts.toolbarButtonsMD||[]),n(r,t.opts.toolbarButtons);for(var o=r.length-1;o>=0;o--)"-"!=r[o]&&"|"!=r[o]&&r.indexOf(r[o])<o&&r.splice(o,1);var a=t.button.buildList(r,i());t.$tb.append(a),t.button.bindCommands(t.$tb)}function i(){var e=t.helpers.screenSize();return $[e]}function o(){var e=i();t.$tb.find(".fr-separator").remove(),t.$tb.find("> .fr-command").addClass("fr-hidden");for(var n=0;n<e.length;n++)if("|"==e[n]||"-"==e[n])t.$tb.append(t.button.buildList([e[n]]));else{var r=t.$tb.find('> .fr-command[data-cmd="'+e[n]+'"]'),o=null;t.node.hasClass(r.next().get(0),"fr-dropdown-menu")&&(o=r.next()),r.removeClass("fr-hidden").appendTo(t.$tb),o&&o.appendTo(t.$tb)}}function a(){t.events.$on(e(t.o_win),"resize",o),t.events.$on(e(t.o_win),"orientationchange",o)}function s(n,r){setTimeout(function(){if(n&&n.which==e.FE.KEYCODE.ESC);else if(t.selection.inEditor()&&t.core.hasFocus()&&!t.popups.areVisible()&&(t.opts.toolbarVisibleWithoutSelection||!t.selection.isCollapsed()&&!t.keys.isIME()||r)){if(t.$tb.data("instance",t),0==t.events.trigger("toolbar.show",[n]))return!1;t.$tb.show(),t.opts.toolbarContainer||t.position.forSelection(t.$tb),t.opts.zIndex>1?t.$tb.css("z-index",t.opts.zIndex+1):t.$tb.css("z-index",null)}},0)}function l(n){var r=e(".fr-dropdown.fr-active");return!!r.next().find(t.o_doc.activeElement).length||void(t.events.trigger("toolbar.hide")!==!1&&t.$tb.hide())}function u(){return 0!=t.events.trigger("toolbar.show")&&void t.$tb.show()}function c(n){clearTimeout(w),n&&n.which==e.FE.KEYCODE.ESC||(w=setTimeout(s,t.opts.typingTimer))}function f(){t.events.on("window.mousedown",l),t.events.on("keydown",l),t.events.on("blur",l),t.events.on("window.mouseup",s),t.helpers.isMobile()?t.helpers.isIOS()||(t.events.on("window.touchend",s),t.browser.mozilla&&setInterval(s,200)):t.events.on("window.keyup",c),t.events.on("keydown",function(t){t&&t.which==e.FE.KEYCODE.ESC&&l()}),t.events.on("keydown",function(t){if(t.which==e.FE.KEYCODE.ALT)return t.stopPropagation(),!1},!0),t.events.$on(t.$wp,"scroll.toolbar",s),t.events.on("commands.after",s),t.helpers.isMobile()&&(t.events.$on(t.$doc,"selectionchange",c),t.events.$on(t.$doc,"orientationchange",s))}function d(){t.opts.toolbarInline?(t.$sc.append(t.$tb),t.$tb.data("container",t.$sc),t.$tb.addClass("fr-inline"),t.$tb.prepend('<span class="fr-arrow"></span>'),f(),t.opts.toolbarBottom=!1):(t.opts.toolbarBottom&&!t.helpers.isIOS()?(t.$box.append(t.$tb),t.$tb.addClass("fr-bottom"),t.$box.addClass("fr-bottom")):(t.opts.toolbarBottom=!1,t.$box.prepend(t.$tb),t.$tb.addClass("fr-top"),t.$box.addClass("fr-top")),t.$tb.addClass("fr-basic"),t.opts.toolbarSticky&&(t.opts.toolbarStickyOffset&&(t.opts.toolbarBottom?t.$tb.css("bottom",t.opts.toolbarStickyOffset):t.$tb.css("top",t.opts.toolbarStickyOffset)),t.position.addSticky(t.$tb)))}function p(){t.$tb.html("").removeData().remove(),t.$tb=null}function h(){t.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),t.$box.find(".fr-sticky-dummy").remove()}function g(){t.opts.theme&&t.$tb.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&t.$tb.css("z-index",t.opts.zIndex+1),"auto"!=t.opts.direction&&t.$tb.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.helpers.isMobile()?t.$tb.addClass("fr-mobile"):t.$tb.addClass("fr-desktop"),t.opts.toolbarContainer?(t.opts.toolbarInline&&(f(),l()),t.opts.toolbarBottom?t.$tb.addClass("fr-bottom"):t.$tb.addClass("fr-top")):d(),y=t.$tb.get(0).ownerDocument,E="defaultView"in y?y.defaultView:y.parentWindow,r(),a(),t.accessibility.registerToolbar(t.$tb),t.events.$on(t.$tb,t._mousedown+" "+t._mouseup,function(e){var n=e.originalEvent?e.originalEvent.target||e.originalEvent.originalTarget:null;if(n&&"INPUT"!=n.tagName&&!t.edit.isDisabled())return e.stopPropagation(),e.preventDefault(),!1},!0)}function m(){return t.$sc=e(t.opts.scrollableContainer),!!t.$wp&&(t.opts.toolbarContainer?(t.shared.$tb?(t.$tb=t.shared.$tb,t.opts.toolbarInline&&f()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,e(t.opts.toolbarContainer).append(t.$tb),g(),t.$tb.data("instance",t)),t.opts.toolbarInline?t.$box.addClass("fr-inline"):t.$box.addClass("fr-basic"),t.events.on("focus",function(){t.$tb.data("instance",t)},!0),t.opts.toolbarInline=!1):t.opts.toolbarInline?(t.$box.addClass("fr-inline"),t.shared.$tb?(t.$tb=t.shared.$tb,f()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,g())):(t.$box.addClass("fr-basic"),t.$tb=e('<div class="fr-toolbar"></div>'),g(),t.$tb.data("instance",t)),t.events.on("destroy",h,!0),void t.events.on(t.opts.toolbarInline||t.opts.toolbarContainer?"shared.destroy":"destroy",p,!0))}function v(){!x&&t.$tb&&(t.$tb.find("> .fr-command").addClass("fr-disabled fr-no-refresh").attr("aria-disabled",!0),x=!0)}function b(){x&&t.$tb&&(t.$tb.find("> .fr-command").removeClass("fr-disabled fr-no-refresh").attr("aria-disabled",!1),x=!1),t.button.bulkRefresh()}var y,E,$=[];$[e.FE.XS]=t.opts.toolbarButtonsXS||t.opts.toolbarButtons,$[e.FE.SM]=t.opts.toolbarButtonsSM||t.opts.toolbarButtons,$[e.FE.MD]=t.opts.toolbarButtonsMD||t.opts.toolbarButtons,$[e.FE.LG]=t.opts.toolbarButtons;var w=null,x=!1;return{_init:m,hide:l,show:u,showInline:s,disable:v,enable:b}}}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.FE.PLUGINS.align=function(t){function n(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var r=t.selection.blocks(),i=0;i<r.length;i++)t.helpers.getAlignment(e(r[i].parentNode))==n?e(r[i]).css("text-align","").removeClass("fr-temp-div"):e(r[i]).css("text-align",n).removeClass("fr-temp-div"),""===e(r[i]).attr("class")&&e(r[i]).removeAttr("class"),""===e(r[i]).attr("style")&&e(r[i]).removeAttr("style");t.selection.save(),t.html.unwrap(),t.selection.restore()}function r(n){var r=t.selection.blocks();if(r.length){var i=t.helpers.getAlignment(e(r[0]));n.find("> *:first").replaceWith(t.icon.create("align-"+i))}}function i(n,r){var i=t.selection.blocks();if(i.length){var o=t.helpers.getAlignment(e(i[0]));r.find('a.fr-command[data-param1="'+o+'"]').addClass("fr-active").attr("aria-selected",!0)}}return{apply:n,refresh:r,refreshOnShow:i}},e.FE.DefineIcon("align",{NAME:"align-left"}),e.FE.DefineIcon("align-left",{NAME:"align-left"}),e.FE.DefineIcon("align-right",{NAME:"align-right"}),e.FE.DefineIcon("align-center",{NAME:"align-center"}),e.FE.DefineIcon("align-justify",{NAME:"align-justify"}),e.FE.RegisterCommand("align",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.align.options;for(var r in n)n.hasOwnProperty(r)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="align" data-param1="'+r+'" title="'+this.language.translate(n[r])+'">'+this.icon.create("align-"+r)+'<span class="fr-sr-only">'+this.language.translate(n[r])+"</span></a></li>");return t+="</ul>"},callback:function(e,t){this.align.apply(t)},refresh:function(e){this.align.refresh(e)},refreshOnShow:function(e,t){this.align.refreshOnShow(e,t)},plugin:"align"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{charCounterMax:-1,charCounterCount:!0}),e.FE.PLUGINS.charCounter=function(t){function n(){return t.el.textContent.length}function r(e){if(t.opts.charCounterMax<0)return!0;if(n()<t.opts.charCounterMax)return!0;var r=e.which;return!(!t.keys.ctrlKey(e)&&t.keys.isCharacter(r)&&(e.preventDefault(),e.stopPropagation(),t.events.trigger("charCounter.exceeded"),1))}function i(r){if(t.opts.charCounterMax<0)return r;var i=e("<div>").html(r).text().length;return i+n()<=t.opts.charCounterMax?r:(t.events.trigger("charCounter.exceeded"),"")}function o(){if(t.opts.charCounterCount){var e=n()+(t.opts.charCounterMax>0?"/"+t.opts.charCounterMax:"");s.text(e),t.opts.toolbarBottom&&s.css("margin-bottom",t.$tb.outerHeight(!0));var r=t.$wp.get(0).offsetWidth-t.$wp.get(0).clientWidth;r>=0&&("rtl"==t.opts.direction?s.css("margin-left",r):s.css("margin-right",r))}}function a(){return!!t.$wp&&!!t.opts.charCounterCount&&(s=e('<span class="fr-counter"></span>'),s.css("bottom",t.$wp.css("border-bottom-width")),t.$box.append(s),t.events.on("keydown",r,!0),t.events.on("paste.afterCleanup",i),t.events.on("keyup contentChanged input",function(){t.events.trigger("charCounter.update")}),t.events.on("charCounter.update",o),t.events.trigger("charCounter.update"),void t.events.on("destroy",function(){e(t.o_win).off("resize.char"+t.id),s.removeData().remove(),s=null}))}var s;return{_init:a,count:n}}}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.FE.PLUGINS.codeBeautifier=function(){function e(e,n){function r(e){return e.replace(/^\s+/g,"")}function i(e){return e.replace(/\s+$/g,"")}function a(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=l,this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:E,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e==t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;e++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)h&&"\n"==e&&this.newlines<=g&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e)):(this.line_char_count++,e.push(" "))},this.get_content=function(){for(var e="",t=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(m){var n=this.input.substr(this.pos,3);if("{{#"==n||"{{/"==n)break;if("{{!"==n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"==this.input.substr(this.pos,2)&&"{{else}}"==this.get_tag(!0))break}e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),i=r?r.index:this.input.length;return this.pos<i&&(t=this.input.substring(this.pos,i),this.pos=i),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,r,i="",o=[],a="",s=!1,l=!0,u=this.pos,f=this.line_char_count;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=u,this.line_char_count=f),o.length?o.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))s=!0;else{if("'"!=i&&'"'!=i||(i+=this.get_unformatted(i),s=!0),"="==i&&(s=!1),o.length&&"="!=o[o.length-1]&&">"!=i&&s){if(this.space_or_wrap(o),s=!1,!l&&"force"==v&&"/"!=i){this.print_newline(!0,o),this.print_indentation(o);for(var d=0;d<b;d++)o.push(c)}for(var h=0;h<o.length;h++)if(" "==o[h]){l=!1;break}}if(m&&"<"==r&&i+this.input.charAt(this.pos)=="{{"&&(i+=this.get_unformatted("}}"),o.length&&" "!=o[o.length-1]&&"<"!=o[o.length-1]&&(i=" "+i),s=!0),"<"!=i||r||(t=this.pos-1,r="<"),m&&!r&&o.length>=2&&"{"==o[o.length-1]&&"{"==o[o.length-2]&&(t="#"==i||"/"==i||"!"==i?this.pos-3:this.pos-2,r="{"),this.line_char_count++,o.push(i),o[1]&&("!"==o[1]||"?"==o[1]||"%"==o[1])){o=[this.get_comment(t)];break}if(m&&o[1]&&"{"==o[1]&&o[2]&&"!"==o[2]){o=[this.get_comment(t)];break}if(m&&"{"==r&&o.length>2&&"}"==o[o.length-2]&&"}"==o[o.length-1])break}}while(">"!=i);var g,y,E=o.join("");g=E.indexOf(" ")!=-1?E.indexOf(" "):"{"==E[0]?E.indexOf("}"):E.indexOf(">"),y="<"!=E[0]&&m?"#"==E[2]?3:2:1;var $=E.substring(y,g).toLowerCase();return"/"==E.charAt(E.length-2)||this.Utils.in_array($,this.Utils.single_token)?e||(this.tag_type="SINGLE"):m&&"{"==E[0]&&"else"==$?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted($,p)?(a=this.get_unformatted("</"+$+">",E),o.push(a),n=this.pos-1,this.tag_type="SINGLE"):"script"==$&&(E.search("type")==-1||E.search("type")>-1&&E.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?e||(this.record_tag($),this.tag_type="SCRIPT"):"style"==$&&(E.search("type")==-1||E.search("type")>-1&&E.search("text/css")>-1)?e||(this.record_tag($),this.tag_type="STYLE"):"!"==$.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"==$.charAt(0)?(this.retrieve_tag($.substring(1)),this.tag_type="END"):(this.record_tag($),"html"!=$.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(o),this.Utils.in_array($,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=u,this.line_char_count=f),o.join("")},this.get_comment=function(e){var t="",n=">",r=!1;this.pos=e;var i=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&(t+=i,t[t.length-1]!=n[n.length-1]||t.indexOf(n)==-1);)!r&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",r=!0):0===t.indexOf("<![cdata[")?(n="]]>",r=!0):0===t.indexOf("<![")?(n="]>",r=!0):0===t.indexOf("<!--")?(n="-->",r=!0):0===t.indexOf("{{!")?(n="}}",r=!0):0===t.indexOf("<?")?(n="?>",r=!0):0===t.indexOf("<%")&&(n="%>",r=!0)),i=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&t.toLowerCase().indexOf(e)!=-1)return"";var n="",r="",i=0,o=!0;do{if(this.pos>=this.input.length)return r;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!o){this.line_char_count--;continue}if("\n"==n||"\r"==n){r+="\n",this.line_char_count=0;continue}}r+=n,this.line_char_count++,o=!0,m&&"{"==n&&r.length&&"{"==r[r.length-2]&&(r+=this.get_unformatted("}}"),i=r.length)}while(r.toLowerCase().indexOf(e,i)==-1);return r},this.get_token=function(){var e;if("TK_TAG_SCRIPT"==this.last_token||"TK_TAG_STYLE"==this.last_token){var t=this.last_token.substr(7);return e=this.get_contents_to(t),"string"!=typeof e?e:[e,"TK_"+t]}if("CONTENT"==this.current_mode)return e=this.get_content(),"string"!=typeof e?e:[e,"TK_CONTENT"];if("TAG"==this.current_mode){if(e=this.get_tag(),"string"!=typeof e)return e;var n="TK_TAG_"+this.tag_type;return[e,n]}},this.get_full_indent=function(e){return e=this.indent_level+e||0,e<1?"":new Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!=e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=this.get_tag(!0),r=(n||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(r&&!this.Utils.in_array(r,t))},this.printer=function(e,t,n,o,a){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=a,this.indent_level=0,this.wrap_line_length=o,this.line_char_count=0;for(var s=0;s<this.indent_size;s++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!=t[t.length-1])&&("\n"!=t[t.length-1]&&(t[t.length-1]=i(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"==this.output[this.output.length-1]&&(this.print_indentation(this.output),e=r(e)),this.print_token_raw(e))},this.print_token_raw=function(e){this.newlines>0&&(e=i(e)),e&&""!==e&&(e.length>1&&"\n"==e[e.length-1]?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(t>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var s,l,u,c,f,d,p,h,g,m,v,b,y,E;for(n=n||{},void 0!==n.wrap_line_length&&0!==parseInt(n.wrap_line_length,10)||void 0===n.max_char||0===parseInt(n.max_char,10)||(n.wrap_line_length=n.max_char),l=void 0!==n.indent_inner_html&&n.indent_inner_html,u=void 0===n.indent_size?4:parseInt(n.indent_size,10),c=void 0===n.indent_char?" ":n.indent_char,d=void 0===n.brace_style?"collapse":n.brace_style,f=0===parseInt(n.wrap_line_length,10)?32786:parseInt(n.wrap_line_length||250,10),p=n.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],h=void 0===n.preserve_newlines||n.preserve_newlines,g=h?isNaN(parseInt(n.max_preserve_newlines,10))?32786:parseInt(n.max_preserve_newlines,10):0,m=void 0!==n.indent_handlebars&&n.indent_handlebars,v=void 0===n.wrap_attributes?"auto":n.wrap_attributes,b=void 0===n.wrap_attributes_indent_size?u:parseInt(n.wrap_attributes_indent_size,10)||u,y=void 0!==n.end_with_newline&&n.end_with_newline,E=Array.isArray(n.extra_liners)?n.extra_liners.concat():"string"==typeof n.extra_liners?n.extra_liners.split(","):"head,body,/html".split(","),n.indent_with_tabs&&(c="\t",u=1),s=new a,s.printer(e,c,u,f,d);;){var $=s.get_token();if(s.token_text=$[0],s.token_type=$[1],"TK_EOF"==s.token_type)break;switch(s.token_type){case"TK_TAG_START":s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"==s.last_token&&""===s.last_text){var w=s.token_text.match(/\w+/)[0],x=null;s.output.length&&(x=s.output[s.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null==x||x[1]!=w&&!s.Utils.in_array(x[1],p))&&s.print_newline(!1,s.output)}s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var C=s.token_text.match(/^\s*<([a-z-]+)/i);C&&s.Utils.in_array(C[1],p)||s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_CONTENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==s.token_text){s.print_newline(!1,s.output);var S,_=s.token_text,T=1;"TK_SCRIPT"==s.token_type?S="function"==typeof o&&o:"TK_STYLE"==s.token_type&&(S="function"==typeof t&&t),"keep"==n.indent_scripts?T=0:"separate"==n.indent_scripts&&(T=-s.indent_level);var A=s.get_full_indent(T);if(S)_=S(_.replace(/^\s*/,A),n);else{var O=_.match(/^\s*/)[0],k=O.match(/[^\n\r]*$/)[0].split(s.indent_string).length-1,N=s.get_full_indent(T-k);_=_.replace(/^\s*/,A).replace(/\r\n|\r|\n/g,"\n"+N).replace(/\s+$/,"")}_&&(s.print_token_raw(_),s.print_newline(!0,s.output))}s.current_mode="TAG";break;default:""!==s.token_text&&s.print_token(s.token_text)}s.last_token=s.token_type,s.last_text=s.token_text}var D=s.output.join("").replace(/[\r\n\t ]+$/,"");return y&&(D+="\n"),D}function t(e,t){function n(){return $=e.charAt(++x),$||""}function r(t){var r="",i=x;return t&&a(),r=e.charAt(x+1)||"",x=i-1,n(),r}function i(t){for(var r=x;n();)if("\\"===$)n();else{if(t.indexOf($)!==-1)break;if("\n"===$)break}return e.substring(r,x+1)}function o(e){var t=x,r=i(e);return x=t-1,n(),r}function a(){for(var e="";w.test(r());)n(),e+=$;return e}function s(){var e="";for($&&w.test($)&&(e=$);w.test(n());)e+=$;return e}function l(t){var i=x;for(t="/"===r(),n();n();){if(!t&&"*"===$&&"/"===r()){n();break}if(t&&"\n"===$)return e.substring(i,x)}return e.substring(i,x)+$}function u(t){return e.substring(x-t.length,x).toLowerCase()===t}function c(){for(var t=0,n=x+1;n<e.length;n++){var r=e.charAt(n);if("{"===r)return!0;if("("===r)t+=1;else if(")"===r){if(0==t)return!1;t-=1}else if(";"===r||"}"===r)return!1}return!1}function f(){T++,S+=_}function d(){T--,S=S.slice(0,-g)}var p={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},h={"@media":!0,"@supports":!0,"@document":!0};t=t||{},e=e||"",e=e.replace(/\r\n|[\r\u2028\u2029]/g,"\n");var g=t.indent_size||4,m=t.indent_char||" ",v=void 0===t.selector_separator_newline||t.selector_separator_newline,b=void 0!==t.end_with_newline&&t.end_with_newline,y=void 0===t.newline_between_rules||t.newline_between_rules,E=t.eol?t.eol:"\n";"string"==typeof g&&(g=parseInt(g,10)),t.indent_with_tabs&&(m="\t",g=1),E=E.replace(/\\r/,"\r").replace(/\\n/,"\n");var $,w=/^\s+$/,x=-1,C=0,S=e.match(/^[\t ]*/)[0],_=new Array(g+1).join(m),T=0,A=0,O={};O["{"]=function(e){O.singleSpace(),k.push(e),O.newLine()},O["}"]=function(e){O.newLine(),k.push(e),O.newLine()},O._lastCharWhitespace=function(){return w.test(k[k.length-1])},O.newLine=function(e){k.length&&(e||"\n"===k[k.length-1]||O.trim(),k.push("\n"),S&&k.push(S))},O.singleSpace=function(){k.length&&!O._lastCharWhitespace()&&k.push(" ")},O.preserveSingleSpace=function(){L&&O.singleSpace()},O.trim=function(){for(;O._lastCharWhitespace();)k.pop()};for(var k=[],N=!1,D=!1,R=!1,M="",I="";;){var F=s(),L=""!==F,P=F.indexOf("\n")!==-1;if(I=M,M=$,!$)break;if("/"===$&&"*"===r()){var B=0===T;(P||B)&&O.newLine(),k.push(l()),O.newLine(),B&&O.newLine(!0)}else if("/"===$&&"/"===r())P||"{"===I||O.trim(),O.singleSpace(),k.push(l()),O.newLine();else if("@"===$){O.preserveSingleSpace(),k.push($);var j=o(": ,;{}()[]/='\"");j.match(/[ :]$/)&&(n(),j=i(": ").replace(/\s$/,""),k.push(j),O.singleSpace()),j=j.replace(/\s$/,""),j in p&&(A+=1,j in h&&(R=!0))}else"#"===$&&"{"===r()?(O.preserveSingleSpace(),k.push(i("}"))):"{"===$?"}"===r(!0)?(a(),n(),O.singleSpace(),k.push("{}"),O.newLine(),y&&0===T&&O.newLine(!0)):(f(),O["{"]($),R?(R=!1,N=T>A):N=T>=A):"}"===$?(d(),O["}"]($),N=!1,D=!1,A&&A--,y&&0===T&&O.newLine(!0)):":"===$?(a(),!N&&!R||u("&")||c()?":"===r()?(n(),k.push("::")):k.push(":"):(D=!0,k.push(":"),O.singleSpace())):'"'===$||"'"===$?(O.preserveSingleSpace(),k.push(i($))):";"===$?(D=!1,k.push($),O.newLine()):"("===$?u("url")?(k.push($),a(),n()&&(")"!==$&&'"'!==$&&"'"!==$?k.push(i(")")):x--)):(C++,O.preserveSingleSpace(),k.push($),a()):")"===$?(k.push($),C--):","===$?(k.push($),a(),v&&!D&&C<1?O.newLine():O.singleSpace()):"]"===$?k.push($):"["===$?(O.preserveSingleSpace(),k.push($)):"="===$?(a(),$="=",k.push($)):(O.preserveSingleSpace(),k.push($))}var U="";return S&&(U+=S),U+=k.join("").replace(/[\r\n\t ]+$/,""),b&&(U+="\n"),"\n"!=E&&(U=U.replace(/[\n]/g,E)),U}function n(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function r(e){return e.replace(/^\s+|\s+$/g,"")}function i(e){return e.replace(/^\s+/g,"")}function o(e,t){var n=new a(e,t);return n.beautify()}function a(e,t){function o(e,t){var n=0;e&&(n=e.indentation_level,!H.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level));var r={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:H.get_line_number(),ternary_depth:0};return r}function a(e){var t=e.newlines,n=te.keep_array_indentation&&y(X.mode);if(n)for(r=0;r<t;r+=1)p(r>0);else if(te.max_preserve_newlines&&t>te.max_preserve_newlines&&(t=te.max_preserve_newlines),te.preserve_newlines&&e.newlines>1){p();for(var r=1;r<t;r+=1)p(!0)}z=e,ee[z.type]()}function s(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");n!==-1;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function d(e){if(e=void 0!==e&&e,!H.just_added_newline())if(te.preserve_newlines&&z.wanted_newline||e)p(!1,!0);else if(te.wrap_line_length){var t=H.current_line.get_character_count()+z.text.length+(H.space_before_token?1:0);t>=te.wrap_line_length&&p(!1,!0)}}function p(e,t){if(!t&&";"!==X.last_text&&","!==X.last_text&&"="!==X.last_text&&"TK_OPERATOR"!==W)for(;X.mode===f.Statement&&!X.if_block&&!X.do_block;)$();H.add_new_line(e)&&(X.multiline_frame=!0)}function h(){H.just_added_newline()&&(te.keep_array_indentation&&y(X.mode)&&z.wanted_newline?(H.current_line.push(z.whitespace_before),H.space_before_token=!1):H.set_indent(X.indentation_level)&&(X.line_indent_level=X.indentation_level))}function g(e){return H.raw?void H.add_raw_token(z):(te.comma_first&&"TK_COMMA"===W&&H.just_added_newline()&&","===H.previous_line.last()&&(H.previous_line.pop(),h(),H.add_token(","),H.space_before_token=!0),e=e||z.text,h(),void H.add_token(e))}function m(){X.indentation_level+=1}function v(){X.indentation_level>0&&(!X.parent||X.indentation_level>X.parent.indentation_level)&&(X.indentation_level-=1)}function b(e){X?(J.push(X),Q=X):Q=o(null,e),X=o(Q,e)}function y(e){return e===f.ArrayLiteral}function E(e){return n(e,[f.Expression,f.ForInitializer,f.Conditional])}function $(){J.length>0&&(Q=X,X=J.pop(),Q.mode===f.Statement&&H.remove_redundant_indentation(Q))}function w(){return X.parent.mode===f.ObjectLiteral&&X.mode===f.Statement&&(":"===X.last_text&&0===X.ternary_depth||"TK_RESERVED"===W&&n(X.last_text,["get","set"]))}function x(){return!!("TK_RESERVED"===W&&n(X.last_text,["var","let","const"])&&"TK_WORD"===z.type||"TK_RESERVED"===W&&"do"===X.last_text||"TK_RESERVED"===W&&"return"===X.last_text&&!z.wanted_newline||"TK_RESERVED"===W&&"else"===X.last_text&&("TK_RESERVED"!==z.type||"if"!==z.text)||"TK_END_EXPR"===W&&(Q.mode===f.ForInitializer||Q.mode===f.Conditional)||"TK_WORD"===W&&X.mode===f.BlockStatement&&!X.in_case&&"--"!==z.text&&"++"!==z.text&&"function"!==G&&"TK_WORD"!==z.type&&"TK_RESERVED"!==z.type||X.mode===f.ObjectLiteral&&(":"===X.last_text&&0===X.ternary_depth||"TK_RESERVED"===W&&n(X.last_text,["get","set"])))&&(b(f.Statement),m(),"TK_RESERVED"===W&&n(X.last_text,["var","let","const"])&&"TK_WORD"===z.type&&(X.declaration_statement=!0),w()||d("TK_RESERVED"===z.type&&n(z.text,["do","for","if","while"])),!0)}function C(e,t){for(var n=0;n<e.length;n++){var i=r(e[n]);if(i.charAt(0)!==t)return!1}return!0}function S(e,t){for(var n,r=0,i=e.length;r<i;r++)if(n=e[r],n&&0!==n.indexOf(t))return!1;return!0}function _(e){return n(e,["case","return","do","if","throw","else"])}function T(e){var t=q+(e||0);return t<0||t>=ne.length?null:ne[t]}function A(){x();var e=f.Expression;if("["===z.text){if("TK_WORD"===W||")"===X.last_text)return"TK_RESERVED"===W&&n(X.last_text,V.line_starters)&&(H.space_before_token=!0),b(e),g(),m(),void(te.space_in_paren&&(H.space_before_token=!0));e=f.ArrayLiteral,y(X.mode)&&("["!==X.last_text&&(","!==X.last_text||"]"!==G&&"}"!==G)||te.keep_array_indentation||p())}else"TK_RESERVED"===W&&"for"===X.last_text?e=f.ForInitializer:"TK_RESERVED"===W&&n(X.last_text,["if","while"])&&(e=f.Conditional);";"===X.last_text||"TK_START_BLOCK"===W?p():"TK_END_EXPR"===W||"TK_START_EXPR"===W||"TK_END_BLOCK"===W||"."===X.last_text?d(z.wanted_newline):"TK_RESERVED"===W&&"("===z.text||"TK_WORD"===W||"TK_OPERATOR"===W?"TK_RESERVED"===W&&("function"===X.last_word||"typeof"===X.last_word)||"*"===X.last_text&&"function"===G?te.space_after_anon_function&&(H.space_before_token=!0):"TK_RESERVED"!==W||!n(X.last_text,V.line_starters)&&"catch"!==X.last_text||te.space_before_conditional&&(H.space_before_token=!0):H.space_before_token=!0,"("===z.text&&"TK_RESERVED"===W&&"await"===X.last_word&&(H.space_before_token=!0),
"("===z.text&&("TK_EQUALS"!==W&&"TK_OPERATOR"!==W||w()||d()),b(e),g(),te.space_in_paren&&(H.space_before_token=!0),m()}function O(){for(;X.mode===f.Statement;)$();X.multiline_frame&&d("]"===z.text&&y(X.mode)&&!te.keep_array_indentation),te.space_in_paren&&("TK_START_EXPR"!==W||te.space_in_empty_paren?H.space_before_token=!0:(H.trim(),H.space_before_token=!1)),"]"===z.text&&te.keep_array_indentation?(g(),$()):($(),g()),H.remove_redundant_indentation(Q),X.do_while&&Q.mode===f.Conditional&&(Q.mode=f.Expression,X.do_block=!1,X.do_while=!1)}function k(){var e=T(1),t=T(2);b(t&&(":"===t.text&&n(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||n(e.text,["get","set"])&&n(t.type,["TK_WORD","TK_RESERVED"]))?n(G,["class","interface"])?f.BlockStatement:f.ObjectLiteral:f.BlockStatement);var r=!e.comments_before.length&&"}"===e.text,i=r&&"function"===X.last_word&&"TK_END_EXPR"===W;"expand"===te.brace_style||"none"===te.brace_style&&z.wanted_newline?"TK_OPERATOR"!==W&&(i||"TK_EQUALS"===W||"TK_RESERVED"===W&&_(X.last_text)&&"else"!==X.last_text)?H.space_before_token=!0:p(!1,!0):"TK_OPERATOR"!==W&&"TK_START_EXPR"!==W?"TK_START_BLOCK"===W?p():H.space_before_token=!0:y(Q.mode)&&","===X.last_text&&("}"===G?H.space_before_token=!0:p()),g(),m()}function N(){for(;X.mode===f.Statement;)$();var e="TK_START_BLOCK"===W;"expand"===te.brace_style?e||p():e||(y(X.mode)&&te.keep_array_indentation?(te.keep_array_indentation=!1,p(),te.keep_array_indentation=!0):p()),$(),g()}function D(){if("TK_RESERVED"===z.type&&X.mode!==f.ObjectLiteral&&n(z.text,["set","get"])&&(z.type="TK_WORD"),"TK_RESERVED"===z.type&&X.mode===f.ObjectLiteral){var e=T(1);":"==e.text&&(z.type="TK_WORD")}if(x()||!z.wanted_newline||E(X.mode)||"TK_OPERATOR"===W&&"--"!==X.last_text&&"++"!==X.last_text||"TK_EQUALS"===W||!te.preserve_newlines&&"TK_RESERVED"===W&&n(X.last_text,["var","let","const","set","get"])||p(),X.do_block&&!X.do_while){if("TK_RESERVED"===z.type&&"while"===z.text)return H.space_before_token=!0,g(),H.space_before_token=!0,void(X.do_while=!0);p(),X.do_block=!1}if(X.if_block)if(X.else_block||"TK_RESERVED"!==z.type||"else"!==z.text){for(;X.mode===f.Statement;)$();X.if_block=!1,X.else_block=!1}else X.else_block=!0;if("TK_RESERVED"===z.type&&("case"===z.text||"default"===z.text&&X.in_case_statement))return p(),(X.case_body||te.jslint_happy)&&(v(),X.case_body=!1),g(),X.in_case=!0,void(X.in_case_statement=!0);if("TK_RESERVED"===z.type&&"function"===z.text&&((n(X.last_text,["}",";"])||H.just_added_newline()&&!n(X.last_text,["[","{",":","=",","]))&&(H.just_added_blankline()||z.comments_before.length||(p(),p(!0))),"TK_RESERVED"===W||"TK_WORD"===W?"TK_RESERVED"===W&&n(X.last_text,["get","set","new","return","export","async"])?H.space_before_token=!0:"TK_RESERVED"===W&&"default"===X.last_text&&"export"===G?H.space_before_token=!0:p():"TK_OPERATOR"===W||"="===X.last_text?H.space_before_token=!0:(X.multiline_frame||!E(X.mode)&&!y(X.mode))&&p()),"TK_COMMA"!==W&&"TK_START_EXPR"!==W&&"TK_EQUALS"!==W&&"TK_OPERATOR"!==W||w()||d(),"TK_RESERVED"===z.type&&n(z.text,["function","get","set"]))return g(),void(X.last_word=z.text);if(Z="NONE","TK_END_BLOCK"===W?"TK_RESERVED"===z.type&&n(z.text,["else","catch","finally"])?"expand"===te.brace_style||"end-expand"===te.brace_style||"none"===te.brace_style&&z.wanted_newline?Z="NEWLINE":(Z="SPACE",H.space_before_token=!0):Z="NEWLINE":"TK_SEMICOLON"===W&&X.mode===f.BlockStatement?Z="NEWLINE":"TK_SEMICOLON"===W&&E(X.mode)?Z="SPACE":"TK_STRING"===W?Z="NEWLINE":"TK_RESERVED"===W||"TK_WORD"===W||"*"===X.last_text&&"function"===G?Z="SPACE":"TK_START_BLOCK"===W?Z="NEWLINE":"TK_END_EXPR"===W&&(H.space_before_token=!0,Z="NEWLINE"),"TK_RESERVED"===z.type&&n(z.text,V.line_starters)&&")"!==X.last_text&&(Z="else"===X.last_text||"export"===X.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===z.type&&n(z.text,["else","catch","finally"]))if("TK_END_BLOCK"!==W||"expand"===te.brace_style||"end-expand"===te.brace_style||"none"===te.brace_style&&z.wanted_newline)p();else{H.trim(!0);var t=H.current_line;"}"!==t.last()&&p(),H.space_before_token=!0}else"NEWLINE"===Z?"TK_RESERVED"===W&&_(X.last_text)?H.space_before_token=!0:"TK_END_EXPR"!==W?"TK_START_EXPR"===W&&"TK_RESERVED"===z.type&&n(z.text,["var","let","const"])||":"===X.last_text||("TK_RESERVED"===z.type&&"if"===z.text&&"else"===X.last_text?H.space_before_token=!0:p()):"TK_RESERVED"===z.type&&n(z.text,V.line_starters)&&")"!==X.last_text&&p():X.multiline_frame&&y(X.mode)&&","===X.last_text&&"}"===G?p():"SPACE"===Z&&(H.space_before_token=!0);g(),X.last_word=z.text,"TK_RESERVED"===z.type&&"do"===z.text&&(X.do_block=!0),"TK_RESERVED"===z.type&&"if"===z.text&&(X.if_block=!0)}function R(){for(x()&&(H.space_before_token=!1);X.mode===f.Statement&&!X.if_block&&!X.do_block;)$();g()}function M(){x()?H.space_before_token=!0:"TK_RESERVED"===W||"TK_WORD"===W?H.space_before_token=!0:"TK_COMMA"===W||"TK_START_EXPR"===W||"TK_EQUALS"===W||"TK_OPERATOR"===W?w()||d():p(),g()}function I(){x(),X.declaration_statement&&(X.declaration_assignment=!0),H.space_before_token=!0,g(),H.space_before_token=!0}function F(){return X.declaration_statement?(E(X.parent.mode)&&(X.declaration_assignment=!1),g(),void(X.declaration_assignment?(X.declaration_assignment=!1,p(!1,!0)):(H.space_before_token=!0,te.comma_first&&d()))):(g(),void(X.mode===f.ObjectLiteral||X.mode===f.Statement&&X.parent.mode===f.ObjectLiteral?(X.mode===f.Statement&&$(),p()):(H.space_before_token=!0,te.comma_first&&d())))}function L(){if(x(),"TK_RESERVED"===W&&_(X.last_text))return H.space_before_token=!0,void g();if("*"===z.text&&"TK_DOT"===W)return void g();if(":"===z.text&&X.in_case)return X.case_body=!0,m(),g(),p(),void(X.in_case=!1);if("::"===z.text)return void g();"TK_OPERATOR"===W&&d();var e=!0,t=!0;n(z.text,["--","++","!","~"])||n(z.text,["-","+"])&&(n(W,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||n(X.last_text,V.line_starters)||","===X.last_text)?(e=!1,t=!1,!z.wanted_newline||"--"!==z.text&&"++"!==z.text||p(!1,!0),";"===X.last_text&&E(X.mode)&&(e=!0),"TK_RESERVED"===W?e=!0:"TK_END_EXPR"===W?e=!("]"===X.last_text&&("--"===z.text||"++"===z.text)):"TK_OPERATOR"===W&&(e=n(z.text,["--","-","++","+"])&&n(X.last_text,["--","-","++","+"]),n(z.text,["+","-"])&&n(X.last_text,["--","++"])&&(t=!0)),X.mode!==f.BlockStatement&&X.mode!==f.Statement||"{"!==X.last_text&&";"!==X.last_text||p()):":"===z.text?0===X.ternary_depth?e=!1:X.ternary_depth-=1:"?"===z.text?X.ternary_depth+=1:"*"===z.text&&"TK_RESERVED"===W&&"function"===X.last_text&&(e=!1,t=!1),H.space_before_token=H.space_before_token||e,g(),H.space_before_token=t}function P(){if(H.raw)return H.add_raw_token(z),void(z.directives&&"end"===z.directives.preserve&&(te.test_output_raw||(H.raw=!1)));if(z.directives)return p(!1,!0),g(),"start"===z.directives.preserve&&(H.raw=!0),void p(!1,!0);if(!c.newline.test(z.text)&&!z.wanted_newline)return H.space_before_token=!0,g(),void(H.space_before_token=!0);var e,t=s(z.text),n=!1,r=!1,o=z.whitespace_before,a=o.length;for(p(!1,!0),t.length>1&&(C(t.slice(1),"*")?n=!0:S(t.slice(1),o)&&(r=!0)),g(t[0]),e=1;e<t.length;e++)p(!1,!0),n?g(" "+i(t[e])):r&&t[e].length>a?g(t[e].substring(a)):H.add_token(t[e]);p(!1,!0)}function B(){z.wanted_newline?p(!1,!0):H.trim(!0),H.space_before_token=!0,g(),p(!1,!0)}function j(){x(),"TK_RESERVED"===W&&_(X.last_text)?H.space_before_token=!0:d(")"===X.last_text&&te.break_chained_methods),g()}function U(){g(),"\n"===z.text[z.text.length-1]&&p()}function K(){for(;X.mode===f.Statement;)$()}var H,q,V,z,W,G,Y,X,Q,J,Z,ee,te,ne=[],re="";for(ee={TK_START_EXPR:A,TK_END_EXPR:O,TK_START_BLOCK:k,TK_END_BLOCK:N,TK_WORD:D,TK_RESERVED:D,TK_SEMICOLON:R,TK_STRING:M,TK_EQUALS:I,TK_OPERATOR:L,TK_COMMA:F,TK_BLOCK_COMMENT:P,TK_COMMENT:B,TK_DOT:j,TK_UNKNOWN:U,TK_EOF:K},t=t?t:{},te={},void 0!==t.braces_on_own_line&&(te.brace_style=t.braces_on_own_line?"expand":"collapse"),te.brace_style=t.brace_style?t.brace_style:te.brace_style?te.brace_style:"collapse","expand-strict"===te.brace_style&&(te.brace_style="expand"),te.indent_size=t.indent_size?parseInt(t.indent_size,10):4,te.indent_char=t.indent_char?t.indent_char:" ",te.eol=t.eol?t.eol:"\n",te.preserve_newlines=void 0===t.preserve_newlines||t.preserve_newlines,te.break_chained_methods=void 0!==t.break_chained_methods&&t.break_chained_methods,te.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),te.space_in_paren=void 0!==t.space_in_paren&&t.space_in_paren,te.space_in_empty_paren=void 0!==t.space_in_empty_paren&&t.space_in_empty_paren,te.jslint_happy=void 0!==t.jslint_happy&&t.jslint_happy,te.space_after_anon_function=void 0!==t.space_after_anon_function&&t.space_after_anon_function,te.keep_array_indentation=void 0!==t.keep_array_indentation&&t.keep_array_indentation,te.space_before_conditional=void 0===t.space_before_conditional||t.space_before_conditional,te.unescape_strings=void 0!==t.unescape_strings&&t.unescape_strings,te.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),te.e4x=void 0!==t.e4x&&t.e4x,te.end_with_newline=void 0!==t.end_with_newline&&t.end_with_newline,te.comma_first=void 0!==t.comma_first&&t.comma_first,te.test_output_raw=void 0!==t.test_output_raw&&t.test_output_raw,te.jslint_happy&&(te.space_after_anon_function=!0),t.indent_with_tabs&&(te.indent_char="\t",te.indent_size=1),te.eol=te.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),Y="";te.indent_size>0;)Y+=te.indent_char,te.indent_size-=1;var ie=0;if(e&&e.length){for(;" "===e.charAt(ie)||"\t"===e.charAt(ie);)re+=e.charAt(ie),ie+=1;e=e.substring(ie)}W="TK_START_BLOCK",G="",H=new l(Y,re),H.raw=te.test_output_raw,J=[],b(f.BlockStatement),this.beautify=function(){var t,n;for(V=new u(e,te,Y),ne=V.tokenize(),q=0;t=T();){for(var r=0;r<t.comments_before.length;r++)a(t.comments_before[r]);a(t),G=X.last_text,W=t.type,X.last_text=t.text,q+=1}return n=H.get_code(),te.end_with_newline&&(n+="\n"),"\n"!=te.eol&&(n=n.replace(/[\n]/g,te.eol)),n}}function s(e){var t=0,n=-1,r=[],i=!0;this.set_indent=function(r){t=e.baseIndentLength+r*e.indent_length,n=r},this.get_character_count=function(){return t},this.is_empty=function(){return i},this.last=function(){return this._empty?null:r[r.length-1]},this.push=function(e){r.push(e),t+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=r.pop(),t-=e.length,i=0===r.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)r.pop(),t-=1;i=0===r.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=r.join("")),t}}function l(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new s(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(){var e=n.join("\n").replace(/[\r\n\t ]+$/,"");return e},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==f.ForInitializer&&e.mode!==f.Conditional)for(var t=e.start_line_index,r=n.length;t<r;)n[t].remove_indent(),t++},this.trim=function(r){for(r=void 0!==r&&r,this.current_line.trim(e,t);r&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===n.length)return!0;var e=n[n.length-2];return e.is_empty()}return!1}}function u(e,t,i){function o(e){if(!e.match(C))return null;var t={};S.lastIndex=0;for(var n=S.exec(e);n;)t[n[1]]=n[2],n=S.exec(e);return t}function a(){var i,a=[];if(g=0,m="",y>=E)return["","TK_EOF"];var C;C=b.length?b[b.length-1]:new d("TK_START_BLOCK","{");var S=e.charAt(y);for(y+=1;n(S,l);){if(c.newline.test(S)?"\n"===S&&"\r"===e.charAt(y-2)||(g+=1,a=[]):a.push(S),y>=E)return["","TK_EOF"];S=e.charAt(y),y+=1}if(a.length&&(m=a.join("")),u.test(S)){var A=!0,O=!0,k=u;for("0"===S&&y<E&&/[Xxo]/.test(e.charAt(y))?(A=!1,O=!1,S+=e.charAt(y),y+=1,k=/[o]/.test(e.charAt(y))?f:p):(S="",y-=1);y<E&&k.test(e.charAt(y));)S+=e.charAt(y),y+=1,A&&y<E&&"."===e.charAt(y)&&(S+=e.charAt(y),y+=1,A=!1),O&&y<E&&/[Ee]/.test(e.charAt(y))&&(S+=e.charAt(y),y+=1,y<E&&/[+-]/.test(e.charAt(y))&&(S+=e.charAt(y),y+=1),O=!1,A=!1);return[S,"TK_WORD"]}if(c.isIdentifierStart(e.charCodeAt(y-1))){if(y<E)for(;c.isIdentifierChar(e.charCodeAt(y))&&(S+=e.charAt(y),y+=1,y!==E););return"TK_DOT"===C.type||"TK_RESERVED"===C.type&&n(C.text,["set","get"])||!n(S,$)?[S,"TK_WORD"]:"in"===S?[S,"TK_OPERATOR"]:[S,"TK_RESERVED"]}if("("===S||"["===S)return[S,"TK_START_EXPR"];if(")"===S||"]"===S)return[S,"TK_END_EXPR"];if("{"===S)return[S,"TK_START_BLOCK"];if("}"===S)return[S,"TK_END_BLOCK"];if(";"===S)return[S,"TK_SEMICOLON"];if("/"===S){var N="";if("*"===e.charAt(y)){y+=1,w.lastIndex=y;var D=w.exec(e);N="/*"+D[0],y+=D[0].length;var R=o(N);return R&&"start"===R.ignore&&(_.lastIndex=y,D=_.exec(e),N+=D[0],y+=D[0].length),N=N.replace(c.lineBreak,"\n"),[N,"TK_BLOCK_COMMENT",R]}if("/"===e.charAt(y)){y+=1,x.lastIndex=y;var D=x.exec(e);return N="//"+D[0],y+=D[0].length,[N,"TK_COMMENT"]}}if("`"===S||"'"===S||'"'===S||("/"===S||t.e4x&&"<"===S&&e.slice(y-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===C.type&&n(C.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===C.type&&")"===C.text&&C.parent&&"TK_RESERVED"===C.parent.type&&n(C.parent.text,["if","while","for"])||n(C.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var M=S,I=!1,F=!1;if(i=S,"/"===M)for(var L=!1;y<E&&(I||L||e.charAt(y)!==M)&&!c.newline.test(e.charAt(y));)i+=e.charAt(y),I?I=!1:(I="\\"===e.charAt(y),"["===e.charAt(y)?L=!0:"]"===e.charAt(y)&&(L=!1)),y+=1;else if(t.e4x&&"<"===M){var P=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,B=e.slice(y-1),j=P.exec(B);if(j&&0===j.index){for(var U=j[2],K=0;j;){var H=!!j[1],q=j[2],V=!!j[j.length-1]||"![CDATA["===q.slice(0,8);if(q!==U||V||(H?--K:++K),K<=0)break;j=P.exec(B)}var z=j?j.index+j[0].length:B.length;return B=B.slice(0,z),y+=z-1,B=B.replace(c.lineBreak,"\n"),[B,"TK_STRING"]}}else for(;y<E&&(I||e.charAt(y)!==M&&("`"===M||!c.newline.test(e.charAt(y))));)(I||"`"===M)&&c.newline.test(e.charAt(y))?("\r"===e.charAt(y)&&"\n"===e.charAt(y+1)&&(y+=1),i+="\n"):i+=e.charAt(y),I?("x"!==e.charAt(y)&&"u"!==e.charAt(y)||(F=!0),I=!1):I="\\"===e.charAt(y),y+=1;if(F&&t.unescape_strings&&(i=s(i)),y<E&&e.charAt(y)===M&&(i+=M,y+=1,"/"===M))for(;y<E&&c.isIdentifierStart(e.charCodeAt(y));)i+=e.charAt(y),y+=1;return[i,"TK_STRING"]}if("#"===S){if(0===b.length&&"!"===e.charAt(y)){for(i=S;y<E&&"\n"!==S;)S=e.charAt(y),i+=S,y+=1;return[r(i)+"\n","TK_UNKNOWN"]}var W="#";if(y<E&&u.test(e.charAt(y))){do S=e.charAt(y),W+=S,y+=1;while(y<E&&"#"!==S&&"="!==S);return"#"===S||("["===e.charAt(y)&&"]"===e.charAt(y+1)?(W+="[]",y+=2):"{"===e.charAt(y)&&"}"===e.charAt(y+1)&&(W+="{}",y+=2)),[W,"TK_WORD"]}}if("<"===S&&("?"===e.charAt(y)||"%"===e.charAt(y))){T.lastIndex=y-1;var G=T.exec(e);if(G)return S=G[0],y+=S.length-1,S=S.replace(c.lineBreak,"\n"),[S,"TK_STRING"]}if("<"===S&&"<!--"===e.substring(y-1,y+3)){for(y+=3,S="<!--";!c.newline.test(e.charAt(y))&&y<E;)S+=e.charAt(y),y++;return v=!0,[S,"TK_COMMENT"]}if("-"===S&&v&&"-->"===e.substring(y-1,y+2))return v=!1,y+=2,["-->","TK_COMMENT"];if("."===S)return[S,"TK_DOT"];if(n(S,h)){for(;y<E&&n(S+e.charAt(y),h)&&(S+=e.charAt(y),y+=1,!(y>=E)););return","===S?[S,"TK_COMMA"]:"="===S?[S,"TK_EQUALS"]:[S,"TK_OPERATOR"]}return[S,"TK_UNKNOWN"]}function s(e){for(var t,n=!1,r="",i=0,o="",a=0;n||i<e.length;)if(t=e.charAt(i),i++,n){if(n=!1,"x"===t)o=e.substr(i,2),i+=2;else{if("u"!==t){r+="\\"+t;continue}o=e.substr(i,4),i+=4}if(!o.match(/^[0123456789abcdefABCDEF]+$/))return e;if(a=parseInt(o,16),a>=0&&a<32){r+="x"===t?"\\x"+o:"\\u"+o;continue}if(34===a||39===a||92===a)r+="\\"+String.fromCharCode(a);else{if("x"===t&&a>126&&a<=255)return e;r+=String.fromCharCode(a)}}else"\\"===t?n=!0:r+=t;return r}var l="\n\r\t ".split(""),u=/[0-9]/,f=/[01234567]/,p=/[0123456789abcdefABCDEF]/,h="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var g,m,v,b,y,E,$=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),w=/([\s\S]*?)((?:\*\/)|$)/g,x=/([^\n\r\u2028\u2029]*)/g,C=/\/\* beautify( \w+[:]\w+)+ \*\//g,S=/ (\w+)[:](\w+)/g,_=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,T=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){E=e.length,y=0,v=!1,b=[];for(var t,n,r,i=null,o=[],s=[];!n||"TK_EOF"!==n.type;){for(r=a(),t=new d(r[1],r[0],g,m);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=r[2]),s.push(t),r=a(),t=new d(r[1],r[0],g,m);s.length&&(t.comments_before=s,s=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=n,o.push(i),i=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&i&&("]"===t.text&&"["===i.text||")"===t.text&&"("===i.text||"}"===t.text&&"{"===i.text)&&(t.parent=i.parent,i=o.pop()),b.push(t),n=t}return b}}var c={};!function(e){var t="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",n="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",r=new RegExp("["+t+"]"),i=new RegExp("["+t+n+"]");e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g"),e.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&r.test(String.fromCharCode(e)))},e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&i.test(String.fromCharCode(e))))}}(c);var f={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},d=function(e,t,n,r,i,o){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=r||"",this.parent=null,this.directives=null};return{run:e}}}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{codeMirror:!0,codeMirrorOptions:{lineNumbers:!0,tabMode:"indent",indentWithTabs:!0,lineWrapping:!0,mode:"text/html",tabSize:2},codeBeautifierOptions:{end_with_newline:!0,indent_inner_html:!0,extra_liners:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","ol","table","dl"],brace_style:"expand",indent_char:"\t",indent_size:1,wrap_line_length:0},codeViewKeepActiveButtons:["fullscreen"]}),e.FE.PLUGINS.codeView=function(t){function n(){return t.$box.hasClass("fr-code-view")}function r(){return f?f.getValue():c.val()}function i(e){var n=r();t.html.set(n),t.$el.blur(),t.$tb.find(" > .fr-command").not(e).removeClass("fr-disabled").attr("aria-disabled",!1),e.removeClass("fr-active").attr("aria-pressed",!1),t.events.focus(!0),t.placeholder.refresh(),t.undo.saveStep()}function o(n){c||(l(),!f&&t.opts.codeMirror&&"undefined"!=typeof CodeMirror?f=CodeMirror.fromTextArea(c.get(0),t.opts.codeMirrorOptions):t.events.$on(c,"keydown keyup change input",function(){if(t.opts.height)this.removeAttribute("rows");else if(this.rows||(this.rows=1),0===this.value.length)this.rows=1;else{for(this.style.height="auto";this.rows>1&&this.scrollHeight<=this.offsetHeight;)this.rows-=1;for(;this.scrollHeight>this.offsetHeight&&(!t.opts.heightMax||this.offsetHeight<t.opts.heightMax);)this.rows+=1}})),t.undo.saveStep(),t.html.cleanEmptyTags(),t.html.cleanWhiteTags(!0),t.core.hasFocus()&&(t.core.isEmpty()||(t.selection.save(),t.$el.find('.fr-marker[data-type="true"]:first').replaceWith('<span class="fr-tmp fr-sm">F</span>'),t.$el.find('.fr-marker[data-type="false"]:last').replaceWith('<span class="fr-tmp fr-em">F</span>')));var r=t.html.get(!1,!0);t.$el.find("span.fr-tmp").remove(),t.$box.toggleClass("fr-code-view",!0),t.core.hasFocus()&&t.$el.blur(),r=r.replace(/<span class="fr-tmp fr-sm">F<\/span>/,"FROALA-SM"),r=r.replace(/<span class="fr-tmp fr-em">F<\/span>/,"FROALA-EM"),t.codeBeautifier&&(r=t.codeBeautifier.run(r,t.opts.codeBeautifierOptions));var i,o;if(f){i=r.indexOf("FROALA-SM"),o=r.indexOf("FROALA-EM"),i>o?i=o:o-=9,r=r.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"");var a=r.substring(0,i).length-r.substring(0,i).replace(/\n/g,"").length,s=r.substring(0,o).length-r.substring(0,o).replace(/\n/g,"").length;i=r.substring(0,i).length-r.substring(0,r.substring(0,i).lastIndexOf("\n")+1).length,o=r.substring(0,o).length-r.substring(0,r.substring(0,o).lastIndexOf("\n")+1).length,f.setSize(null,t.opts.height?t.opts.height:"auto"),t.opts.heightMin&&t.$box.find(".CodeMirror-scroll").css("min-height",t.opts.heightMin),f.setValue(r),f.focus(),f.setSelection({line:a,ch:i},{line:s,ch:o}),f.refresh(),f.clearHistory()}else{i=r.indexOf("FROALA-SM"),o=r.indexOf("FROALA-EM")-9,t.opts.heightMin&&c.css("min-height",t.opts.heightMin),t.opts.height&&c.css("height",t.opts.height),t.opts.heightMax&&c.css("max-height",t.opts.height||t.opts.heightMax),c.val(r.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).trigger("change");var u=e(t.o_doc).scrollTop();c.focus(),c.get(0).setSelectionRange(i,o),e(t.o_doc).scrollTop(u)}t.$tb.find(" > .fr-command").not(n).filter(function(){return t.opts.codeViewKeepActiveButtons.indexOf(e(this).data("cmd"))<0}).addClass("fr-disabled").attr("aria-disabled",!0),n.addClass("fr-active").attr("aria-pressed",!0),!t.helpers.isMobile()&&t.opts.toolbarInline&&t.toolbar.hide()}function a(e){"undefined"==typeof e&&(e=!n());var r=t.$tb.find('.fr-command[data-cmd="html"]');e?(t.popups.hideAll(),o(r)):(t.$box.toggleClass("fr-code-view",!1),i(r))}function s(){n()&&a(t.$tb.find('button[data-cmd="html"]')),f&&f.toTextArea(),c.val("").removeData().remove(),c=null,d&&(d.remove(),d=null)}function l(){c=e('<textarea class="fr-code" tabIndex="-1">'),t.$wp.append(c),c.attr("dir",t.opts.direction),t.$box.hasClass("fr-basic")||(d=e('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'+(t.helpers.isMobile()?"":" fr-desktop")+'" role="button" tabIndex="-1"><i class="fa fa-code"></i></button>'),t.$box.append(d),t.events.bindClick(t.$box,"a.html-switch",function(){a(!1)}));var i=function(){return!n()};t.events.on("buttons.refresh",i),t.events.on("copy",i,!0),t.events.on("cut",i,!0),t.events.on("paste",i,!0),t.events.on("destroy",s,!0),t.events.on("html.set",function(){n()&&a(!0)}),t.events.on("form.submit",function(){n()&&(t.html.set(r()),t.events.trigger("contentChanged",[],!0))},!0)}function u(){if(!t.$wp)return!1}var c,f,d;return{_init:u,toggle:a,isActive:n,get:r}},e.FE.RegisterCommand("html",{title:"Code View",undo:!1,focus:!1,forcedRefresh:!0,toggle:!0,callback:function(){this.codeView.toggle()},plugin:"codeView"}),e.FE.DefineIcon("html",{NAME:"code"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.POPUP_TEMPLATES,{"colors.picker":"[_BUTTONS_][_TEXT_COLORS_][_BACKGROUND_COLORS_]"}),e.extend(e.FE.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsDefaultTab:"text",colorsButtons:["colorsBack","|","-"]}),e.FE.PLUGINS.colors=function(t){function n(){var e=t.$tb.find('.fr-command[data-cmd="color"]'),n=t.popups.get("colors.picker");if(n||(n=i()),!n.hasClass("fr-active"))if(t.popups.setContainer("colors.picker",t.$tb),l(n.find(".fr-selected-tab").attr("data-param1")),e.is(":visible")){var r=e.offset().left+e.outerWidth()/2,o=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("colors.picker",r,o,e.outerHeight())}else t.position.forSelection(n),t.popups.show("colors.picker")}function r(){t.popups.hide("colors.picker")}function i(){var e='<div class="fr-buttons fr-colors-buttons">';t.opts.toolbarInline&&t.opts.colorsButtons.length>0&&(e+=t.button.buildList(t.opts.colorsButtons)),e+=o()+"</div>";var n={buttons:e,text_colors:a("text"),background_colors:a("background")},r=t.popups.create("colors.picker",n);return s(r),r}function o(){var e='<div class="fr-colors-tabs fr-group">';return e+='<span class="fr-colors-tab '+("background"==t.opts.colorsDefaultTab?"":"fr-selected-tab ")+'fr-command" tabIndex="-1" role="button" aria-pressed="'+("background"!=t.opts.colorsDefaultTab)+'" data-param1="text" data-cmd="colorChangeSet" title="'+t.language.translate("Text")+'">'+t.language.translate("Text")+"</span>",e+='<span class="fr-colors-tab '+("background"==t.opts.colorsDefaultTab?"fr-selected-tab ":"")+'fr-command" tabIndex="-1" role="button" aria-pressed="'+("background"==t.opts.colorsDefaultTab)+'" data-param1="background" data-cmd="colorChangeSet" title="'+t.language.translate("Background")+'">'+t.language.translate("Background")+"</span>",e+"</div>"}function a(e){for(var n="text"==e?t.opts.colorsText:t.opts.colorsBackground,r='<div class="fr-color-set fr-'+e+"-color"+(t.opts.colorsDefaultTab==e||"text"!=t.opts.colorsDefaultTab&&"background"!=t.opts.colorsDefaultTab&&"text"==e?" fr-selected-set":"")+'">',i=0;i<n.length;i++)0!==i&&i%t.opts.colorsStep===0&&(r+="<br>"),r+="REMOVE"!=n[i]?'<span class="fr-command fr-select-color" style="background: '+n[i]+';" tabIndex="-1" aria-selected="false" role="button" data-cmd="'+e+'Color" data-param1="'+n[i]+'"><span class="fr-sr-only">'+t.language.translate("Color")+" "+n[i]+"&nbsp;&nbsp;&nbsp;</span></span>":'<span class="fr-command fr-select-color" data-cmd="'+e+'Color" tabIndex="-1" role="button" data-param1="REMOVE" title="'+t.language.translate("Clear Formatting")+'">'+t.icon.create("remove")+'<span class="fr-sr-only">'+t.language.translate("Clear Formatting")+"</span></span>";return r+"</div>"}function s(n){t.events.on("popup.tab",function(r){var i=e(r.currentTarget);if(!t.popups.isVisible("colors.picker")||!i.is("span"))return!0;var o=r.which,a=!0;if(e.FE.KEYCODE.TAB==o){var s=n.find(".fr-buttons");a=!t.accessibility.focusToolbar(s,!!r.shiftKey)}else if(e.FE.KEYCODE.ARROW_UP==o||e.FE.KEYCODE.ARROW_DOWN==o||e.FE.KEYCODE.ARROW_LEFT==o||e.FE.KEYCODE.ARROW_RIGHT==o){if(i.is("span.fr-select-color")){var l=i.parent().find("span.fr-select-color"),u=l.index(i),c=t.opts.colorsStep,f=Math.floor(l.length/c),d=u%c,p=Math.floor(u/c),h=p*c+d,g=f*c;e.FE.KEYCODE.ARROW_UP==o?h=((h-c)%g+g)%g:e.FE.KEYCODE.ARROW_DOWN==o?h=(h+c)%g:e.FE.KEYCODE.ARROW_LEFT==o?h=((h-1)%g+g)%g:e.FE.KEYCODE.ARROW_RIGHT==o&&(h=(h+1)%g);var m=e(l.get(h));t.events.disableBlur(),m.focus(),a=!1}}else e.FE.KEYCODE.ENTER==o&&(t.button.exec(i),a=!1);return a===!1&&(r.preventDefault(),r.stopPropagation()),a},!0)}function l(n){var r,i=t.popups.get("colors.picker"),o=e(t.selection.element());r="background"==n?"background-color":"color";var a=i.find(".fr-"+n+"-color .fr-select-color");for(a.find(".fr-selected-color").remove(),a.removeClass("fr-active-item"),a.not('[data-param1="REMOVE"]').attr("aria-selected",!1);o.get(0)!=t.el;){if("transparent"!=o.css(r)&&"rgba(0, 0, 0, 0)"!=o.css(r)){var s=i.find(".fr-"+n+'-color .fr-select-color[data-param1="'+t.helpers.RGBToHex(o.css(r))+'"]');s.append('<span class="fr-selected-color" aria-hidden="true"></span>'),s.addClass("fr-active-item").attr("aria-selected",!0);break}o=o.parent()}}function u(e,n){e.hasClass("fr-selected-tab")||(e.siblings().removeClass("fr-selected-tab").attr("aria-pressed",!1),e.addClass("fr-selected-tab").attr("aria-pressed",!0),e.parents(".fr-popup").find(".fr-color-set").removeClass("fr-selected-set"),e.parents(".fr-popup").find(".fr-color-set.fr-"+n+"-color").addClass("fr-selected-set"),l(n)),t.accessibility.focusPopup(e.parents(".fr-popup"))}function c(e){"REMOVE"!=e?t.format.applyStyle("background-color",t.helpers.HEXtoRGB(e)):t.format.removeStyle("background-color"),r()}function f(e){"REMOVE"!=e?t.format.applyStyle("color",t.helpers.HEXtoRGB(e)):t.format.removeStyle("color"),r()}function d(){t.popups.hide("colors.picker"),t.toolbar.showInline()}return{showColorsPopup:n,hideColorsPopup:r,changeSet:u,background:c,text:f,back:d}},e.FE.DefineIcon("colors",{NAME:"tint"}),e.FE.RegisterCommand("color",{title:"Colors",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("colors.picker")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("colors.picker")):this.colors.showColorsPopup()},plugin:"colors"}),e.FE.RegisterCommand("textColor",{undo:!0,callback:function(e,t){this.colors.text(t);
}}),e.FE.RegisterCommand("backgroundColor",{undo:!0,callback:function(e,t){this.colors.background(t)}}),e.FE.RegisterCommand("colorChangeSet",{undo:!1,focus:!1,callback:function(e,t){var n=this.popups.get("colors.picker").find('.fr-command[data-cmd="'+e+'"][data-param1="'+t+'"]');this.colors.changeSet(n,t)}}),e.FE.DefineIcon("colorsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}}),e.FE.DefineIcon("remove",{NAME:"eraser"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_EMOTICONS_]"}),e.extend(e.FE.DEFAULTS,{emoticonsStep:8,emoticonsSet:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning face with smiling eyes"},{code:"1f602",desc:"Face with tears of joy"},{code:"1f603",desc:"Smiling face with open mouth"},{code:"1f604",desc:"Smiling face with open mouth and smiling eyes"},{code:"1f605",desc:"Smiling face with open mouth and cold sweat"},{code:"1f606",desc:"Smiling face with open mouth and tightly-closed eyes"},{code:"1f607",desc:"Smiling face with halo"},{code:"1f608",desc:"Smiling face with horns"},{code:"1f609",desc:"Winking face"},{code:"1f60a",desc:"Smiling face with smiling eyes"},{code:"1f60b",desc:"Face savoring delicious food"},{code:"1f60c",desc:"Relieved face"},{code:"1f60d",desc:"Smiling face with heart-shaped eyes"},{code:"1f60e",desc:"Smiling face with sunglasses"},{code:"1f60f",desc:"Smirking face"},{code:"1f610",desc:"Neutral face"},{code:"1f611",desc:"Expressionless face"},{code:"1f612",desc:"Unamused face"},{code:"1f613",desc:"Face with cold sweat"},{code:"1f614",desc:"Pensive face"},{code:"1f615",desc:"Confused face"},{code:"1f616",desc:"Confounded face"},{code:"1f617",desc:"Kissing face"},{code:"1f618",desc:"Face throwing a kiss"},{code:"1f619",desc:"Kissing face with smiling eyes"},{code:"1f61a",desc:"Kissing face with closed eyes"},{code:"1f61b",desc:"Face with stuck out tongue"},{code:"1f61c",desc:"Face with stuck out tongue and winking eye"},{code:"1f61d",desc:"Face with stuck out tongue and tightly-closed eyes"},{code:"1f61e",desc:"Disappointed face"},{code:"1f61f",desc:"Worried face"},{code:"1f620",desc:"Angry face"},{code:"1f621",desc:"Pouting face"},{code:"1f622",desc:"Crying face"},{code:"1f623",desc:"Persevering face"},{code:"1f624",desc:"Face with look of triumph"},{code:"1f625",desc:"Disappointed but relieved face"},{code:"1f626",desc:"Frowning face with open mouth"},{code:"1f627",desc:"Anguished face"},{code:"1f628",desc:"Fearful face"},{code:"1f629",desc:"Weary face"},{code:"1f62a",desc:"Sleepy face"},{code:"1f62b",desc:"Tired face"},{code:"1f62c",desc:"Grimacing face"},{code:"1f62d",desc:"Loudly crying face"},{code:"1f62e",desc:"Face with open mouth"},{code:"1f62f",desc:"Hushed face"},{code:"1f630",desc:"Face with open mouth and cold sweat"},{code:"1f631",desc:"Face screaming in fear"},{code:"1f632",desc:"Astonished face"},{code:"1f633",desc:"Flushed face"},{code:"1f634",desc:"Sleeping face"},{code:"1f635",desc:"Dizzy face"},{code:"1f636",desc:"Face without mouth"},{code:"1f637",desc:"Face with medical mask"}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),e.FE.PLUGINS.emoticons=function(t){function n(){var e=t.$tb.find('.fr-command[data-cmd="emoticons"]'),n=t.popups.get("emoticons");if(n||(n=i()),!n.hasClass("fr-active")){t.popups.refresh("emoticons"),t.popups.setContainer("emoticons",t.$tb);var r=e.offset().left+e.outerWidth()/2,o=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("emoticons",r,o,e.outerHeight())}}function r(){t.popups.hide("emoticons")}function i(){var e="";t.opts.toolbarInline&&t.opts.emoticonsButtons.length>0&&(e='<div class="fr-buttons fr-emoticons-buttons">'+t.button.buildList(t.opts.emoticonsButtons)+"</div>");var n={buttons:e,emoticons:o()},r=t.popups.create("emoticons",n);return t.tooltip.bind(r,".fr-emoticon"),a(r),r}function o(){for(var e='<div style="text-align: center">',n=0;n<t.opts.emoticonsSet.length;n++)0!==n&&n%t.opts.emoticonsStep===0&&(e+="<br>"),e+='<span class="fr-command fr-emoticon" tabIndex="-1" data-cmd="insertEmoticon" title="'+t.language.translate(t.opts.emoticonsSet[n].desc)+'" role="button" data-param1="'+t.opts.emoticonsSet[n].code+'">'+(t.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'+t.opts.emoticonsSet[n].code+'.svg"/>':"&#x"+t.opts.emoticonsSet[n].code+";")+'<span class="fr-sr-only">'+t.language.translate(t.opts.emoticonsSet[n].desc)+"&nbsp;&nbsp;&nbsp;</span></span>";return t.opts.emoticonsUseImage&&(e+='<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>'),e+="</div>"}function a(n){t.events.on("popup.tab",function(r){var i=e(r.currentTarget);if(!t.popups.isVisible("emoticons")||!i.is("span, a"))return!0;var o,a,s,l=r.which;if(e.FE.KEYCODE.TAB==l){if(i.is("span.fr-emoticon")&&r.shiftKey||i.is("a")&&!r.shiftKey){var u=n.find(".fr-buttons");o=!t.accessibility.focusToolbar(u,!!r.shiftKey)}if(o!==!1){var c=n.find("span.fr-emoticon:focus:first, span.fr-emoticon:visible:first, a");i.is("span.fr-emoticon")&&(c=c.not("span.fr-emoticon:not(:focus)")),a=c.index(i),a=r.shiftKey?((a-1)%c.length+c.length)%c.length:(a+1)%c.length,s=c.get(a),t.events.disableBlur(),s.focus(),o=!1}}else if(e.FE.KEYCODE.ARROW_UP==l||e.FE.KEYCODE.ARROW_DOWN==l||e.FE.KEYCODE.ARROW_LEFT==l||e.FE.KEYCODE.ARROW_RIGHT==l){if(i.is("span.fr-emoticon")){var f=i.parent().find("span.fr-emoticon");a=f.index(i);var d=t.opts.emoticonsStep,p=Math.floor(f.length/d),h=a%d,g=Math.floor(a/d),m=g*d+h,v=p*d;e.FE.KEYCODE.ARROW_UP==l?m=((m-d)%v+v)%v:e.FE.KEYCODE.ARROW_DOWN==l?m=(m+d)%v:e.FE.KEYCODE.ARROW_LEFT==l?m=((m-1)%v+v)%v:e.FE.KEYCODE.ARROW_RIGHT==l&&(m=(m+1)%v),s=e(f.get(m)),t.events.disableBlur(),s.focus(),o=!1}}else e.FE.KEYCODE.ENTER==l&&(i.is("a")?i[0].click():t.button.exec(i),o=!1);return o===!1&&(r.preventDefault(),r.stopPropagation()),o},!0)}function s(n,r){t.html.insert('<span class="fr-emoticon fr-deletable'+(r?" fr-emoticon-img":"")+'"'+(r?' style="background: url('+r+');"':"")+">"+(r?"&nbsp;":n)+"</span>&nbsp;"+e.FE.MARKERS,!0)}function l(){t.popups.hide("emoticons"),t.toolbar.showInline()}function u(){var n=function(){for(var e=t.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),n=0;n<e.length;n++)e[n].className+=" fr-deletable"};n(),t.events.on("html.set",n);var r=function(){if(!t.selection.isCollapsed())return!1;var e=t.selection.element(),n=t.selection.endElement();if(e&&t.node.hasClass(e,"fr-emoticon"))return e;if(n&&t.node.hasClass(n,"fr-emoticon"))return n;var r=t.selection.ranges(0),i=r.startContainer;if(i.nodeType==Node.ELEMENT_NODE&&i.childNodes.length>0&&r.startOffset>0){var o=i.childNodes[r.startOffset-1];if(t.node.hasClass(o,"fr-emoticon"))return o}return!1};t.events.on("keydown",function(n){if(t.keys.isCharacter(n.which)&&t.selection.inEditor()){var i=t.selection.ranges(0),o=r();o&&(0===i.startOffset&&t.selection.element()===o?e(o).before(e.FE.MARKERS+e.FE.INVISIBLE_SPACE):e(o).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),t.selection.restore())}}),t.events.on("keyup",function(n){for(var i=t.el.querySelectorAll(".fr-emoticon"),o=0;o<i.length;o++)"undefined"!=typeof i[o].textContent&&0===i[o].textContent.replace(/\u200B/gi,"").length&&e(i[o]).remove();if(!(n.which>=e.FE.KEYCODE.ARROW_LEFT&&n.which<=e.FE.KEYCODE.ARROW_DOWN)){var a=r();t.node.hasClass(a,"fr-emoticon-img")&&(e(a).append(e.FE.MARKERS),t.selection.restore())}})}return{_init:u,insert:s,showEmoticonsPopup:n,hideEmoticonsPopup:r,back:l}},e.FE.DefineIcon("emoticons",{NAME:"smile-o"}),e.FE.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),e.FE.RegisterCommand("insertEmoticon",{callback:function(e,t){this.emoticons.insert("&#x"+t+";",this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/"+t+".svg":null),this.emoticons.hideEmoticonsPopup()}}),e.FE.DefineIcon("emoticonsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{entities:"&quot;&#39;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"}),e.FE.PLUGINS.entities=function(t){function n(e){var t=e.textContent;if(t.match(a)){for(var n="",r=0;r<t.length;r++)n+=s[t[r]]?s[t[r]]:t[r];e.textContent=n}}function r(e){if(e&&["STYLE","SCRIPT","svg"].indexOf(e.tagName)>=0)return!0;for(var i=t.node.contents(e),o=0;o<i.length;o++)i[o].nodeType==Node.TEXT_NODE?n(i[o]):r(i[o]);e.nodeType==Node.TEXT_NODE&&n(e)}function i(e){if(0===e.length)return"";var n=t.clean.exec(e,r).replace(/\&amp;/g,"&");return n}function o(){t.opts.htmlSimpleAmpersand||(t.opts.entities=t.opts.entities+"&amp;");var n=e("<div>").html(t.opts.entities).text(),r=t.opts.entities.split(";");s={},a="";for(var o=0;o<n.length;o++){var l=n.charAt(o);s[l]=r[o]+";",a+="\\"+l+(o<n.length-1?"|":"")}a=new RegExp("("+a+")","g"),t.events.on("html.get",i,!0)}var a,s;return{_init:o}}}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.POPUP_TEMPLATES,{"file.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]"}),e.extend(e.FE.DEFAULTS,{fileUploadURL:"https://i.froala.com/upload",fileUploadParam:"file",fileUploadParams:{},fileUploadToS3:!1,fileUploadMethod:"POST",fileMaxSize:10485760,fileAllowedTypes:["*"],fileInsertButtons:["fileBack","|"],fileUseSelectedText:!1}),e.FE.PLUGINS.file=function(t){function n(){var e=t.$tb.find('.fr-command[data-cmd="insertFile"]'),n=t.popups.get("file.insert");if(n||(n=b()),i(),!n.hasClass("fr-active")){t.popups.refresh("file.insert"),t.popups.setContainer("file.insert",t.$tb);var r=e.offset().left+e.outerWidth()/2,o=e.offset().top+(t.opts.toolbarBottom?0:e.outerHeight());t.popups.show("file.insert",r,o,e.outerHeight())}}function r(){var e=t.popups.get("file.insert");e||(e=b()),e.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),e.find(".fr-file-progress-bar-layer").addClass("fr-active"),e.find(".fr-buttons").hide(),o("Uploading",0)}function i(e){var n=t.popups.get("file.insert");n&&(n.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),n.find(".fr-file-progress-bar-layer").removeClass("fr-active"),n.find(".fr-buttons").show(),e&&(t.events.focus(),t.popups.hide("file.insert")))}function o(e,n){var r=t.popups.get("file.insert");if(r){var i=r.find(".fr-file-progress-bar-layer");i.find("h3").text(e+(n?" "+n+"%":"")),i.removeClass("fr-error"),n?(i.find("div").removeClass("fr-indeterminate"),i.find("div > span").css("width",n+"%")):i.find("div").addClass("fr-indeterminate")}}function a(e){r();var n=t.popups.get("file.insert"),i=n.find(".fr-file-progress-bar-layer");i.addClass("fr-error");var o=i.find("h3");o.text(e),t.events.disableBlur(),o.focus()}function s(e,n,r){t.edit.on(),t.events.focus(!0),t.selection.restore(),t.opts.fileUseSelectedText&&t.selection.text().length&&(n=t.selection.text()),t.html.insert('<a href="'+e+'" id="fr-inserted-file" class="fr-file">'+n+"</a>");var i=t.$el.find("#fr-inserted-file");i.removeAttr("id"),t.popups.hide("file.insert"),t.undo.saveStep(),x(),t.events.trigger("file.inserted",[i,r])}function l(n){try{if(t.events.trigger("file.uploaded",[n],!0)===!1)return t.edit.on(),!1;var r=e.parseJSON(n);return r.link?r:(p(_,n),!1)}catch(i){return p(A,n),!1}}function u(n){try{var r=e(n).find("Location").text(),i=e(n).find("Key").text();return t.events.trigger("file.uploadedToS3",[r,i,n],!0)===!1?(t.edit.on(),!1):r}catch(o){return p(A,n),!1}}function c(e){var n=this.status,r=this.response,i=this.responseXML,o=this.responseText;try{if(t.opts.fileUploadToS3)if(201==n){var a=u(i);a&&s(a,e,r||i)}else p(A,r||i);else if(n>=200&&n<300){var c=l(o);c&&s(c.link,e,r||o)}else p(T,r||o)}catch(f){p(A,r||o)}}function f(){p(A,this.response||this.responseText||this.responseXML)}function d(e){if(e.lengthComputable){var t=e.loaded/e.total*100|0;o("Uploading",t)}}function p(e,n){t.edit.on(),a(t.language.translate("Something went wrong. Please try again.")),t.events.trigger("file.error",[{code:e,message:D[e]},n])}function h(){t.edit.on(),i(!0)}function g(e){if("undefined"!=typeof e&&e.length>0){if(t.events.trigger("file.beforeUpload",[e])===!1)return!1;var n=e[0];if(n.size>t.opts.fileMaxSize)return p(O),!1;if(t.opts.fileAllowedTypes.indexOf("*")<0&&t.opts.fileAllowedTypes.indexOf(n.type.replace(/file\//g,""))<0)return p(k),!1;var i;if(t.drag_support.formdata&&(i=t.drag_support.formdata?new FormData:null),i){var o;if(t.opts.fileUploadToS3!==!1){i.append("key",t.opts.fileUploadToS3.keyStart+(new Date).getTime()+"-"+(n.name||"untitled")),i.append("success_action_status","201"),i.append("X-Requested-With","xhr"),i.append("Content-Type",n.type);for(o in t.opts.fileUploadToS3.params)t.opts.fileUploadToS3.params.hasOwnProperty(o)&&i.append(o,t.opts.fileUploadToS3.params[o])}for(o in t.opts.fileUploadParams)t.opts.fileUploadParams.hasOwnProperty(o)&&i.append(o,t.opts.fileUploadParams[o]);i.append(t.opts.fileUploadParam,n);var a=t.opts.fileUploadURL;t.opts.fileUploadToS3&&(a=t.opts.fileUploadToS3.uploadURL?t.opts.fileUploadToS3.uploadURL:"https://"+t.opts.fileUploadToS3.region+".amazonaws.com/"+t.opts.fileUploadToS3.bucket);var s=t.core.getXHR(a,t.opts.fileUploadMethod);s.onload=function(){c.call(s,n.name)},s.onerror=f,s.upload.onprogress=d,s.onabort=h,r(),t.edit.off();var l=t.popups.get("file.insert");l&&l.off("abortUpload").on("abortUpload",function(){4!=s.readyState&&s.abort()}),s.send(i)}}}function m(n){t.events.$on(n,"dragover dragenter",".fr-file-upload-layer",function(){return e(this).addClass("fr-drop"),!1},!0),t.events.$on(n,"dragleave dragend",".fr-file-upload-layer",function(){return e(this).removeClass("fr-drop"),!1},!0),t.events.$on(n,"drop",".fr-file-upload-layer",function(r){r.preventDefault(),r.stopPropagation(),e(this).removeClass("fr-drop");var i=r.originalEvent.dataTransfer;if(i&&i.files){var o=n.data("instance")||t;o.file.upload(i.files)}},!0),t.events.$on(n,"change",'.fr-file-upload-layer input[type="file"]',function(){if(this.files){var r=n.data("instance")||t;r.file.upload(this.files)}e(this).val("")},!0)}function v(){i()}function b(e){if(e)return t.popups.onHide("file.insert",v),!0;var n="";n='<div class="fr-buttons">'+t.button.buildList(t.opts.fileInsertButtons)+"</div>";var r="";r='<div class="fr-file-upload-layer fr-layer fr-active" id="fr-file-upload-layer-'+t.id+'"><strong>'+t.language.translate("Drop file")+"</strong><br>("+t.language.translate("or click")+')<div class="fr-form"><input type="file" name="'+t.opts.fileUploadParam+'" accept="/*" tabIndex="-1" aria-labelledby="fr-file-upload-layer-'+t.id+'" role="button"></div></div>';var i='<div class="fr-file-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="fileDismissError" tabIndex="2" role="button">OK</button></div></div>',o={buttons:n,upload_layer:r,progress_bar:i},a=t.popups.create("file.insert",o);return m(a),a}function y(e){if(t.node.hasClass(e,"fr-file"))return t.events.trigger("file.unlink",[e])}function E(n){var i=n.originalEvent.dataTransfer;if(i&&i.files&&i.files.length){var o=i.files[0];if(o&&"undefined"!=typeof o.type&&o.type.indexOf("image")<0&&(t.opts.fileAllowedTypes.indexOf(o.type)>=0||t.opts.fileAllowedTypes.indexOf("*")>=0)){t.markers.remove(),t.markers.insertAtPoint(n.originalEvent),t.$el.find(".fr-marker").replaceWith(e.FE.MARKERS),t.popups.hideAll();var a=t.popups.get("file.insert");return a||(a=b()),t.popups.setContainer("file.insert",t.$sc),t.popups.show("file.insert",n.originalEvent.pageX,n.originalEvent.pageY),r(),g(i.files),n.preventDefault(),n.stopPropagation(),!1}}}function $(){t.events.on("drop",E),t.events.$on(t.$win,"keydown",function(n){var r=n.which,i=t.popups.get("file.insert");i&&r==e.FE.KEYCODE.ESC&&i.trigger("abortUpload")}),t.events.on("destroy",function(){var e=t.popups.get("file.insert");e&&e.trigger("abortUpload")})}function w(){t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("file.insert"),t.toolbar.showInline()}function x(){var e,n=Array.prototype.slice.call(t.el.querySelectorAll("a.fr-file")),r=[];for(e=0;e<n.length;e++)r.push(n[e].getAttribute("href"));if(R)for(e=0;e<R.length;e++)r.indexOf(R[e].getAttribute("href"))<0&&t.events.trigger("file.unlink",[R[e]]);R=n}function C(){$(),t.events.on("link.beforeRemove",y),t.$wp&&(x(),t.events.on("contentChanged",x)),b(!0)}var S=1,_=2,T=3,A=4,O=5,k=6,N=7,D={};D[S]="File cannot be loaded from the passed link.",D[_]="No link in upload response.",D[T]="Error during file upload.",D[A]="Parsing response failed.",D[O]="File is too large.",D[k]="File file type is invalid.",D[N]="Files can be uploaded only to same domain in IE 8 and IE 9.";var R;return{_init:C,showInsertPopup:n,upload:g,insert:s,back:w,hideProgressBar:i}},e.FE.DefineIcon("insertFile",{NAME:"file-o"}),e.FE.RegisterCommand("insertFile",{title:"Upload File",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("file.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("file.insert")):this.file.showInsertPopup()},plugin:"file"}),e.FE.DefineIcon("fileBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("fileBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.file.back()},refresh:function(e){this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("fileDismissError",{title:"OK",callback:function(){this.file.hideProgressBar(!0)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},fontFamilySelection:!1,fontFamilyDefaultSelection:"Font Family"}),e.FE.PLUGINS.fontFamily=function(t){function n(e){t.format.applyStyle("font-family",e)}function r(e,t){t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find('.fr-command[data-param1="'+a()+'"]').addClass("fr-active").attr("aria-selected",!0);var n=t.find(".fr-dropdown-list"),r=t.find(".fr-active").parent();r.length?n.parent().scrollTop(r.offset().top-n.offset().top-(n.parent().outerHeight()/2-r.outerHeight()/2)):n.parent().scrollTop(0)}function i(t){var n=t.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'| /g,"").split(",");return e.grep(n,function(e){return e.length>0})}function o(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)if(e[n]==t[r])return[n,r];return null}function a(){var n=e(t.selection.element()).css("font-family"),r=i(n),a=[];for(var s in t.opts.fontFamily)if(t.opts.fontFamily.hasOwnProperty(s)){var l=i(s),u=o(r,l);u&&a.push([s,u])}return 0===a.length?null:(a.sort(function(e,t){var n=e[1][0]-t[1][0];return 0===n?e[1][1]-t[1][1]:n}),a[0][0])}function s(n){if(t.opts.fontFamilySelection){var r=e(t.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'|/g,"").split(",");n.find("> span").text(t.opts.fontFamily[a()]||r[0]||t.opts.fontFamilyDefaultSelection)}}return{apply:n,refreshOnShow:r,refresh:s}},e.FE.RegisterCommand("fontFamily",{type:"dropdown",displaySelection:function(e){return e.opts.fontFamilySelection},defaultSelection:function(e){return e.opts.fontFamilyDefaultSelection},displaySelectionWidth:120,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.fontFamily;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontFamily" data-param1="'+n+'" style="font-family: '+n+'" title="'+t[n]+'">'+t[n]+"</a></li>");return e+="</ul>"},title:"Font Family",callback:function(e,t){this.fontFamily.apply(t)},refresh:function(e){this.fontFamily.refresh(e)},refreshOnShow:function(e,t){this.fontFamily.refreshOnShow(e,t)},plugin:"fontFamily"}),e.FE.DefineIcon("fontFamily",{NAME:"font"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"12"}),e.FE.PLUGINS.fontSize=function(t){function n(e){t.format.applyStyle("font-size",e)}function r(n,r){var i=e(t.selection.element()).css("font-size");r.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),r.find('.fr-command[data-param1="'+i+'"]').addClass("fr-active").attr("aria-selected",!0);var o=r.find(".fr-dropdown-list"),a=r.find(".fr-active").parent();a.length?o.parent().scrollTop(a.offset().top-o.offset().top-(o.parent().outerHeight()/2-a.outerHeight()/2)):o.parent().scrollTop(0)}function i(n){if(t.opts.fontSizeSelection){var r=t.helpers.getPX(e(t.selection.element()).css("font-size"));n.find("> span").text(r)}}return{apply:n,refreshOnShow:r,refresh:i}},e.FE.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(e){return e.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(e){return e.opts.fontSizeDefaultSelection},html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.fontSize,n=0;n<t.length;n++){var r=t[n];e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontSize" data-param1="'+r+'px" title="'+r+'">'+r+"</a></li>"}return e+="</ul>"},callback:function(e,t){this.fontSize.apply(t)},refresh:function(e){this.fontSize.refresh(e)},refreshOnShow:function(e,t){this.fontSize.refreshOnShow(e,t)},plugin:"fontSize"}),e.FE.DefineIcon("fontSize",{NAME:"text-height"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.FE.PLUGINS.fullscreen=function(t){function n(){return t.$box.hasClass("fr-fullscreen")}function r(){l=t.helpers.scrollTop(),t.$box.toggleClass("fr-fullscreen"),e("body").toggleClass("fr-fullscreen"),u=e('<div style="display: none;"></div>'),t.$box.after(u),t.helpers.isMobile()&&(t.$tb.data("parent",t.$tb.parent()),t.$tb.prependTo(t.$box),t.$tb.data("sticky-dummy")&&t.$tb.after(t.$tb.data("sticky-dummy"))),c=t.opts.height,f=t.opts.heightMax,d=t.opts.zIndex,t.opts.height=t.o_win.innerHeight-(t.opts.toolbarInline?0:t.$tb.outerHeight()),t.opts.zIndex=9990,t.opts.heightMax=null,t.size.refresh(),t.opts.toolbarInline&&t.toolbar.showInline();for(var n=t.$box.parent();!n.is("body");)n.data("z-index",n.css("z-index")).css("z-index","9990"),n=n.parent();t.events.trigger("charCounter.update"),t.$win.trigger("scroll")}function i(){t.$box.toggleClass("fr-fullscreen"),e("body").toggleClass("fr-fullscreen"),t.$tb.prependTo(t.$tb.data("parent")),t.$tb.data("sticky-dummy")&&t.$tb.after(t.$tb.data("sticky-dummy")),t.opts.height=c,t.opts.heightMax=f,t.opts.zIndex=d,t.size.refresh(),e(t.o_win).scrollTop(l),t.opts.toolbarInline&&t.toolbar.showInline(),t.events.trigger("charCounter.update"),t.opts.toolbarSticky&&t.opts.toolbarStickyOffset&&(t.opts.toolbarBottom?t.$tb.css("bottom",t.opts.toolbarStickyOffset).data("bottom",t.opts.toolbarStickyOffset):t.$tb.css("top",t.opts.toolbarStickyOffset).data("top",t.opts.toolbarStickyOffset));for(var n=t.$box.parent();!n.is("body");)n.data("z-index")&&(n.css("z-index",""),n.css("z-index")!=n.data("z-index")&&n.css("z-index",n.data("z-index")),n.removeData("z-index")),n=n.parent();t.$win.trigger("scroll")}function o(){n()?i():r(),a(t.$tb.find('.fr-command[data-cmd="fullscreen"]'))}function a(e){var r=n();e.toggleClass("fr-active",r).attr("aria-pressed",r),e.find("> *:not(.fr-sr-only)").replaceWith(r?t.icon.create("fullscreenCompress"):t.icon.create("fullscreen"))}function s(){return!!t.$wp&&(t.events.$on(e(t.o_win),"resize",function(){n()&&(i(),r())}),void t.events.on("toolbar.hide",function(){if(n()&&t.helpers.isMobile())return!1}))}var l,u,c,f,d;return{_init:s,toggle:o,refresh:a,isActive:n}},e.FE.RegisterCommand("fullscreen",{title:"Fullscreen",undo:!1,focus:!1,accessibilityFocus:!0,forcedRefresh:!0,toggle:!0,callback:function(){this.fullscreen.toggle()},refresh:function(e){this.fullscreen.refresh(e)},plugin:"fullscreen"}),e.FE.DefineIcon("fullscreen",{NAME:"expand"}),e.FE.DefineIcon("fullscreenCompress",{NAME:"compress"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.POPUP_TEMPLATES,{"image.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),e.extend(e.FE.DEFAULTS,{imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],imageEditButtons:["imageReplace","imageAlign","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUploadURL:"https://i.froala.com/upload",imageUploadParam:"file",imageUploadParams:{},imageUploadToS3:!1,imageUploadMethod:"POST",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif","svg+xml"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"ft-rounded":"Rounded","fr-bordered":"Bordered"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1,imageDefaultMargin:5}),e.FE.PLUGINS.image=function(t){function n(){var e=t.popups.get("image.insert"),n=e.find(".fr-image-by-url-layer input");n.val(""),xe&&n.val(xe.attr("src")),n.trigger("change")}function r(){var e=t.$tb.find('.fr-command[data-cmd="insertImage"]'),n=t.popups.get("image.insert");if(n||(n=P()),b(),!n.hasClass("fr-active"))if(t.popups.refresh("image.insert"),t.popups.setContainer("image.insert",t.$tb),e.is(":visible")){var r=e.offset().left+e.outerWidth()/2,i=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("image.insert",r,i,e.outerHeight())}else t.position.forSelection(n),t.popups.show("image.insert")}function i(){var e=t.popups.get("image.edit");if(e||(e=m()),e){t.popups.setContainer("image.edit",t.$sc),t.popups.refresh("image.edit");var n=xe.offset().left+xe.outerWidth()/2,r=xe.offset().top+xe.outerHeight();t.popups.show("image.edit",n,r,xe.outerHeight())}}function o(){b()}function a(e){e.hasClass("fr-dii")||e.hasClass("fr-dib")||(e.addClass("fr-fi"+de(e)[0]),e.addClass("fr-di"+pe(e)[0]),e.css("margin",""),e.css("float",""),e.css("display",""),e.css("z-index",""),e.css("position",""),e.css("overflow",""),e.css("vertical-align",""))}function s(e){var t=e.hasClass("fr-dib")?"block":e.hasClass("fr-dii")?"inline":null,n=e.hasClass("fr-fil")?"left":e.hasClass("fr-fir")?"right":de(e);ce(e,t,n),e.removeClass("fr-dib fr-dii fr-fir fr-fil")}function l(){for(var n="IMG"==t.el.tagName?[t.el]:t.el.querySelectorAll("img"),r=0;r<n.length;r++){var i=e(n[r]);!t.opts.htmlUntouched&&t.opts.useClasses?((t.opts.imageEditButtons.indexOf("imageAlign")>=0||t.opts.imageEditButtons.indexOf("imageDisplay")>=0)&&a(i),t.opts.imageTextNear||i.removeClass("fr-dii").addClass("fr-dib")):t.opts.htmlUntouched||t.opts.useClasses||(t.opts.imageEditButtons.indexOf("imageAlign")>=0||t.opts.imageEditButtons.indexOf("imageDisplay")>=0)&&s(i),t.opts.iframe&&i.on("load",t.size.syncIframe)}}function u(){var n,r=Array.prototype.slice.call(t.el.querySelectorAll("img")),i=[];for(n=0;n<r.length;n++)i.push(r[n].getAttribute("src")),e(r[n]).toggleClass("fr-draggable",t.opts.imageMove),""===r[n].getAttribute("class")&&r[n].removeAttribute("class"),""===r[n].getAttribute("style")&&r[n].removeAttribute("style");if(Fe)for(n=0;n<Fe.length;n++)i.indexOf(Fe[n].getAttribute("src"))<0&&t.events.trigger("image.removed",[e(Fe[n])]);Fe=r}function c(){Ce||Q();var e=t.$wp||t.$sc;e.append(Ce),Ce.data("instance",t);var n=e.scrollTop()-("static"!=e.css("position")?e.offset().top:0),r=e.scrollLeft()-("static"!=e.css("position")?e.offset().left:0);r-=t.helpers.getPX(e.css("border-left-width")),n-=t.helpers.getPX(e.css("border-top-width")),t.$el.is("img")&&(n=0,r=0),Ce.css("top",(t.opts.iframe?xe.offset().top:xe.offset().top+n)-1).css("left",(t.opts.iframe?xe.offset().left:xe.offset().left+r)-1).css("width",xe.get(0).getBoundingClientRect().width).css("height",xe.get(0).getBoundingClientRect().height).addClass("fr-active");
}function f(e){return'<div class="fr-handler fr-h'+e+'"></div>'}function d(n){if(!t.core.sameInstance(Ce))return!0;if(n.preventDefault(),n.stopPropagation(),t.$el.find("img.fr-error").left)return!1;t.undo.canDo()||t.undo.saveStep(),Se=e(this),Se.data("start-x",n.pageX||n.originalEvent.touches[0].pageX),Se.data("start-width",xe.width()),Se.data("start-height",xe.height());var r=xe.width();if(t.opts.imageResizeWithPercent){var i=xe.parentsUntil(t.$el,t.html.blockTagsQuery()).get(0)||t.el;xe.css("width",(r/e(i).outerWidth()*100).toFixed(2)+"%")}else xe.css("width",r);_e.show(),t.popups.hideAll(),le()}function p(n){if(!t.core.sameInstance(Ce))return!0;if(Se&&xe){if(n.preventDefault(),t.$el.find("img.fr-error").left)return!1;var r=n.pageX||(n.originalEvent.touches?n.originalEvent.touches[0].pageX:null);if(!r)return!1;var i=Se.data("start-x"),o=r-i,a=Se.data("start-width");if((Se.hasClass("fr-hnw")||Se.hasClass("fr-hsw"))&&(o=0-o),t.opts.imageResizeWithPercent){var s=xe.parentsUntil(t.$el,t.html.blockTagsQuery()).get(0)||t.el;a=((a+o)/e(s).outerWidth()*100).toFixed(2),t.opts.imageRoundPercent&&(a=Math.round(a)),xe.css("width",a+"%"),xe.css("height","").removeAttr("height")}else a+o>=t.opts.imageMinWidth&&xe.css("width",a+o),xe.css("height",Se.data("start-height")*xe.width()/Se.data("start-width"));c(),t.events.trigger("image.resize",[$e()])}}function h(e){if(!t.core.sameInstance(Ce))return!0;if(Se&&xe){if(e&&e.stopPropagation(),t.$el.find("img.fr-error").left)return!1;Se=null,_e.hide(),c(),i(),t.undo.saveStep(),t.events.trigger("image.resizeEnd",[$e()])}}function g(e,n){t.edit.on(),xe&&xe.addClass("fr-error"),E(t.language.translate("Something went wrong. Please try again.")),t.events.trigger("image.error",[{code:e,message:Ie[e]},n])}function m(e){if(e)return t.$wp&&t.events.$on(t.$wp,"scroll",function(){xe&&t.popups.isVisible("image.edit")&&(t.events.disableBlur(),w(xe))}),!0;var n="";if(t.opts.imageEditButtons.length>0){n+='<div class="fr-buttons">',n+=t.button.buildList(t.opts.imageEditButtons),n+="</div>";var r={buttons:n},i=t.popups.create("image.edit",r);return i}return!1}function v(e){var n=t.popups.get("image.insert");if(n||(n=P()),n.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),n.find(".fr-image-progress-bar-layer").addClass("fr-active"),n.find(".fr-buttons").hide(),xe){t.popups.setContainer("image.insert",t.$sc);var r=xe.offset().left+xe.width()/2,i=xe.offset().top+xe.height();t.popups.show("image.insert",r,i,xe.outerHeight())}"undefined"==typeof e&&y("Uploading",0)}function b(e){var n=t.popups.get("image.insert");if(n&&(n.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),n.find(".fr-image-progress-bar-layer").removeClass("fr-active"),n.find(".fr-buttons").show(),e||t.$el.find("img.fr-error").length)){if(t.events.focus(),t.$el.find("img.fr-error").length&&(t.$el.find("img.fr-error").remove(),t.undo.saveStep(),t.undo.run(),t.undo.dropRedo()),!t.$wp&&xe){var r=xe;ae(!0),t.selection.setAfter(r.get(0)),t.selection.restore()}t.popups.hide("image.insert")}}function y(e,n){var r=t.popups.get("image.insert");if(r){var i=r.find(".fr-image-progress-bar-layer");i.find("h3").text(e+(n?" "+n+"%":"")),i.removeClass("fr-error"),n?(i.find("div").removeClass("fr-indeterminate"),i.find("div > span").css("width",n+"%")):i.find("div").addClass("fr-indeterminate")}}function E(e){v();var n=t.popups.get("image.insert"),r=n.find(".fr-image-progress-bar-layer");r.addClass("fr-error");var i=r.find("h3");i.text(e),t.events.disableBlur(),i.focus()}function $(){var e=t.popups.get("image.insert"),n=e.find(".fr-image-by-url-layer input");n.val().length>0&&(v(),y("Loading image"),C(n.val(),!0,[],xe),n.val(""),n.blur())}function w(e){oe.call(e.get(0))}function x(){var n=e(this);t.popups.hide("image.insert"),n.removeClass("fr-uploading"),n.next().is("br")&&n.next().remove(),w(n),t.events.trigger("image.loaded",[n])}function C(e,n,r,i,o){t.edit.off(),y("Loading image"),n&&(e=t.helpers.sanitizeURL(e));var a=new Image;a.onload=function(){var n,a;if(i){t.undo.canDo()||i.hasClass("fr-uploading")||t.undo.saveStep();var s=i.data("fr-old-src");t.$wp?(n=i.clone().removeData("fr-old-src").removeClass("fr-uploading"),n.off("load"),s&&i.attr("src",s),i.replaceWith(n)):n=i;for(var l=n.get(0).attributes,c=0;c<l.length;c++){var f=l[c];0===f.nodeName.indexOf("data-")&&n.removeAttr(f.nodeName)}if("undefined"!=typeof r)for(a in r)r.hasOwnProperty(a)&&"link"!=a&&n.attr("data-"+a,r[a]);n.on("load",x),n.attr("src",e),t.edit.on(),u(),t.undo.saveStep(),t.$el.blur(),t.events.trigger(s?"image.replaced":"image.inserted",[n,o])}else n=k(e,r,x),u(),t.undo.saveStep(),t.events.trigger("image.inserted",[n,o])},a.onerror=function(){g(Ae)},v("Loading image"),a.src=e}function S(n){try{if(t.events.trigger("image.uploaded",[n],!0)===!1)return t.edit.on(),!1;var r=e.parseJSON(n);return r.link?r:(g(Oe,n),!1)}catch(i){return g(Ne,n),!1}}function _(n){try{var r=e(n).find("Location").text(),i=e(n).find("Key").text();return t.events.trigger("image.uploadedToS3",[r,i,n],!0)===!1?(t.edit.on(),!1):r}catch(o){return g(Ne,n),!1}}function T(e){y("Loading image");var n=this.status,r=this.response,i=this.responseXML,o=this.responseText;try{if(t.opts.imageUploadToS3)if(201==n){var a=_(i);a&&C(a,!1,[],e,r||i)}else g(Ne,r||i);else if(n>=200&&n<300){var s=S(o);s&&C(s.link,!1,s,e,r||o)}else g(ke,r||o)}catch(l){g(Ne,r||o)}}function A(){g(Ne,this.response||this.responseText||this.responseXML)}function O(e){if(e.lengthComputable){var t=e.loaded/e.total*100|0;y("Uploading",t)}}function k(n,r,i){var o,a="";if(r&&"undefined"!=typeof r)for(o in r)r.hasOwnProperty(o)&&"link"!=o&&(a+=" data-"+o+'="'+r[o]+'"');var s=t.opts.imageDefaultWidth;s&&"auto"!=s&&(s+=t.opts.imageResizeWithPercent?"%":"px");var l=e('<img src="'+n+'"'+a+(s?' style="width: '+s+';"':"")+">");ce(l,t.opts.imageDefaultDisplay,t.opts.imageDefaultAlign),l.on("load",i),t.edit.on(),t.events.focus(!0),t.selection.restore(),t.undo.saveStep(),t.opts.imageSplitHTML?t.markers.split():t.markers.insert();var u=t.$el.find(".fr-marker");return u.replaceWith(l),t.html.wrap(),t.selection.clear(),l}function N(){t.edit.on(),b(!0)}function D(n,r,i){function o(){var i=e(this);i.off("load"),i.addClass("fr-uploading"),i.next().is("br")&&i.next().remove(),t.placeholder.refresh(),i.is(xe)||w(i),c(),v(),t.edit.off(),n.onload=function(){T.call(n,i)},n.onerror=A,n.upload.onprogress=O,n.onabort=N,i.off("abortUpload").on("abortUpload",function(){4!=n.readyState&&n.abort()}),n.send(r)}var a,s=new FileReader;s.addEventListener("load",function(){var e=s.result;if(s.result.indexOf("svg+xml")<0){for(var n=atob(s.result.split(",")[1]),r=[],i=0;i<n.length;i++)r.push(n.charCodeAt(i));e=window.URL.createObjectURL(new Blob([new Uint8Array(r)],{type:"image/jpeg"}))}xe?(xe.on("load",o),t.edit.on(),t.undo.saveStep(),xe.data("fr-old-src",xe.attr("src")),xe.attr("src",e)):a=k(e,null,o)},!1),s.readAsDataURL(i)}function R(e){if("undefined"!=typeof e&&e.length>0){if(t.events.trigger("image.beforeUpload",[e])===!1)return!1;var n=e[0];if(n.size>t.opts.imageMaxSize)return g(De),!1;if(t.opts.imageAllowedTypes.indexOf(n.type.replace(/image\//g,""))<0)return g(Re),!1;var r;if(t.drag_support.formdata&&(r=t.drag_support.formdata?new FormData:null),r){var i;if(t.opts.imageUploadToS3!==!1){r.append("key",t.opts.imageUploadToS3.keyStart+(new Date).getTime()+"-"+(n.name||"untitled")),r.append("success_action_status","201"),r.append("X-Requested-With","xhr"),r.append("Content-Type",n.type);for(i in t.opts.imageUploadToS3.params)t.opts.imageUploadToS3.params.hasOwnProperty(i)&&r.append(i,t.opts.imageUploadToS3.params[i])}for(i in t.opts.imageUploadParams)t.opts.imageUploadParams.hasOwnProperty(i)&&r.append(i,t.opts.imageUploadParams[i]);r.append(t.opts.imageUploadParam,n);var o=t.opts.imageUploadURL;t.opts.imageUploadToS3&&(o=t.opts.imageUploadToS3.uploadURL?t.opts.imageUploadToS3.uploadURL:"https://"+t.opts.imageUploadToS3.region+".amazonaws.com/"+t.opts.imageUploadToS3.bucket);var a=t.core.getXHR(o,t.opts.imageUploadMethod);D(a,r,n)}}}function M(n){t.events.$on(n,"dragover dragenter",".fr-image-upload-layer",function(){return e(this).addClass("fr-drop"),!1}),t.events.$on(n,"dragleave dragend",".fr-image-upload-layer",function(){return e(this).removeClass("fr-drop"),!1}),t.events.$on(n,"drop",".fr-image-upload-layer",function(r){r.preventDefault(),r.stopPropagation(),e(this).removeClass("fr-drop");var i=r.originalEvent.dataTransfer;if(i&&i.files){var o=n.data("instance")||t;o.events.disableBlur(),o.image.upload(i.files),o.events.enableBlur()}}),t.events.$on(n,"change",'.fr-image-upload-layer input[type="file"]',function(){if(this.files){var r=n.data("instance")||t;r.events.disableBlur(),n.find("input:focus").blur(),r.events.enableBlur(),r.image.upload(this.files)}e(this).val("")})}function I(n){var r=n.originalEvent.dataTransfer;if(r&&r.files&&r.files.length){var i=r.files[0];if(i&&i.type&&t.opts.imageAllowedTypes.indexOf(i.type.replace(/image\//g,""))>=0){t.markers.remove(),t.markers.insertAtPoint(n.originalEvent),t.$el.find(".fr-marker").replaceWith(e.FE.MARKERS),t.popups.hideAll();var o=t.popups.get("image.insert");return o||(o=P()),t.popups.setContainer("image.insert",t.$sc),t.popups.show("image.insert",n.originalEvent.pageX,n.originalEvent.pageY),v(),R(r.files),n.preventDefault(),n.stopPropagation(),!1}}}function F(){var n,r,i=t.selection.ranges(0);i.collapsed&&i.startContainer.nodeType==Node.ELEMENT_NODE&&(i.startContainer.childNodes.length==i.startOffset?(n=i.startContainer.childNodes[i.startOffset-1],n&&"IMG"==n.tagName&&"block"==e(n).css("display")&&(r=t.node.blockParent(n),r&&t.html.defaultTag()?r.nextSibling||(["TD","TH"].indexOf(r.tagName)<0?e(r).after("<"+t.html.defaultTag()+"><br>"+e.FE.MARKERS+"</"+t.html.defaultTag()+">"):e(n).after("<br>"+e.FE.MARKERS),t.selection.restore()):r||(e(n).after("<br>"+e.FE.MARKERS),t.selection.restore()))):0===i.startOffset&&i.startContainer.childNodes.length>i.startOffset&&(n=i.startContainer.childNodes[i.startOffset],n&&"IMG"==n.tagName&&"block"==e(n).css("display")&&(r=t.node.blockParent(n),r&&t.html.defaultTag()?r.previousSibling||(["TD","TH"].indexOf(r.tagName)<0?e(r).before("<"+t.html.defaultTag()+"><br>"+e.FE.MARKERS+"</"+t.html.defaultTag()+">"):e(n).before("<br>"+e.FE.MARKERS),t.selection.restore()):r||(e(n).before(e.FE.MARKERS+"<br>"),t.selection.restore()))))}function L(){t.events.$on(t.$el,t._mousedown,"IMG"==t.el.tagName?null:'img:not([contenteditable="false"])',function(n){return"false"==e(this).parents("[contenteditable]:not(.fr-element):not(body):first").attr("contenteditable")||(t.helpers.isMobile()||t.selection.clear(),Te=!0,t.popups.areVisible()&&t.events.disableBlur(),t.browser.msie&&(t.events.disableBlur(),t.$el.attr("contenteditable",!1)),t.draggable||n.preventDefault(),void n.stopPropagation())}),t.events.$on(t.$el,t._mouseup,"IMG"==t.el.tagName?null:'img:not([contenteditable="false"])',function(n){return"false"==e(this).parents("[contenteditable]:not(.fr-element):not(body):first").attr("contenteditable")||void(Te&&(Te=!1,n.stopPropagation(),t.browser.msie&&(t.$el.attr("contenteditable",!0),t.events.enableBlur())))}),t.events.on("keyup",function(n){if(n.shiftKey&&""===t.selection.text().replace(/\n/g,"")){var r=t.selection.element(),i=t.selection.endElement();r&&"IMG"==r.tagName?w(e(r)):i&&"IMG"==i.tagName&&w(e(i))}},!0),t.events.on("drop",I),t.events.on("mousedown window.mousedown",se),t.events.on("window.touchmove",le),t.events.on("mouseup window.mouseup",function(){return xe?(ae(),!1):void le()}),t.events.on("commands.mousedown",function(e){e.parents(".fr-toolbar").length>0&&ae()}),t.browser.edge||t.events.on("mouseup",F),t.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){Te=!1,ae(!0)})}function P(e){if(e)return t.popups.onRefresh("image.insert",n),t.popups.onHide("image.insert",o),!0;var r,i="";t.opts.imageInsertButtons.length>1&&(i='<div class="fr-buttons">'+t.button.buildList(t.opts.imageInsertButtons)+"</div>");var a=t.opts.imageInsertButtons.indexOf("imageUpload"),s=t.opts.imageInsertButtons.indexOf("imageByURL"),l="";a>=0&&(r=" fr-active",s>=0&&a>s&&(r=""),l='<div class="fr-image-upload-layer'+r+' fr-layer" id="fr-image-upload-layer-'+t.id+'"><strong>'+t.language.translate("Drop image")+"</strong><br>("+t.language.translate("or click")+')<div class="fr-form"><input type="file" accept="image/'+t.opts.imageAllowedTypes.join(", image/").toLowerCase()+'" tabIndex="-1" aria-labelledby="fr-image-upload-layer-'+t.id+'" role="button"></div></div>');var u="";s>=0&&(r=" fr-active",a>=0&&s>a&&(r=""),u='<div class="fr-image-by-url-layer'+r+' fr-layer" id="fr-image-by-url-layer-'+t.id+'"><div class="fr-input-line"><input id="fr-image-by-url-layer-text-'+t.id+'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2" role="button">'+t.language.translate("Insert")+"</button></div></div>");var c='<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>',f={buttons:i,upload_layer:l,by_url_layer:u,progress_bar:c},d=t.popups.create("image.insert",f);return t.$wp&&t.events.$on(t.$wp,"scroll",function(){xe&&t.popups.isVisible("image.insert")&&be()}),M(d),d}function B(){if(xe){var e=t.popups.get("image.alt");e.find("input").val(xe.attr("alt")||"").trigger("change")}}function j(){var e=t.popups.get("image.alt");e||(e=U()),b(),t.popups.refresh("image.alt"),t.popups.setContainer("image.alt",t.$sc);var n=xe.offset().left+xe.width()/2,r=xe.offset().top+xe.height();t.popups.show("image.alt",n,r,xe.outerHeight())}function U(e){if(e)return t.popups.onRefresh("image.alt",B),!0;var n="";n='<div class="fr-buttons">'+t.button.buildList(t.opts.imageAltButtons)+"</div>";var r="";r='<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'+t.id+'"><div class="fr-input-line"><input id="fr-image-alt-layer-text-'+t.id+'" type="text" placeholder="'+t.language.translate("Alternate Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">'+t.language.translate("Update")+"</button></div></div>";var i={buttons:n,alt_layer:r},o=t.popups.create("image.alt",i);return t.$wp&&t.events.$on(t.$wp,"scroll.image-alt",function(){xe&&t.popups.isVisible("image.alt")&&j()}),o}function K(e){if(xe){var n=t.popups.get("image.alt");xe.attr("alt",e||n.find("input").val()||""),n.find("input:focus").blur(),w(xe)}}function H(){if(xe){var e=t.popups.get("image.size");e.find('input[name="width"]').val(xe.get(0).style.width).trigger("change"),e.find('input[name="height"]').val(xe.get(0).style.height).trigger("change")}}function q(){var e=t.popups.get("image.size");e||(e=V()),b(),t.popups.refresh("image.size"),t.popups.setContainer("image.size",t.$sc);var n=xe.offset().left+xe.width()/2,r=xe.offset().top+xe.height();t.popups.show("image.size",n,r,xe.outerHeight())}function V(e){if(e)return t.popups.onRefresh("image.size",H),!0;var n="";n='<div class="fr-buttons">'+t.button.buildList(t.opts.imageSizeButtons)+"</div>";var r="";r='<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'+t.id+'"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-'+t.id+'" type="text" name="width" placeholder="'+t.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height'+t.id+'" type="text" name="height" placeholder="'+t.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">'+t.language.translate("Update")+"</button></div></div>";var i={buttons:n,size_layer:r},o=t.popups.create("image.size",i);return t.$wp&&t.events.$on(t.$wp,"scroll.image-size",function(){xe&&t.popups.isVisible("image.size")&&q()}),o}function z(e,n){if(xe){var r=t.popups.get("image.size");e=e||r.find('input[name="width"]').val()||"",n=n||r.find('input[name="height"]').val()||"";var i=/^[\d]+((px)|%)*$/g;e.match(i)&&xe.css("width",e),n.match(i)&&xe.css("height",n),r.find("input:focus").blur(),w(xe)}}function W(e){var n,r,i=t.popups.get("image.insert");if(xe||t.opts.toolbarInline)xe&&(r=xe.offset().top+xe.outerHeight());else{var o=t.$tb.find('.fr-command[data-cmd="insertImage"]');n=o.offset().left+o.outerWidth()/2,r=o.offset().top+(t.opts.toolbarBottom?10:o.outerHeight()-10)}!xe&&t.opts.toolbarInline&&(r=i.offset().top-t.helpers.getPX(i.css("margin-top")),i.hasClass("fr-above")&&(r+=i.outerHeight())),i.find(".fr-layer").removeClass("fr-active"),i.find(".fr-"+e+"-layer").addClass("fr-active"),t.popups.show("image.insert",n,r,xe?xe.outerHeight():0),t.accessibility.focusPopup(i)}function G(e){var n=t.popups.get("image.insert");n.find(".fr-image-upload-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)}function Y(e){var n=t.popups.get("image.insert");n.find(".fr-image-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)}function X(e,t,n,r){return e.pageX=t,d.call(this,e),e.pageX=e.pageX+n*Math.floor(Math.pow(1.1,r)),p.call(this,e),h.call(this,e),++r}function Q(){var n;if(t.shared.$image_resizer?(Ce=t.shared.$image_resizer,_e=t.shared.$img_overlay,t.events.on("destroy",function(){Ce.removeClass("fr-active").appendTo(e("body"))},!0)):(t.shared.$image_resizer=e('<div class="fr-image-resizer"></div>'),Ce=t.shared.$image_resizer,t.events.$on(Ce,"mousedown",function(e){e.stopPropagation()},!0),t.opts.imageResize&&(Ce.append(f("nw")+f("ne")+f("sw")+f("se")),t.shared.$img_overlay=e('<div class="fr-image-overlay"></div>'),_e=t.shared.$img_overlay,n=Ce.get(0).ownerDocument,e(n).find("body").append(_e))),t.events.on("shared.destroy",function(){Ce.html("").removeData().remove(),Ce=null,t.opts.imageResize&&(_e.remove(),_e=null)},!0),t.helpers.isMobile()||t.events.$on(e(t.o_win),"resize",function(){xe&&!xe.hasClass("fr-uploading")?ae(!0):xe&&(c(),be(),v(!1))}),t.opts.imageResize){n=Ce.get(0).ownerDocument,t.events.$on(Ce,t._mousedown,".fr-handler",d),t.events.$on(e(n),t._mousemove,p),t.events.$on(e(n.defaultView||n.parentWindow),t._mouseup,h),t.events.$on(_e,"mouseleave",h);var r=1,i=null,o=0;t.events.on("keydown",function(n){if(xe){var a=navigator.userAgent.indexOf("Mac OS X")!=-1?n.metaKey:n.ctrlKey,s=n.which;(s!==i||n.timeStamp-o>200)&&(r=1),(s==e.FE.KEYCODE.EQUALS||t.browser.mozilla&&s==e.FE.KEYCODE.FF_EQUALS)&&a&&!n.altKey?r=X.call(this,n,1,1,r):(s==e.FE.KEYCODE.HYPHEN||t.browser.mozilla&&s==e.FE.KEYCODE.FF_HYPHEN)&&a&&!n.altKey?r=X.call(this,n,2,-1,r):t.keys.ctrlKey(n)||s!=e.FE.KEYCODE.ENTER||(xe.before("<br>"),w(xe)),i=s,o=n.timeStamp}},!0),t.events.on("keyup",function(){r=1})}}function J(n){n=n||xe,n&&t.events.trigger("image.beforeRemove",[n])!==!1&&(t.popups.hideAll(),ye(),ae(!0),t.undo.canDo()||t.undo.saveStep(),n.get(0)==t.el?n.removeAttr("src"):("A"==n.get(0).parentNode.tagName?(t.selection.setBefore(n.get(0).parentNode)||t.selection.setAfter(n.get(0).parentNode)||n.parent().after(e.FE.MARKERS),e(n.get(0).parentNode).remove()):(t.selection.setBefore(n.get(0))||t.selection.setAfter(n.get(0))||n.after(e.FE.MARKERS),n.remove()),t.html.fillEmptyBlocks(),t.selection.restore()),t.undo.saveStep())}function Z(n){var r=n.which;if(xe&&(r==e.FE.KEYCODE.BACKSPACE||r==e.FE.KEYCODE.DELETE))return n.preventDefault(),n.stopPropagation(),J(),!1;if(xe&&r==e.FE.KEYCODE.ESC){var i=xe;return ae(!0),t.selection.setAfter(i.get(0)),t.selection.restore(),n.preventDefault(),!1}if(xe&&(r==e.FE.KEYCODE.ARROW_LEFT||r==e.FE.KEYCODE.ARROW_RIGHT)){var o=xe.get(0);return ae(!0),r==e.FE.KEYCODE.ARROW_LEFT?t.selection.setBefore(o):t.selection.setAfter(o),t.selection.restore(),n.preventDefault(),!1}return xe&&r!=e.FE.KEYCODE.F10&&!t.keys.isBrowserAction(n)?(n.preventDefault(),n.stopPropagation(),!1):void 0}function ee(e){if(e&&"IMG"==e.tagName)t.node.hasClass(e,"fr-uploading")||t.node.hasClass(e,"fr-error")?e.parentNode.removeChild(e):t.node.hasClass(e,"fr-draggable")&&e.classList.remove("fr-draggable");else if(e&&e.nodeType==Node.ELEMENT_NODE)for(var n=e.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"),r=0;r<n.length;r++)ee(n[r])}function te(){if(L(),"IMG"==t.el.tagName&&t.$el.addClass("fr-view"),t.events.$on(t.$el,t.helpers.isMobile()&&!t.helpers.isWindowsPhone()?"touchend":"click","IMG"==t.el.tagName?null:'img:not([contenteditable="false"])',oe),t.helpers.isMobile()&&(t.events.$on(t.$el,"touchstart","IMG"==t.el.tagName?null:'img:not([contenteditable="false"])',function(){Le=!1}),t.events.$on(t.$el,"touchmove",function(){Le=!0})),t.$wp?(t.events.on("window.keydown keydown",Z,!0),t.events.on("keyup",function(t){if(t.which==e.FE.KEYCODE.ENTER)return!1},!0)):t.events.$on(t.$win,"keydown",Z),t.events.on("toolbar.esc",function(){if(xe){if(t.$wp)t.events.disableBlur(),t.events.focus();else{var e=xe;ae(!0),t.selection.setAfter(e.get(0)),t.selection.restore()}return!1}},!0),t.events.on("toolbar.focusEditor",function(){if(xe)return!1},!0),t.events.on("window.cut window.copy",function(n){xe&&t.popups.isVisible("image.edit")&&!t.popups.get("image.edit").find(":focus").length&&(ye(),e.FE.copied_text="\n",e.FE.copied_html=xe.get(0).outerHTML,"copy"==n.type?setTimeout(function(){w(xe)}):(ae(!0),t.undo.saveStep(),setTimeout(function(){t.undo.saveStep()},0)))},!0),t.events.$on(e(t.o_win),"keydown",function(t){var n=t.which;if(xe&&n==e.FE.KEYCODE.BACKSPACE)return t.preventDefault(),!1}),t.events.$on(t.$win,"keydown",function(t){var n=t.which;xe&&xe.hasClass("fr-uploading")&&n==e.FE.KEYCODE.ESC&&xe.trigger("abortUpload")}),t.events.on("destroy",function(){xe&&xe.hasClass("fr-uploading")&&xe.trigger("abortUpload")}),t.events.on("paste.before",re),t.events.on("paste.beforeCleanup",ie),t.events.on("paste.after",ne),t.events.on("html.set",l),t.events.on("html.inserted",l),l(),t.events.on("destroy",function(){Fe=[]}),t.events.on("html.processGet",ee),t.opts.imageOutputSize){var n;t.events.on("html.beforeGet",function(){n=t.el.querySelectorAll("img");for(var r=0;r<n.length;r++){var i=n[r].style.width||e(n[r]).width(),o=n[r].style.height||e(n[r]).height();i&&n[r].setAttribute("width",(""+i).replace(/px/,"")),o&&n[r].setAttribute("height",(""+o).replace(/px/,""))}}),t.events.on("html.afterGet",function(){for(var e=0;e<n.length;e++)n[e].removeAttribute("width"),n[e].removeAttribute("height")})}t.opts.iframe&&t.events.on("image.loaded",t.size.syncIframe),t.$wp&&(u(),t.events.on("contentChanged",u)),t.events.$on(e(t.o_win),"orientationchange.image",function(){setTimeout(function(){xe&&w(xe)},100)}),m(!0),P(!0),V(!0),U(!0),t.events.on("node.remove",function(e){if("IMG"==e.get(0).tagName)return J(e),!1})}function ne(){t.opts.imagePaste?t.$el.find("img[data-fr-image-pasted]").each(function(n,r){if(t.opts.imagePasteProcess){var o=t.opts.imageDefaultWidth;o&&"auto"!=o&&(o+=t.opts.imageResizeWithPercent?"%":"px"),e(r).css("width",o),e(r).removeClass("fr-dii fr-dib fr-fir fr-fil").addClass((t.opts.imageDefaultDisplay?"fr-di"+t.opts.imageDefaultDisplay[0]:"")+(t.opts.imageDefaultAlign&&"center"!=t.opts.imageDefaultAlign?" fr-fi"+t.opts.imageDefaultAlign[0]:""))}if(0===r.src.indexOf("data:")){if(t.events.trigger("image.beforePasteUpload",[r])===!1)return!1;xe=e(r),c(),i(),be(),v(),t.edit.off();for(var a=atob(e(r).attr("src").split(",")[1]),s=[],l=0;l<a.length;l++)s.push(a.charCodeAt(l));var u=new Blob([new Uint8Array(s)],{type:"image/jpeg"});R([u]),e(r).removeAttr("data-fr-image-pasted")}else 0!==r.src.indexOf("http")||0===r.src.indexOf("https://mail.google.com/mail")?(t.selection.save(),e(r).remove(),t.selection.restore()):e(r).removeAttr("data-fr-image-pasted")}):t.$el.find("img[data-fr-image-pasted]").remove()}function re(e){if(e&&e.clipboardData&&e.clipboardData.items&&e.clipboardData.items[0]){var n=e.clipboardData.items[0].getAsFile();if(n){var r=new FileReader;return r.onload=function(e){var n=e.target.result,r=t.opts.imageDefaultWidth;r&&"auto"!=r&&(r+=t.opts.imageResizeWithPercent?"%":"px"),t.html.insert('<img data-fr-image-pasted="true" class="'+(t.opts.imageDefaultDisplay?"fr-di"+t.opts.imageDefaultDisplay[0]:"")+(t.opts.imageDefaultAlign&&"center"!=t.opts.imageDefaultAlign?" fr-fi"+t.opts.imageDefaultAlign[0]:"")+'" src="'+n+'"'+(r?' style="width: '+r+';"':"")+">"),t.events.trigger("paste.after")},r.readAsDataURL(n),!1}}}function ie(e){return e=e.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function oe(n){if("false"==e(this).parents("[contenteditable]:not(.fr-element):not(body):first").attr("contenteditable"))return!0;if(n&&"touchend"==n.type&&Le)return!0;if(n&&t.edit.isDisabled())return n.stopPropagation(),n.preventDefault(),!1;for(var r=0;r<e.FE.INSTANCES.length;r++)e.FE.INSTANCES[r]!=t&&e.FE.INSTANCES[r].events.trigger("image.hideResizer");t.toolbar.disable(),n&&(n.stopPropagation(),n.preventDefault()),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur()),t.opts.iframe&&t.size.syncIframe(),xe=e(this),ye(),c(),i(),t.selection.clear(),t.button.bulkRefresh(),t.events.trigger("video.hideResizer")}function ae(e){xe&&(ue()||e===!0)&&(t.toolbar.enable(),Ce.removeClass("fr-active"),t.popups.hide("image.edit"),xe=null,le())}function se(){Pe=!0}function le(){Pe=!1}function ue(){return Pe}function ce(e,n,r){!t.opts.htmlUntouched&&t.opts.useClasses?(e.removeClass("fr-fil fr-fir fr-dib fr-dii"),e.addClass("fr-fi"+r[0]+" fr-di"+n[0])):"inline"==n?(e.css({display:"inline-block",verticalAlign:"bottom",margin:t.opts.imageDefaultMargin}),"center"==r?e.css({"float":"none",marginBottom:"",marginTop:"",maxWidth:"calc(100% - "+2*t.opts.imageDefaultMargin+"px)"}):"left"==r?e.css({"float":"left",marginLeft:0,maxWidth:"calc(100% - "+t.opts.imageDefaultMargin+"px)"}):e.css({"float":"right",marginRight:0,maxWidth:"calc(100% - "+t.opts.imageDefaultMargin+"px)"})):"block"==n&&(e.css({display:"block","float":"none",verticalAlign:"top",margin:t.opts.imageDefaultMargin+"px auto"}),"left"==r?e.css({marginLeft:0}):"right"==r&&e.css({marginRight:0}))}function fe(e){xe.removeClass("fr-fir fr-fil"),!t.opts.htmlUntouched&&t.opts.useClasses?"left"==e?xe.addClass("fr-fil"):"right"==e&&xe.addClass("fr-fir"):ce(xe,pe(),e),c(),i()}function de(e){if("undefined"==typeof e&&(e=xe),e){if(e.hasClass("fr-fil"))return"left";if(e.hasClass("fr-fir"))return"right";if(e.hasClass("fr-dib")||e.hasClass("fr-dii"))return"center";var t=e.css("float");if(e.css("float","none"),"block"==e.css("display")){if(e.css("float",""),e.css("float")!=t&&e.css("float",t),0===parseInt(e.css("margin-left"),10))return"left";if(0===parseInt(e.css("margin-right"),10))return"right"}else{if(e.css("float",""),e.css("float")!=t&&e.css("float",t),"left"==e.css("float"))return"left";if("right"==e.css("float"))return"right"}}return"center"}function pe(e){"undefined"==typeof e&&(e=xe);var t=e.css("float");return e.css("float","none"),"block"==e.css("display")?(e.css("float",""),e.css("float")!=t&&e.css("float",t),"block"):(e.css("float",""),e.css("float")!=t&&e.css("float",t),"inline")}function he(e){xe&&e.find("> *:first").replaceWith(t.icon.create("image-align-"+de()))}function ge(e,t){xe&&t.find('.fr-command[data-param1="'+de()+'"]').addClass("fr-active").attr("aria-selected",!0)}function me(e){xe.removeClass("fr-dii fr-dib"),!t.opts.htmlUntouched&&t.opts.useClasses?"inline"==e?xe.addClass("fr-dii"):"block"==e&&xe.addClass("fr-dib"):ce(xe,e,de()),c(),i()}function ve(e,t){xe&&t.find('.fr-command[data-param1="'+pe()+'"]').addClass("fr-active").attr("aria-selected",!0)}function be(){var e=t.popups.get("image.insert");e||(e=P()),t.popups.isVisible("image.insert")||(b(),t.popups.refresh("image.insert"),t.popups.setContainer("image.insert",t.$sc));var n=xe.offset().left+xe.width()/2,r=xe.offset().top+xe.height();t.popups.show("image.insert",n,r,xe.outerHeight())}function ye(){if(xe){t.selection.clear();var e=t.doc.createRange();e.selectNode(xe.get(0));var n=t.selection.get();n.addRange(e)}}function Ee(){xe?(t.events.disableBlur(),e(".fr-popup input:focus").blur(),w(xe)):(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("image.insert"),t.toolbar.showInline())}function $e(){return xe}function we(e,n,r){if("undefined"==typeof n&&(n=t.opts.imageStyles),"undefined"==typeof r&&(r=t.opts.imageMultipleStyles),!xe)return!1;if(!r){var i=Object.keys(n);i.splice(i.indexOf(e),1),xe.removeClass(i.join(" "))}"object"==typeof n[e]?(xe.removeAttr("style"),xe.css(n[e].style)):xe.toggleClass(e),w(xe)}var xe,Ce,Se,_e,Te=!1,Ae=1,Oe=2,ke=3,Ne=4,De=5,Re=6,Me=7,Ie={};Ie[Ae]="Image cannot be loaded from the passed link.",Ie[Oe]="No link in upload response.",Ie[ke]="Error during file upload.",Ie[Ne]="Parsing response failed.",Ie[De]="File is too large.",Ie[Re]="Image file type is invalid.",Ie[Me]="Files can be uploaded only to same domain in IE 8 and IE 9.";var Fe,Le,Pe=!1;return{_init:te,showInsertPopup:r,showLayer:W,refreshUploadButton:G,refreshByURLButton:Y,upload:R,insertByURL:$,align:fe,refreshAlign:he,refreshAlignOnShow:ge,display:me,refreshDisplayOnShow:ve,replace:be,back:Ee,get:$e,insert:C,showProgressBar:v,remove:J,hideProgressBar:b,applyStyle:we,showAltPopup:j,showSizePopup:q,setAlt:K,setSize:z,exitEdit:ae,edit:w}},e.FE.DefineIcon("insertImage",{NAME:"image"}),e.FE.RegisterShortcut(e.FE.KEYCODE.P,"insertImage",null,"P"),e.FE.RegisterCommand("insertImage",{title:"Insert Image",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("image.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("image.insert")):this.image.showInsertPopup()},plugin:"image"}),e.FE.DefineIcon("imageUpload",{NAME:"upload"}),e.FE.RegisterCommand("imageUpload",{title:"Upload Image",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-upload")},refresh:function(e){this.image.refreshUploadButton(e)}}),e.FE.DefineIcon("imageByURL",{NAME:"link"}),e.FE.RegisterCommand("imageByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-by-url")},refresh:function(e){this.image.refreshByURLButton(e)}}),e.FE.RegisterCommand("imageInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.image.insertByURL()},refresh:function(e){var t=this.image.get();t?e.text(this.language.translate("Replace")):e.text(this.language.translate("Insert"))}}),e.FE.DefineIcon("imageDisplay",{NAME:"star"}),e.FE.RegisterCommand("imageDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.image.display(t)},refresh:function(e){this.opts.imageTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.image.refreshDisplayOnShow(e,t)}}),e.FE.DefineIcon("image-align",{NAME:"align-left"}),e.FE.DefineIcon("image-align-left",{NAME:"align-left"}),e.FE.DefineIcon("image-align-right",{NAME:"align-right"}),e.FE.DefineIcon("image-align-center",{NAME:"align-justify"}),e.FE.DefineIcon("imageAlign",{NAME:"align-justify"}),e.FE.RegisterCommand("imageAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.imageAlign.options;for(var r in n)n.hasOwnProperty(r)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="imageAlign" data-param1="'+r+'" title="'+this.language.translate(n[r])+'">'+this.icon.create("image-align-"+r)+'<span class="fr-sr-only">'+this.language.translate(n[r])+"</span></a></li>");return t+="</ul>";
},callback:function(e,t){this.image.align(t)},refresh:function(e){this.image.refreshAlign(e)},refreshOnShow:function(e,t){this.image.refreshAlignOnShow(e,t)}}),e.FE.DefineIcon("imageReplace",{NAME:"exchange"}),e.FE.RegisterCommand("imageReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.image.replace()}}),e.FE.DefineIcon("imageRemove",{NAME:"trash"}),e.FE.RegisterCommand("imageRemove",{title:"Remove",callback:function(){this.image.remove()}}),e.FE.DefineIcon("imageBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("imageBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.image.back()},refresh:function(e){var t=this.image.get();t||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("imageDismissError",{title:"OK",undo:!1,callback:function(){this.image.hideProgressBar(!0)}}),e.FE.DefineIcon("imageStyle",{NAME:"magic"}),e.FE.RegisterCommand("imageStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.imageStyles;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&(r=r.title),e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="imageStyle" data-param1="'+n+'">'+this.language.translate(r)+"</a></li>"}return e+="</ul>"},callback:function(e,t){this.image.applyStyle(t)},refreshOnShow:function(t,n){var r=this.image.get();r&&n.find(".fr-command").each(function(){var t=e(this).data("param1"),n=r.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}}),e.FE.DefineIcon("imageAlt",{NAME:"info"}),e.FE.RegisterCommand("imageAlt",{undo:!1,focus:!1,popup:!0,title:"Alternate Text",callback:function(){this.image.showAltPopup()}}),e.FE.RegisterCommand("imageSetAlt",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setAlt()}}),e.FE.DefineIcon("imageSize",{NAME:"arrows-alt"}),e.FE.RegisterCommand("imageSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.image.showSizePopup()}}),e.FE.RegisterCommand("imageSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setSize()}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){if(e.extend(e.FE.DEFAULTS,{imageManagerLoadURL:"https://i.froala.com/load-files",imageManagerLoadMethod:"get",imageManagerLoadParams:{},imageManagerPreloader:"",imageManagerDeleteURL:"",imageManagerDeleteMethod:"post",imageManagerDeleteParams:{},imageManagerPageSize:12,imageManagerScrollOffset:20,imageManagerToggleTags:!0}),e.FE.PLUGINS.imageManager=function(t){function n(){if(!C){var e='<div class="fr-modal-head-line"><i class="fa fa-bars fr-modal-more fr-not-available" id="fr-modal-more-'+t.sid+'" title="'+t.language.translate("Tags")+'"></i><h4 data-text="true">'+t.language.translate("Manage Images")+"</h4></div>";e+='<div class="fr-modal-tags" id="fr-modal-tags"></div>';var n='<img class="fr-preloader" id="fr-preloader" alt="'+t.language.translate("Loading")+'.." src="'+t.opts.imageManagerPreloader+'" style="display: none;">';n+='<div class="fr-image-list" id="fr-image-list"></div>';var r=t.modals.create(I,e,n);C=r.$modal,S=r.$head,_=r.$body}C.data("current-image",t.image.get()),t.modals.show(I),T||w(),a()}function r(){t.modals.hide(I)}function i(){var t=e(window).outerWidth();return t<768?2:t<1200?3:4}function o(){A.empty();for(var e=0;e<M;e++)A.append('<div class="fr-list-column"></div>')}function a(){T.show(),A.find(".fr-list-column").empty(),t.opts.imageManagerLoadURL?e.ajax({url:t.opts.imageManagerLoadURL,method:t.opts.imageManagerLoadMethod,data:t.opts.imageManagerLoadParams,dataType:"json",crossDomain:t.opts.requestWithCORS,xhrFields:{withCredentials:t.opts.requestWithCredentials},headers:t.opts.requestHeaders}).done(function(e,n,r){t.events.trigger("imageManager.imagesLoaded",[e]),s(e,r.response),T.hide()}).fail(function(){var e=this.xhr();v(L,e.response||e.responseText)}):v(P)}function s(e,t){try{A.find(".fr-list-column").empty(),N=0,D=0,R=0,k=e,l()}catch(n){v(B,t)}}function l(){if(D<k.length&&(A.outerHeight()<=_.outerHeight()+t.opts.imageManagerScrollOffset||_.scrollTop()+t.opts.imageManagerScrollOffset>A.outerHeight()-_.outerHeight())){N++;for(var e=t.opts.imageManagerPageSize*(N-1);e<Math.min(k.length,t.opts.imageManagerPageSize*N);e++)u(k[e])}}function u(n){var r=new Image,i=e('<div class="fr-image-container fr-empty fr-image-'+R++ +'" data-loading="'+t.language.translate("Loading")+'.." data-deleting="'+t.language.translate("Deleting")+'..">');p(!1),r.onload=function(){i.height(Math.floor(i.width()/r.width*r.height));var o=e("<img/>");if(n.thumb)o.attr("src",n.thumb);else{if(v(j,n),!n.url)return v(U,n),!1;o.attr("src",n.url)}if(n.url&&o.attr("data-url",n.url),n.tag)if(S.find(".fr-modal-more.fr-not-available").removeClass("fr-not-available"),S.find(".fr-modal-tags").show(),n.tag.indexOf(",")>=0){for(var a=n.tag.split(","),s=0;s<a.length;s++)a[s]=a[s].trim(),0===O.find('a[title="'+a[s]+'"]').length&&O.append('<a role="button" title="'+a[s]+'">'+a[s]+"</a>");o.attr("data-tag",a.join())}else 0===O.find('a[title="'+n.tag.trim()+'"]').length&&O.append('<a role="button" title="'+n.tag.trim()+'">'+n.tag.trim()+"</a>"),o.attr("data-tag",n.tag.trim());n.name&&o.attr("alt",n.name);for(var u in n)n.hasOwnProperty(u)&&"thumb"!=u&&"url"!=u&&"tag"!=u&&o.attr("data-"+u,n[u]);i.append(o).append(e(t.icon.create("imageManagerDelete")).addClass("fr-delete-img").attr("title",t.language.translate("Delete"))).append(e(t.icon.create("imageManagerInsert")).addClass("fr-insert-img").attr("title",t.language.translate("Insert"))),O.find(".fr-selected-tag").each(function(e,t){$(o,t.text)||i.hide()}),o.on("load",function(){i.removeClass("fr-empty"),i.height("auto"),D++;var e=f(parseInt(o.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1);d(e),p(!1),D%t.opts.imageManagerPageSize===0&&l()}),t.events.trigger("imageManager.imageLoaded",[o])},r.onerror=function(){D++,i.remove();var e=f(parseInt(i.attr("class").match(/fr-image-(\d+)/)[1],10)+1);d(e),v(F,n),D%t.opts.imageManagerPageSize===0&&l()},r.src=n.thumb||n.url,c().append(i)}function c(){var t,n;return A.find(".fr-list-column").each(function(r,i){var o=e(i);0===r?(n=o.outerHeight(),t=o):o.outerHeight()<n&&(n=o.outerHeight(),t=o)}),t}function f(t){void 0===t&&(t=0);for(var n=[],r=R-1;r>=t;r--){var i=A.find(".fr-image-"+r);i.length&&(n.push(i),e('<div id="fr-image-hidden-container">').append(i),A.find(".fr-image-"+r).remove())}return n}function d(e){for(var t=e.length-1;t>=0;t--)c().append(e[t])}function p(e){if(void 0===e&&(e=!0),!C.is(":visible"))return!0;var n=i();if(n!=M){M=n;var r=f();o(),d(r)}t.modals.resize(I),e&&l()}function h(e){var t={},n=e.data();for(var r in n)n.hasOwnProperty(r)&&"url"!=r&&"tag"!=r&&(t[r]=n[r]);return t}function g(n){var r=e(n.currentTarget).siblings("img"),i=C.data("instance")||t,o=C.data("current-image");if(t.modals.hide(I),i.image.showProgressBar(),o)o.data("fr-old-src",o.attr("src")),o.trigger("click");else{i.events.focus(!0),i.selection.restore();var a=i.position.getBoundingRect(),s=a.left+a.width/2+e(t.doc).scrollLeft(),l=a.top+a.height+e(t.doc).scrollTop();i.popups.setContainer("image.insert",t.$sc),i.popups.show("image.insert",s,l)}i.image.insert(r.data("url"),!1,h(r),o)}function m(n){var r=e(n.currentTarget).siblings("img"),i=t.language.translate("Are you sure? Image will be deleted.");confirm(i)&&(t.opts.imageManagerDeleteURL?t.events.trigger("imageManager.beforeDeleteImage",[r])!==!1&&(r.parent().addClass("fr-image-deleting"),e.ajax({method:t.opts.imageManagerDeleteMethod,url:t.opts.imageManagerDeleteURL,data:e.extend(e.extend({src:r.attr("src")},h(r)),t.opts.imageManagerDeleteParams),crossDomain:t.opts.requestWithCORS,xhrFields:{withCredentials:t.opts.requestWithCredentials},headers:t.opts.requestHeaders}).done(function(e){t.events.trigger("imageManager.imageDeleted",[e]);var n=f(parseInt(r.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1);r.parent().remove(),d(n),p(!0)}).fail(function(){var e=this.xhr();v(K,e.response||e.responseText)})):v(H))}function v(n,r){10<=n&&n<20?T.hide():20<=n&&n<30&&e(".fr-image-deleting").removeClass("fr-image-deleting"),t.events.trigger("imageManager.error",[{code:n,message:q[n]},r])}function b(){var e=S.find(".fr-modal-head-line").outerHeight(),t=O.outerHeight();S.toggleClass(".fr-show-tags"),S.hasClass(".fr-show-tags")?(S.css("height",e+t),O.find("a").css("opacity",1)):(S.css("height",e),O.find("a").css("opacity",0))}function y(){var t=O.find(".fr-selected-tag");t.length>0?(A.find("img").parent().show(),t.each(function(t,n){A.find("img").each(function(t,r){var i=e(r);$(i,n.text)||i.parent().hide()})})):A.find("img").parent().show();var n=f();d(n),l()}function E(n){n.preventDefault();var r=e(n.currentTarget);r.toggleClass("fr-selected-tag"),t.opts.imageManagerToggleTags&&r.siblings("a").removeClass("fr-selected-tag"),y()}function $(e,t){for(var n=e.attr("data-tag").split(","),r=0;r<n.length;r++)if(n[r]==t)return!0;return!1}function w(){T=C.find("#fr-preloader"),A=C.find("#fr-image-list"),O=C.find("#fr-modal-tags"),M=i(),o(),S.css("height",S.find(".fr-modal-head-line").outerHeight()),t.events.$on(e(t.o_win),"resize",function(){p(!!k)}),t.helpers.isMobile()&&(t.events.bindClick(A,"div.fr-image-container",function(t){C.find(".fr-mobile-selected").removeClass("fr-mobile-selected"),e(t.currentTarget).addClass("fr-mobile-selected")}),C.on(t._mousedown,function(){C.find(".fr-mobile-selected").removeClass("fr-mobile-selected")})),t.events.bindClick(A,".fr-insert-img",g),t.events.bindClick(A,".fr-delete-img",m),C.on(t._mousedown+" "+t._mouseup,function(e){e.stopPropagation()}),C.on(t._mousedown,"*",function(){t.events.disableBlur()}),_.on("scroll",l),t.events.bindClick(C,"i#fr-modal-more-"+t.sid,b),t.events.bindClick(O,"a",E)}function x(){if(!t.$wp&&"IMG"!=t.el.tagName)return!1}var C,S,_,T,A,O,k,N,D,R,M,I="image_manager",F=10,L=11,P=12,B=13,j=14,U=15,K=21,H=22,q={};return q[F]="Image cannot be loaded from the passed link.",q[L]="Error during load images request.",q[P]="Missing imageManagerLoadURL option.",q[B]="Parsing load response failed.",q[j]="Missing image thumb.",q[U]="Missing image URL.",q[K]="Error during delete image request.",q[H]="Missing imageManagerDeleteURL option.",{require:["image"],_init:x,show:n,hide:r}},!e.FE.PLUGINS.image)throw new Error("Image manager plugin requires image plugin.");e.FE.DEFAULTS.imageInsertButtons.push("imageManager"),e.FE.RegisterCommand("imageManager",{title:"Browse",undo:!1,focus:!1,modal:!0,callback:function(){this.imageManager.show()},plugin:"imageManager"}),e.FE.DefineIcon("imageManager",{NAME:"folder"}),e.FE.DefineIcon("imageManagerInsert",{NAME:"plus"}),e.FE.DefineIcon("imageManagerDelete",{NAME:"trash"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{inlineStyles:{"Big Red":"font-size: 20px; color: red;","Small Blue":"font-size: 14px; color: blue;"}}),e.FE.PLUGINS.inlineStyle=function(t){function n(n){""!==t.selection.text()?t.html.insert(e.FE.START_MARKER+'<span style="'+n+'">'+t.selection.text()+"</span>"+e.FE.END_MARKER):t.html.insert('<span style="'+n+'">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>")}return{apply:n}},e.FE.RegisterCommand("inlineStyle",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.inlineStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><span style="'+t[n]+'" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineStyle" data-param1="'+t[n]+'" title="'+this.language.translate(n)+'">'+this.language.translate(n)+"</a></span></li>");return e+="</ul>"},title:"Inline Style",callback:function(e,t){this.inlineStyle.apply(t)},plugin:"inlineStyle"}),e.FE.DefineIcon("inlineStyle",{NAME:"paint-brush"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),e.FE.PLUGINS.lineBreaker=function(t){function n(e,n){var r,i,o,a,s,l,u,c;if(null==e)a=n.parent(),s=a.offset().top,u=n.offset().top,r=u-Math.min((u-s)/2,t.opts.lineBreakerOffset),o=a.outerWidth(),i=a.offset().left;else if(null==n)a=e.parent(),l=a.offset().top+a.outerHeight(),c=e.offset().top+e.outerHeight(),r=c+Math.min((l-c)/2,t.opts.lineBreakerOffset),o=a.outerWidth(),i=a.offset().left;else{a=e.parent();var f=e.offset().top+e.height(),d=n.offset().top;if(f>d)return!1;r=(f+d)/2,o=a.outerWidth(),i=a.offset().left}t.opts.iframe&&(i+=t.$iframe.offset().left-t.helpers.scrollLeft(),r+=t.$iframe.offset().top-t.helpers.scrollTop()),t.$box.append(m),m.css("top",r-t.win.pageYOffset),m.css("left",i-t.win.pageXOffset),m.css("width",o),m.data("tag1",e),m.data("tag2",n),m.addClass("fr-visible").data("instance",t)}function r(e,r){var o,a,s=e.offset().top,l=e.offset().top+e.outerHeight();if(Math.abs(l-r)<=t.opts.lineBreakerOffset||Math.abs(r-s)<=t.opts.lineBreakerOffset)if(Math.abs(l-r)<Math.abs(r-s)){a=e.get(0);for(var u=a.nextSibling;u&&u.nodeType==Node.TEXT_NODE&&0===u.textContent.length;)u=u.nextSibling;if(!u)return n(e,null),!0;if(o=i(u))return n(e,o),!0}else{if(a=e.get(0),!a.previousSibling)return n(null,e),!0;if(o=i(a.previousSibling))return n(o,e),!0}m.removeClass("fr-visible").removeData("instance")}function i(n){if(n){var r=e(n);if(0===t.$el.find(r).length)return null;if(n.nodeType!=Node.TEXT_NODE&&r.is(t.opts.lineBreakerTags.join(",")))return r;if(r.parents(t.opts.lineBreakerTags.join(",")).length>0)return n=r.parents(t.opts.lineBreakerTags.join(",")).get(0),e(n)}return null}function o(n,r){var i=t.doc.elementFromPoint(n,r);return i&&!e(i).closest(".fr-line-breaker").length&&!t.node.isElement(i)&&i!=t.$wp.get(0)&&e(i).closest(t.$wp).length?i:null}function a(e,n,r){for(var i=r,a=null;i<=t.opts.lineBreakerOffset&&!a;)a=o(e,n-i),a||(a=o(e,n+i)),i+=r;return a}function s(e,n,r){for(var i=null;!i&&e>t.$box.offset().left&&e<t.$box.offset().left+t.$box.outerWidth();)i=o(e,n),i||(i=a(e,n,5)),"left"==r?e-=t.opts.lineBreakerHorizontalOffset:e+=t.opts.lineBreakerHorizontalOffset;return i}function l(e){b=null;var n=null,o=null,l=t.doc.elementFromPoint(e.pageX-t.win.pageXOffset,e.pageY-t.win.pageYOffset);l&&("HTML"==l.tagName||"BODY"==l.tagName||t.node.isElement(l)||l.classList.contains(".fr-line-breaker"))?(o=a(e.pageX-t.win.pageXOffset,e.pageY-t.win.pageYOffset,1),o||(o=s(e.pageX-t.win.pageXOffset-t.opts.lineBreakerHorizontalOffset,e.pageY-t.win.pageYOffset,"left")),o||(o=s(e.pageX-t.win.pageXOffset+t.opts.lineBreakerHorizontalOffset,e.pageY-t.win.pageYOffset,"right")),n=i(o)):n=i(l),n?r(n,e.pageY):t.core.sameInstance(m)&&m.removeClass("fr-visible").removeData("instance")}function u(e){return!(m.hasClass("fr-visible")&&!t.core.sameInstance(m))&&(t.popups.areVisible()||t.el.querySelector(".fr-selected-cell")?(m.removeClass("fr-visible"),!0):void(v===!1&&(b&&clearTimeout(b),b=setTimeout(l,30,e))))}function c(){b&&clearTimeout(b),m.hasClass("fr-visible")&&m.removeClass("fr-visible").removeData("instance")}function f(){v=!0,c()}function d(){v=!1}function p(n){if(!t.core.sameInstance(m))return!0;n.preventDefault(),m.removeClass("fr-visible").removeData("instance");var r=m.data("tag1"),i=m.data("tag2"),o=t.html.defaultTag();null==r?o&&"TD"!=i.parent().get(0).tagName?i.before("<"+o+">"+e.FE.MARKERS+"<br></"+o+">"):i.before(e.FE.MARKERS+"<br>"):o&&"TD"!=r.parent().get(0).tagName&&0===r.parents(o).length?r.after("<"+o+">"+e.FE.MARKERS+"<br></"+o+">"):r.after(e.FE.MARKERS+"<br>"),t.selection.restore()}function h(){t.shared.$line_breaker||(t.shared.$line_breaker=e('<div class="fr-line-breaker"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+t.language.translate("Break")+'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="21" y="11" width="2" height="8"/><rect x="14" y="17" width="7" height="2"/><path d="M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z"/></svg></a></div>')),m=t.shared.$line_breaker,t.events.on("shared.destroy",function(){m.html("").removeData().remove(),m=null},!0),t.events.on("destroy",function(){m.removeData("instance").removeClass("fr-visible").appendTo("body"),clearTimeout(b)},!0),t.events.$on(m,"mousemove",function(e){e.stopPropagation()},!0),t.events.$on(m,"mousedown","a",function(e){e.stopPropagation()},!0),t.events.$on(m,"click","a",p,!0)}function g(){return!!t.$wp&&(h(),v=!1,t.events.$on(t.$win,"mousemove",u),t.events.$on(e(t.win),"scroll",c),t.events.on("popups.show.table.edit",c),t.events.on("commands.after",c),t.events.$on(e(t.win),"mousedown",f),void t.events.$on(e(t.win),"mouseup",d))}var m,v,b;return{_init:g}}}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.POPUP_TEMPLATES,{"link.edit":"[_BUTTONS_]","link.insert":"[_BUTTONS_][_INPUT_LAYER_]"}),e.extend(e.FE.DEFAULTS,{linkEditButtons:["linkOpen","linkStyle","linkEdit","linkRemove"],linkInsertButtons:["linkBack","|","linkList"],linkAttributes:{},linkAutoPrefix:"http://",linkStyles:{"fr-green":"Green","fr-strong":"Thick"},linkMultipleStyles:!0,linkConvertEmailAddress:!0,linkAlwaysBlank:!1,linkAlwaysNoFollow:!1,linkList:[{text:"Froala",href:"https://froala.com",target:"_blank"},{text:"Google",href:"https://google.com",target:"_blank"},{displayText:"Facebook",href:"https://facebook.com"}],linkText:!0}),e.FE.PLUGINS.link=function(t){function n(){var n=t.image?t.image.get():null;if(!n&&t.$wp){var r=t.selection.ranges(0).commonAncestorContainer;if(r&&(r.contains&&r.contains(t.el)||!t.el.contains(r)||t.el==r)&&(r=null),r&&"A"===r.tagName)return r;var i=t.selection.element(),o=t.selection.endElement();return"A"==i.tagName||t.node.isElement(i)||(i=e(i).parentsUntil(t.$el,"a:first").get(0)),"A"==o.tagName||t.node.isElement(o)||(o=e(o).parentsUntil(t.$el,"a:first").get(0)),o&&(o.contains&&o.contains(t.el)||!t.el.contains(o)||t.el==o)&&(o=null),i&&(i.contains&&i.contains(t.el)||!t.el.contains(i)||t.el==i)&&(i=null),o&&o==i&&"A"==o.tagName?i:null}return"A"==t.el.tagName?t.el:n&&n.get(0).parentNode&&"A"==n.get(0).parentNode.tagName?n.get(0).parentNode:void 0}function r(){var e=t.image?t.image.get():null,n=[];if(e)"A"==e.get(0).parentNode.tagName&&n.push(e.get(0).parentNode);else{var r,i,o,a;if(t.win.getSelection){var s=t.win.getSelection();if(s.getRangeAt&&s.rangeCount){a=t.doc.createRange();for(var l=0;l<s.rangeCount;++l)if(r=s.getRangeAt(l),i=r.commonAncestorContainer,i&&1!=i.nodeType&&(i=i.parentNode),i&&"a"==i.nodeName.toLowerCase())n.push(i);else{o=i.getElementsByTagName("a");for(var u=0;u<o.length;++u)a.selectNodeContents(o[u]),a.compareBoundaryPoints(r.END_TO_START,r)<1&&a.compareBoundaryPoints(r.START_TO_END,r)>-1&&n.push(o[u])}}}else if(t.doc.selection&&"Control"!=t.doc.selection.type)if(r=t.doc.selection.createRange(),i=r.parentElement(),"a"==i.nodeName.toLowerCase())n.push(i);else{o=i.getElementsByTagName("a"),a=t.doc.body.createTextRange();for(var c=0;c<o.length;++c)a.moveToElementText(o[c]),a.compareEndPoints("StartToEnd",r)>-1&&a.compareEndPoints("EndToStart",r)<1&&n.push(o[c])}}return n}function i(r){a(),setTimeout(function(){if(!r||r&&(1==r.which||"mouseup"!=r.type)){var i=n(),a=t.image?t.image.get():null;if(i&&!a){if(t.image){var s=t.node.contents(i);if(1==s.length&&"IMG"==s[0].tagName){var l=t.selection.ranges(0);return 0===l.startOffset&&0===l.endOffset?e(i).before(e.FE.MARKERS):e(i).after(e.FE.MARKERS),t.selection.restore(),!1}}r&&r.stopPropagation(),o(i)}}},t.helpers.isIOS()?100:0)}function o(n){var r=t.popups.get("link.edit");r||(r=s());var i=e(n);t.popups.isVisible("link.edit")||t.popups.refresh("link.edit"),t.popups.setContainer("link.edit",t.$sc);var o=i.offset().left+e(n).outerWidth()/2,a=i.offset().top+i.outerHeight();t.popups.show("link.edit",o,a,i.outerHeight())}function a(){t.popups.hide("link.edit")}function s(){var e="";t.opts.linkEditButtons.length>1&&("A"==t.el.tagName&&t.opts.linkEditButtons.indexOf("linkRemove")>=0&&t.opts.linkEditButtons.splice(t.opts.linkEditButtons.indexOf("linkRemove"),1),e='<div class="fr-buttons">'+t.button.buildList(t.opts.linkEditButtons)+"</div>");var r={buttons:e},i=t.popups.create("link.edit",r);return t.$wp&&t.events.$on(t.$wp,"scroll.link-edit",function(){n()&&t.popups.isVisible("link.edit")&&o(n())}),i}function l(){}function u(){var r=t.popups.get("link.insert"),i=n();if(i){var o,a,s=e(i),l=r.find('input.fr-link-attr[type="text"]'),u=r.find('input.fr-link-attr[type="checkbox"]');for(o=0;o<l.length;o++)a=e(l[o]),a.val(s.attr(a.attr("name")||""));for(u.prop("checked",!1),o=0;o<u.length;o++)a=e(u[o]),s.attr(a.attr("name"))==a.data("checked")&&a.prop("checked",!0);r.find('input.fr-link-attr[type="text"][name="text"]').val(s.text())}else r.find('input.fr-link-attr[type="text"]').val(""),r.find('input.fr-link-attr[type="checkbox"]').prop("checked",!1),r.find('input.fr-link-attr[type="text"][name="text"]').val(t.selection.text());r.find("input.fr-link-attr").trigger("change");var c=t.image?t.image.get():null;c?r.find('.fr-link-attr[name="text"]').parent().hide():r.find('.fr-link-attr[name="text"]').parent().show()}function c(){var e=t.$tb.find('.fr-command[data-cmd="insertLink"]'),n=t.popups.get("link.insert");if(n||(n=f()),!n.hasClass("fr-active"))if(t.popups.refresh("link.insert"),t.popups.setContainer("link.insert",t.$tb||t.$sc),e.is(":visible")){var r=e.offset().left+e.outerWidth()/2,i=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("link.insert",r,i,e.outerHeight())}else t.position.forSelection(n),t.popups.show("link.insert")}function f(e){if(e)return t.popups.onRefresh("link.insert",u),t.popups.onHide("link.insert",l),!0;var r="";t.opts.linkInsertButtons.length>=1&&(r='<div class="fr-buttons">'+t.button.buildList(t.opts.linkInsertButtons)+"</div>");var i='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>',o="",a=0;o='<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-'+t.id+'">',o+='<div class="fr-input-line"><input id="fr-link-insert-layer-url-'+t.id+'" name="href" type="text" class="fr-link-attr" placeholder="URL" tabIndex="'+ ++a+'"></div>',t.opts.linkText&&(o+='<div class="fr-input-line"><input id="fr-link-insert-layer-text-'+t.id+'" name="text" type="text" class="fr-link-attr" placeholder="'+t.language.translate("Text")+'" tabIndex="'+ ++a+'"></div>');for(var s in t.opts.linkAttributes)if(t.opts.linkAttributes.hasOwnProperty(s)){var c=t.opts.linkAttributes[s];o+='<div class="fr-input-line"><input name="'+s+'" type="text" class="fr-link-attr" placeholder="'+t.language.translate(c)+'" tabIndex="'+ ++a+'"></div>'}t.opts.linkAlwaysBlank||(o+='<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-'+t.id+'" tabIndex="'+ ++a+'"><span>'+i+'</span></span><label for="fr-link-target-'+t.id+'">'+t.language.translate("Open in new tab")+"</label></div>"),o+='<div class="fr-action-buttons"><button class="fr-command fr-submit" role="button" data-cmd="linkInsert" href="#" tabIndex="'+ ++a+'" type="button">'+t.language.translate("Insert")+"</button></div></div>";var f={buttons:r,input_layer:o},d=t.popups.create("link.insert",f);return t.$wp&&t.events.$on(t.$wp,"scroll.link-insert",function(){var e=t.image?t.image.get():null;e&&t.popups.isVisible("link.insert")&&E(),n&&t.popups.isVisible("link.insert")&&b()}),d}function d(){var r=n(),i=t.image?t.image.get():null;return t.events.trigger("link.beforeRemove",[r])!==!1&&void(i&&r?(i.unwrap(),t.image.edit(i)):r&&(t.selection.save(),e(r).replaceWith(e(r).html()),t.selection.restore(),a()))}function p(){t.events.on("keyup",function(t){t.which!=e.FE.KEYCODE.ESC&&i(t)}),t.events.on("window.mouseup",i),t.helpers.isMobile()&&t.events.$on(t.$doc,"selectionchange",i),f(!0),"A"==t.el.tagName&&t.$el.addClass("fr-view"),t.events.on("toolbar.esc",function(){if(t.popups.isVisible("link.edit"))return t.events.disableBlur(),t.events.focus(),!1},!0)}function h(n){var r,i,o=t.opts.linkList[n],a=t.popups.get("link.insert"),s=a.find('input.fr-link-attr[type="text"]'),l=a.find('input.fr-link-attr[type="checkbox"]');for(i=0;i<s.length;i++)r=e(s[i]),o[r.attr("name")]?r.val(o[r.attr("name")]):"text"!=r.attr("name")&&r.val("");for(i=0;i<l.length;i++)r=e(l[i]),r.prop("checked",r.data("checked")==o[r.attr("name")]);t.accessibility.focusPopup(a)}function g(){var n,r,i=t.popups.get("link.insert"),o=i.find('input.fr-link-attr[type="text"]'),a=i.find('input.fr-link-attr[type="checkbox"]'),s=o.filter('[name="href"]').val(),l=o.filter('[name="text"]').val(),u={};for(r=0;r<o.length;r++)n=e(o[r]),["href","text"].indexOf(n.attr("name"))<0&&(u[n.attr("name")]=n.val());for(r=0;r<a.length;r++)n=e(a[r]),n.is(":checked")?u[n.attr("name")]=n.data("checked"):u[n.attr("name")]=n.data("unchecked")||null;var c=t.helpers.scrollTop();v(s,l,u),e(t.o_win).scrollTop(c)}function m(){if(!t.selection.isCollapsed()){t.selection.save();for(var n=t.$el.find(".fr-marker").addClass("fr-unprocessed").toArray();n.length;){var r=e(n.pop());r.removeClass("fr-unprocessed");var i=t.node.deepestParent(r.get(0));if(i){var o=r.get(0),a="",s="";do o=o.parentNode,t.node.isBlock(o)||(a+=t.node.closeTagString(o),s=t.node.openTagString(o)+s);while(o!=i);var l=t.node.openTagString(r.get(0))+r.html()+t.node.closeTagString(r.get(0));r.replaceWith('<span id="fr-break"></span>');var u=e(i).html();u=u.replace(/<span id="fr-break"><\/span>/g,a+l+s),e(i).html(u)}n=t.$el.find(".fr-marker.fr-unprocessed").toArray()}t.selection.restore()}}function v(o,a,s){if("undefined"==typeof s&&(s={}),t.events.trigger("link.beforeInsert",[o,a,s])===!1)return!1;var l=t.image?t.image.get():null;l||"A"==t.el.tagName?"A"==t.el.tagName&&t.$el.focus():(t.selection.restore(),t.popups.hide("link.insert"));var u=o;if(t.opts.linkConvertEmailAddress){var c=/^[\w._]+@[a-z\u00a1-\uffff0-9_-]+?\.[a-z\u00a1-\uffff0-9]{2,}$/i;c.test(o)&&!/^mailto:.*/i.test(o)&&(o="mailto:"+o)}if(""===t.opts.linkAutoPrefix||/^(mailto|tel|sms|notes|data):.*/i.test(o)||/^data:image.*/i.test(o)||/^(https?:|ftps?:|file:|)\/\//i.test(o)||["/","{","[","#","("].indexOf((o||"")[0])<0&&(o=t.opts.linkAutoPrefix+o),o=t.helpers.sanitizeURL(o),t.opts.linkAlwaysBlank&&(s.target="_blank"),t.opts.linkAlwaysNoFollow&&(s.rel="nofollow"),"_blank"==s.target&&(s.rel?s.rel+=" noopener noreferrer":s.rel="noopener noreferrer"),a=a||"",o===t.opts.linkAutoPrefix){var f=t.popups.get("link.insert");return f.find('input[name="href"]').addClass("fr-error"),t.events.trigger("link.bad",[u]),!1}var d,p=n();if(p)d=e(p),d.attr("href",o),a.length>0&&d.text()!=a&&!l&&d.text(a),l||d.prepend(e.FE.START_MARKER).append(e.FE.END_MARKER),d.attr(s),l||t.selection.restore();else{l?l.wrap('<a href="'+o+'"></a>'):(t.format.remove("a"),t.selection.isCollapsed()?(a=0===a.length?u:a,t.html.insert('<a href="'+o+'">'+e.FE.START_MARKER+a+e.FE.END_MARKER+"</a>"),t.selection.restore()):a.length>0&&a!=t.selection.text().replace(/\n/g,"")?(t.selection.remove(),t.html.insert('<a href="'+o+'">'+e.FE.START_MARKER+a+e.FE.END_MARKER+"</a>"),t.selection.restore()):(m(),t.format.apply("a",{href:o})));for(var h=r(),g=0;g<h.length;g++)d=e(h[g]),d.attr(s),d.removeAttr("_moz_dirty");1==h.length&&t.$wp&&!l&&(e(h[0]).prepend(e.FE.START_MARKER).append(e.FE.END_MARKER),t.selection.restore())}if(l){var v=t.popups.get("link.insert");v.find("input:focus").blur(),t.image.edit(l)}else i()}function b(){a();var r=n();if(r){var i=t.popups.get("link.insert");i||(i=f()),t.popups.isVisible("link.insert")||(t.popups.refresh("link.insert"),t.selection.save(),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur())),t.popups.setContainer("link.insert",t.$sc);var o=(t.image?t.image.get():null)||e(r),s=o.offset().left+o.outerWidth()/2,l=o.offset().top+o.outerHeight();t.popups.show("link.insert",s,l,o.outerHeight())}}function y(){var e=t.image?t.image.get():null;if(e)t.image.back();else{t.events.disableBlur(),t.selection.restore(),t.events.enableBlur();var r=n();r&&t.$wp?(t.selection.restore(),a(),i()):"A"==t.el.tagName?(t.$el.focus(),i()):(t.popups.hide("link.insert"),t.toolbar.showInline())}}function E(){var e=t.image?t.image.get():null;if(e){var n=t.popups.get("link.insert");n||(n=f()),u(!0),t.popups.setContainer("link.insert",t.$sc);var r=e.offset().left+e.outerWidth()/2,i=e.offset().top+e.outerHeight();t.popups.show("link.insert",r,i,e.outerHeight())}}function $(r,o,a){"undefined"==typeof a&&(a=t.opts.linkMultipleStyles),"undefined"==typeof o&&(o=t.opts.linkStyles);var s=n();if(!s)return!1;if(!a){var l=Object.keys(o);l.splice(l.indexOf(r),1),e(s).removeClass(l.join(" "))}e(s).toggleClass(r),i()}return{_init:p,remove:d,showInsertPopup:c,usePredefined:h,insertCallback:g,insert:v,update:b,get:n,allSelected:r,back:y,imageLink:E,applyStyle:$}},e.FE.DefineIcon("insertLink",{NAME:"link"}),e.FE.RegisterShortcut(e.FE.KEYCODE.K,"insertLink",null,"K"),e.FE.RegisterCommand("insertLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),e.FE.DefineIcon("linkOpen",{NAME:"external-link"}),e.FE.RegisterCommand("linkOpen",{title:"Open Link",undo:!1,refresh:function(e){var t=this.link.get();t?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},callback:function(){var e=this.link.get();e&&this.o_win.open(e.href)}}),e.FE.DefineIcon("linkEdit",{NAME:"edit"}),e.FE.RegisterCommand("linkEdit",{title:"Edit Link",undo:!1,refreshAfterCallback:!1,popup:!0,callback:function(){this.link.update()},refresh:function(e){var t=this.link.get();t?e.removeClass("fr-hidden"):e.addClass("fr-hidden")}}),e.FE.DefineIcon("linkRemove",{NAME:"unlink"}),e.FE.RegisterCommand("linkRemove",{title:"Unlink",callback:function(){this.link.remove()},refresh:function(e){var t=this.link.get();t?e.removeClass("fr-hidden"):e.addClass("fr-hidden")}}),e.FE.DefineIcon("linkBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("linkBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.link.back()},refresh:function(e){var t=this.link.get()&&this.doc.hasFocus(),n=this.image?this.image.get():null;n||t||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.DefineIcon("linkList",{NAME:"search"}),e.FE.RegisterCommand("linkList",{title:"Choose Link",type:"dropdown",focus:!1,undo:!1,refreshAfterCallback:!1,html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.linkList,n=0;n<t.length;n++)e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkList" data-param1="'+n+'">'+(t[n].displayText||t[n].text)+"</a></li>";
return e+="</ul>"},callback:function(e,t){this.link.usePredefined(t)}}),e.FE.RegisterCommand("linkInsert",{focus:!1,refreshAfterCallback:!1,callback:function(){this.link.insertCallback()},refresh:function(e){var t=this.link.get();t?e.text(this.language.translate("Update")):e.text(this.language.translate("Insert"))}}),e.FE.DefineIcon("imageLink",{NAME:"link"}),e.FE.RegisterCommand("imageLink",{title:"Insert Link",undo:!1,focus:!1,popup:!0,callback:function(){this.link.imageLink()},refresh:function(e){var t,n=this.link.get();n?(t=e.prev(),t.hasClass("fr-separator")&&t.removeClass("fr-hidden"),e.addClass("fr-hidden")):(t=e.prev(),t.hasClass("fr-separator")&&t.addClass("fr-hidden"),e.removeClass("fr-hidden"))}}),e.FE.DefineIcon("linkStyle",{NAME:"magic"}),e.FE.RegisterCommand("linkStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.linkStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkStyle" data-param1="'+n+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},callback:function(e,t){this.link.applyStyle(t)},refreshOnShow:function(t,n){var r=this.link.get();if(r){var i=e(r);n.find(".fr-command").each(function(){var t=e(this).data("param1"),n=i.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.FE.PLUGINS.lists=function(t){function n(e){return'<span class="fr-open-'+e.toLowerCase()+'"></span>'}function r(e){return'<span class="fr-close-'+e.toLowerCase()+'"></span>'}function i(t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i].parentNode;"LI"==t[i].tagName&&o.tagName!=n&&r.indexOf(o)<0&&r.push(o)}for(i=r.length-1;i>=0;i--){var a=e(r[i]);a.replaceWith("<"+n.toLowerCase()+">"+a.html()+"</"+n.toLowerCase()+">")}}function o(n,r){i(n,r);for(var o=t.html.defaultTag(),a=0;a<n.length;a++)"LI"!=n[a].tagName&&(o&&n[a].tagName.toLowerCase()==o?e(n[a]).replaceWith("<"+r+"><li"+t.node.attributes(n[a])+">"+e(n[a]).html()+"</li></"+r+">"):e(n[a]).wrap("<"+r+"><li></li></"+r+">"));t.clean.lists()}function a(i){var o,a;for(o=i.length-1;o>=0;o--)for(a=o-1;a>=0;a--)if(e(i[a]).find(i[o]).length||i[a]==i[o]){i.splice(o,1);break}var s=[];for(o=0;o<i.length;o++){var l=e(i[o]),u=i[o].parentNode;l.before(r(u.tagName)),"LI"==u.parentNode.tagName?(l.before(r("LI")),l.after(n("LI"))):(t.node.isEmpty(l.get(0),!0)||0!==l.find(t.html.blockTagsQuery()).length||l.append("<br>"),l.append(n("LI")),l.prepend(r("LI"))),l.after(n(u.tagName)),"LI"==u.parentNode.tagName&&(u=u.parentNode.parentNode),s.indexOf(u)<0&&s.push(u)}for(o=0;o<s.length;o++){var c=e(s[o]),f=c.html();f=f.replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>"),f=f.replace(/<span class="fr-open-([a-z]*)"><\/span>/g,"<$1>"),c.replaceWith(t.node.openTagString(c.get(0))+f+t.node.closeTagString(c.get(0)))}t.$el.find("li:empty").remove(),t.$el.find("ul:empty, ol:empty").remove(),t.clean.lists(),t.html.wrap()}function s(e,t){for(var n=!0,r=0;r<e.length;r++){if("LI"!=e[r].tagName)return!1;e[r].parentNode.tagName!=t&&(n=!1)}return n}function l(e){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var n=t.selection.blocks(),r=0;r<n.length;r++)"LI"!=n[r].tagName&&"LI"==n[r].parentNode.tagName&&(n[r]=n[r].parentNode);t.selection.save(),s(n,e)?a(n):o(n,e),t.html.unwrap(),t.selection.restore()}function u(n,r){var i=e(t.selection.element());if(i.get(0)!=t.el){var o=i.get(0);"LI"!=o.tagName&&(o=i.parents("li").get(0)),o&&o.parentNode.tagName==r&&t.el.contains(o.parentNode)&&n.addClass("fr-active")}}function c(n){t.selection.save();for(var r=0;r<n.length;r++){var i=n[r].previousSibling;if(i){var o=e(n[r]).find("> ul, > ol").last().get(0);if(o){for(var a=e("<li>").prependTo(e(o)),s=t.node.contents(n[r])[0];s&&!t.node.isList(s);){var l=s.nextSibling;a.append(s),s=l}e(i).append(e(o)),e(n[r]).remove()}else{var u=e(i).find("> ul, > ol").last().get(0);if(u)e(u).append(e(n[r]));else{var c=e("<"+n[r].parentNode.tagName+">");e(i).append(c),c.append(e(n[r]))}}}}t.clean.lists(),t.selection.restore()}function f(e){t.selection.save(),a(e),t.selection.restore()}function d(e){if("indent"==e||"outdent"==e){for(var n=!1,r=t.selection.blocks(),i=[],o=0;o<r.length;o++)"LI"==r[o].tagName?(n=!0,i.push(r[o])):"LI"==r[o].parentNode.tagName&&(n=!0,i.push(r[o].parentNode));n&&("indent"==e?c(i):f(i))}}function p(){t.events.on("commands.after",d),t.events.on("keydown",function(n){if(n.which==e.FE.KEYCODE.TAB){for(var r=t.selection.blocks(),i=[],o=0;o<r.length;o++)"LI"==r[o].tagName?i.push(r[o]):"LI"==r[o].parentNode.tagName&&i.push(r[o].parentNode);if(i.length>1||i.length&&(t.selection.info(i[0]).atStart||t.node.isEmpty(i[0])))return n.preventDefault(),n.stopPropagation(),n.shiftKey?f(i):c(i),!1}},!0)}return{_init:p,format:l,refresh:u}},e.FE.RegisterCommand("formatUL",{title:"Unordered List",refresh:function(e){this.lists.refresh(e,"UL")},callback:function(){this.lists.format("UL")},plugin:"lists"}),e.FE.RegisterCommand("formatOL",{title:"Ordered List",refresh:function(e){this.lists.refresh(e,"OL")},callback:function(){this.lists.format("OL")},plugin:"lists"}),e.FE.DefineIcon("formatUL",{NAME:"list-ul"}),e.FE.DefineIcon("formatOL",{NAME:"list-ol"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1}),e.FE.PLUGINS.paragraphFormat=function(t){function n(n,r){var i=t.html.defaultTag();if(r&&r.toLowerCase()!=i)if(n.find("ul, ol").length>0){var o=e("<"+r+">");n.prepend(o);for(var a=t.node.contents(n.get(0))[0];a&&["UL","OL"].indexOf(a.tagName)<0;){var s=a.nextSibling;o.append(a),a=s}}else n.html("<"+r+">"+n.html()+"</"+r+">")}function r(n,r){var i=t.html.defaultTag();r||(r='div class="fr-temp-div" data-empty="true"'),r.toLowerCase()==i?n.replaceWith(n.html()):n.replaceWith(e("<"+r+">").html(n.html()))}function i(n,r){var i=t.html.defaultTag();r||(r='div class="fr-temp-div"'+(t.node.isEmpty(n.get(0),!0)?' data-empty="true"':"")),r.toLowerCase()==i?(t.node.isEmpty(n.get(0),!0)||n.append("<br/>"),n.replaceWith(n.html())):n.replaceWith(e("<"+r+">").html(n.html()))}function o(n,r){r||(r='div class="fr-temp-div"'+(t.node.isEmpty(n.get(0),!0)?' data-empty="true"':"")),n.replaceWith(e("<"+r+" "+t.node.attributes(n.get(0))+">").html(n.html()))}function a(a){"N"==a&&(a=t.html.defaultTag()),t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();var s=t.selection.blocks();t.selection.save(),t.$el.find("pre").attr("skip",!0);for(var l=0;l<s.length;l++)if(s[l].tagName!=a&&!t.node.isList(s[l])){var u=e(s[l]);"LI"==s[l].tagName?n(u,a):"LI"==s[l].parentNode.tagName&&s[l]?r(u,a):["TD","TH"].indexOf(s[l].parentNode.tagName)>=0?i(u,a):o(u,a)}t.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function(){e(this).prev().append("<br>"+e(this).html()),e(this).remove()}),t.$el.find("pre").removeAttr("skip"),t.html.unwrap(),t.selection.restore()}function s(e,n){var r=t.selection.blocks();if(r.length){var i=r[0],o="N",a=t.html.defaultTag();i.tagName.toLowerCase()!=a&&i!=t.el&&(o=i.tagName),n.find('.fr-command[data-param1="'+o+'"]').addClass("fr-active").attr("aria-selected",!0)}else n.find('.fr-command[data-param1="N"]').addClass("fr-active").attr("aria-selected",!0)}function l(e){if(t.opts.paragraphFormatSelection){var n=t.selection.blocks();if(n.length){var r=n[0],i="N",o=t.html.defaultTag();r.tagName.toLowerCase()!=o&&r!=t.el&&(i=r.tagName),["LI","TD","TH"].indexOf(i)>=0&&(i="N"),e.find("> span").text(t.opts.paragraphFormat[i])}else e.find("> span").text(t.opts.paragraphFormat.N)}}return{apply:a,refreshOnShow:s,refresh:l}},e.FE.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(e){return e.opts.paragraphFormatSelection},defaultSelection:"Normal",displaySelectionWidth:100,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.paragraphFormat;for(var n in t)if(t.hasOwnProperty(n)){var r=this.shortcuts.get("paragraphFormat."+n);r=r?'<span class="fr-shortcut">'+r+"</span>":"",e+='<li role="presentation"><'+("N"==n?this.html.defaultTag()||"DIV":n)+' style="padding: 0 !important; margin: 0 !important;" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="paragraphFormat" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></"+("N"==n?this.html.defaultTag()||"DIV":n)+"></li>"}return e+="</ul>"},title:"Paragraph Format",callback:function(e,t){this.paragraphFormat.apply(t)},refresh:function(e){this.paragraphFormat.refresh(e)},refreshOnShow:function(e,t){this.paragraphFormat.refreshOnShow(e,t)},plugin:"paragraphFormat"}),e.FE.DefineIcon("paragraphFormat",{NAME:"paragraph"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{paragraphStyles:{"fr-text-gray":"Gray","fr-text-bordered":"Bordered","fr-text-spaced":"Spaced","fr-text-uppercase":"Uppercase"},paragraphMultipleStyles:!0}),e.FE.PLUGINS.paragraphStyle=function(t){function n(n,r,i){"undefined"==typeof r&&(r=t.opts.paragraphStyles),"undefined"==typeof i&&(i=t.opts.paragraphMultipleStyles);var o="";i||(o=Object.keys(r),o.splice(o.indexOf(n),1),o=o.join(" ")),t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();var a=t.selection.blocks();t.selection.save();for(var s=e(a[0]).hasClass(n),l=0;l<a.length;l++)e(a[l]).removeClass(o).toggleClass(n,!s),e(a[l]).hasClass("fr-temp-div")&&e(a[l]).removeClass("fr-temp-div"),""===e(a[l]).attr("class")&&e(a[l]).removeAttr("class");t.html.unwrap(),t.selection.restore()}function r(n,r){var i=t.selection.blocks();if(i.length){var o=e(i[0]);r.find(".fr-command").each(function(){var t=e(this).data("param1"),n=o.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}}function i(){}return{_init:i,apply:n,refreshOnShow:r}},e.FE.RegisterCommand("paragraphStyle",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.paragraphStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command '+n+'" tabIndex="-1" role="option" data-cmd="paragraphStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},title:"Paragraph Style",callback:function(e,t){this.paragraphStyle.apply(t)},refreshOnShow:function(e,t){this.paragraphStyle.refreshOnShow(e,t)},plugin:"paragraphStyle"}),e.FE.DefineIcon("paragraphStyle",{NAME:"magic"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.FE.PLUGINS.quote=function(t){function n(e){for(;e.parentNode&&e.parentNode!=t.el;)e=e.parentNode;return e}function r(){var r,i=t.selection.blocks();for(r=0;r<i.length;r++)i[r]=n(i[r]);t.selection.save();var o=e("<blockquote>");for(o.insertBefore(i[0]),r=0;r<i.length;r++)o.append(i[r]);t.html.unwrap(),t.selection.restore()}function i(){var n,r=t.selection.blocks();for(n=0;n<r.length;n++)"BLOCKQUOTE"!=r[n].tagName&&(r[n]=e(r[n]).parentsUntil(t.$el,"BLOCKQUOTE").get(0));for(t.selection.save(),n=0;n<r.length;n++)r[n]&&e(r[n]).replaceWith(r[n].innerHTML);t.html.unwrap(),t.selection.restore()}function o(e){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore(),"increase"==e?r():"decrease"==e&&i()}return{apply:o}},e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","increase","'"),e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","decrease","'",!0),e.FE.RegisterCommand("quote",{title:"Quote",type:"dropdown",options:{increase:"Increase",decrease:"Decrease"},callback:function(e,t){this.quote.apply(t)},plugin:"quote"}),e.FE.DefineIcon("quote",{NAME:"quote-left"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.DEFAULTS,{saveInterval:1e4,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),e.FE.PLUGINS.save=function(t){function n(e,n){t.events.trigger("save.error",[{code:e,message:p[e]},n])}function r(r){if("undefined"==typeof r&&(r=t.html.get()),t.events.trigger("save.before")===!1)return!1;if(t.opts.saveURL){var i={};for(var o in t.opts.saveParams)if(t.opts.saveParams.hasOwnProperty(o)){var a=t.opts.saveParams[o];"function"==typeof a?i[o]=a.call(this):i[o]=a}var s={};s[t.opts.saveParam]=r,e.ajax({type:t.opts.saveMethod,url:t.opts.saveURL,data:e.extend(s,i),crossDomain:t.opts.requestWithCORS,xhrFields:{withCredentials:t.opts.requestWithCredentials},headers:t.opts.requestHeaders}).done(function(e){u=r,t.events.trigger("save.after",[e])}).fail(function(e){n(d,e.response||e.responseText)})}else n(f)}function i(){clearTimeout(l),l=setTimeout(function(){var e=t.html.get();(u!=e||c)&&(u=e,c=!1,r(e))},t.opts.saveInterval)}function o(){i(),c=!1}function a(){c=!0}function s(){t.opts.saveInterval&&(u=t.html.get(),t.events.on("contentChanged",i),t.events.on("keydown destroy",function(){clearTimeout(l)}))}var l=null,u=null,c=!1,f=1,d=2,p={};return p[f]="Missing saveURL option.",p[d]="Something went wrong during save.",{_init:s,save:r,reset:o,force:a}},e.FE.DefineIcon("save",{NAME:"floppy-o"}),e.FE.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()},plugin:"save"})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_]"}),e.extend(e.FE.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableRemove","|","tableRows","tableColumns","tableStyle","-","tableCells","tableCellBackground","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,tableInsertHelperOffset:15}),e.FE.PLUGINS.table=function(t){function n(){var e=t.$tb.find('.fr-command[data-cmd="insertTable"]'),n=t.popups.get("table.insert");if(n||(n=a()),!n.hasClass("fr-active")){t.popups.refresh("table.insert"),t.popups.setContainer("table.insert",t.$tb);var r=e.offset().left+e.outerWidth()/2,i=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("table.insert",r,i,e.outerHeight())}}function r(){var e=M();if(e){var n=t.popups.get("table.edit");n||(n=c()),t.popups.setContainer("table.edit",t.$sc);var r=U(e),i=(r.left+r.right)/2,o=r.bottom;t.popups.show("table.edit",i,o,r.bottom-r.top),t.edit.isDisabled()&&(t.toolbar.disable(),t.$el.removeClass("fr-no-selection"),t.edit.on(),t.button.bulkRefresh(),t.selection.setAtEnd(t.$el.find(".fr-selected-cell:last").get(0)),t.$el.focus(),t.selection.restore())}}function i(){var e=M();if(e){var n=t.popups.get("table.colors");n||(n=f()),t.popups.setContainer("table.colors",t.$sc);var r=U(e),i=(r.left+r.right)/2,o=r.bottom;h(),t.popups.show("table.colors",i,o,r.bottom-r.top)}}function o(){0===ve().length&&t.toolbar.enable()}function a(n){if(n)return t.popups.onHide("table.insert",function(){t.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseenter")}),!0;var r="";t.opts.tableInsertButtons.length>0&&(r='<div class="fr-buttons">'+t.button.buildList(t.opts.tableInsertButtons)+"</div>");var i={buttons:r,rows_columns:l()},o=t.popups.create("table.insert",i);return t.events.$on(o,"mouseenter",".fr-table-size .fr-select-table-size .fr-table-cell",function(t){s(e(t.currentTarget))},!0),u(o),o}function s(e){var n=e.data("row"),r=e.data("col"),i=e.parent();i.siblings(".fr-table-size-info").html(n+" &times; "+r),i.find("> span").removeClass("hover fr-active-item");for(var o=1;o<=t.opts.tableInsertMaxSize;o++)for(var a=0;a<=t.opts.tableInsertMaxSize;a++){var s=i.find('> span[data-row="'+o+'"][data-col="'+a+'"]');o<=n&&a<=r?s.addClass("hover"):o<=n+1||o<=2&&!t.helpers.isMobile()?s.css("display","inline-block"):o>2&&!t.helpers.isMobile()&&s.css("display","none")}e.addClass("fr-active-item")}function l(){for(var e='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',n=1;n<=t.opts.tableInsertMaxSize;n++){for(var r=1;r<=t.opts.tableInsertMaxSize;r++){var i="inline-block";n>2&&!t.helpers.isMobile()&&(i="none");var o="fr-table-cell ";1==n&&1==r&&(o+=" hover"),e+='<span class="fr-command '+o+'" tabIndex="-1" data-cmd="tableInsert" data-row="'+n+'" data-col="'+r+'" data-param1="'+n+'" data-param2="'+r+'" style="display: '+i+';" role="button"><span></span><span class="fr-sr-only">'+n+" &times; "+r+"&nbsp;&nbsp;&nbsp;</span></span>"}e+='<div class="new-line"></div>'}return e+="</div></div>"}function u(n){t.events.$on(n,"focus","[tabIndex]",function(t){var n=e(t.currentTarget);s(n)}),t.events.on("popup.tab",function(n){var r=e(n.currentTarget);if(!t.popups.isVisible("table.insert")||!r.is("span, a"))return!0;var i,o=n.which;if(e.FE.KEYCODE.ARROW_UP==o||e.FE.KEYCODE.ARROW_DOWN==o||e.FE.KEYCODE.ARROW_LEFT==o||e.FE.KEYCODE.ARROW_RIGHT==o){if(r.is("span.fr-table-cell")){var a=r.parent().find("span.fr-table-cell"),l=a.index(r),u=t.opts.tableInsertMaxSize,c=l%u,f=Math.floor(l/u);e.FE.KEYCODE.ARROW_UP==o?f=Math.max(0,f-1):e.FE.KEYCODE.ARROW_DOWN==o?f=Math.min(t.opts.tableInsertMaxSize-1,f+1):e.FE.KEYCODE.ARROW_LEFT==o?c=Math.max(0,c-1):e.FE.KEYCODE.ARROW_RIGHT==o&&(c=Math.min(t.opts.tableInsertMaxSize-1,c+1));var d=f*u+c,p=e(a.get(d));s(p),t.events.disableBlur(),p.focus(),i=!1}}else e.FE.KEYCODE.ENTER==o&&(t.button.exec(r),i=!1);return i===!1&&(n.preventDefault(),n.stopPropagation()),i},!0)}function c(e){if(e)return t.popups.onHide("table.edit",o),!0;var n="";t.opts.tableEditButtons.length>0&&(n='<div class="fr-buttons">'+t.button.buildList(t.opts.tableEditButtons)+"</div>");var i={buttons:n},a=t.popups.create("table.edit",i);return t.events.$on(t.$wp,"scroll.table-edit",function(){t.popups.isVisible("table.edit")&&r()}),a}function f(){var e="";t.opts.tableColorsButtons.length>0&&(e='<div class="fr-buttons fr-table-colors-buttons">'+t.button.buildList(t.opts.tableColorsButtons)+"</div>");var n={buttons:e,colors:d()},r=t.popups.create("table.colors",n);return t.events.$on(t.$wp,"scroll.table-colors",function(){t.popups.isVisible("table.colors")&&i()}),p(r),r}function d(){for(var e='<div class="fr-table-colors">',n=0;n<t.opts.tableColors.length;n++)0!==n&&n%t.opts.tableColorsStep===0&&(e+="<br>"),e+="REMOVE"!=t.opts.tableColors[n]?'<span class="fr-command" style="background: '+t.opts.tableColors[n]+';" tabIndex="-1" role="button" data-cmd="tableCellBackgroundColor" data-param1="'+t.opts.tableColors[n]+'"><span class="fr-sr-only">'+t.language.translate("Color")+" "+t.opts.tableColors[n]+"&nbsp;&nbsp;&nbsp;</span></span>":'<span class="fr-command" data-cmd="tableCellBackgroundColor" tabIndex="-1" role="button" data-param1="REMOVE" title="'+t.language.translate("Clear Formatting")+'"><i class="fa fa-eraser"></i><span class="fr-sr-only">'+t.language.translate("Clear Formatting")+"</span></span>";return e+="</div>"}function p(n){t.events.on("popup.tab",function(r){var i=e(r.currentTarget);if(!t.popups.isVisible("table.colors")||!i.is("span"))return!0;var o=r.which,a=!0;if(e.FE.KEYCODE.TAB==o){var s=n.find(".fr-buttons");a=!t.accessibility.focusToolbar(s,!!r.shiftKey)}else if(e.FE.KEYCODE.ARROW_UP==o||e.FE.KEYCODE.ARROW_DOWN==o||e.FE.KEYCODE.ARROW_LEFT==o||e.FE.KEYCODE.ARROW_RIGHT==o){var l=i.parent().find("span.fr-command"),u=l.index(i),c=t.opts.colorsStep,f=Math.floor(l.length/c),d=u%c,p=Math.floor(u/c),h=p*c+d,g=f*c;e.FE.KEYCODE.ARROW_UP==o?h=((h-c)%g+g)%g:e.FE.KEYCODE.ARROW_DOWN==o?h=(h+c)%g:e.FE.KEYCODE.ARROW_LEFT==o?h=((h-1)%g+g)%g:e.FE.KEYCODE.ARROW_RIGHT==o&&(h=(h+1)%g);var m=e(l.get(h));t.events.disableBlur(),m.focus(),a=!1}else e.FE.KEYCODE.ENTER==o&&(t.button.exec(i),a=!1);return a===!1&&(r.preventDefault(),r.stopPropagation()),a},!0)}function h(){var e=t.popups.get("table.colors"),n=t.$el.find(".fr-selected-cell:first");e.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),e.find('span[data-param1="'+t.helpers.RGBToHex(n.css("background-color"))+'"]').addClass("fr-selected-color fr-active-item")}function g(n,r){var i,o,a='<table style="width: 100%;"><tbody>',s=100/r;for(i=0;i<n;i++){for(a+="<tr>",o=0;o<r;o++)a+='<td style="width: '+s.toFixed(4)+'%;">',0===i&&0===o&&(a+=e.FE.MARKERS),a+="<br></td>";a+="</tr>"}a+="</tbody></table>",t.html.insert(a),t.selection.restore()}function m(){if(ve().length>0){var e=be();t.selection.setBefore(e.get(0))||t.selection.setAfter(e.get(0)),t.selection.restore(),t.popups.hide("table.edit"),e.remove(),t.toolbar.enable()}}function v(){var t=be();if(t.length>0&&0===t.find("th").length){var n,i="<thead><tr>",o=0;for(t.find("tr:first > td").each(function(){var t=e(this);o+=parseInt(t.attr("colspan"),10)||1}),n=0;n<o;n++)i+="<th><br></th>";i+="</tr></thead>",t.prepend(i),r()}}function b(){var e=be(),n=e.find("thead");if(n.length>0)if(0===e.find("tbody tr").length)m();else if(n.remove(),ve().length>0)r();else{t.popups.hide("table.edit");var i=e.find("tbody tr:first td:first").get(0);i&&(t.selection.setAtEnd(i),t.selection.restore())}}function y(n){var i=be();if(i.length>0){if(t.$el.find("th.fr-selected-cell").length>0&&"above"==n)return;var o,a,s=M(),l=B(s);a="above"==n?l.min_i:l.max_i;var u="<tr>";for(o=0;o<s[a].length;o++)if("below"==n&&a<s.length-1&&s[a][o]==s[a+1][o]||"above"==n&&a>0&&s[a][o]==s[a-1][o]){if(0===o||o>0&&s[a][o]!=s[a][o-1]){var c=e(s[a][o]);c.attr("rowspan",parseInt(c.attr("rowspan"),10)+1)}}else u+="<td><br></td>";u+="</tr>";var f=e(i.find("tr").not(i.find("table tr")).get(a));"below"==n?f.after(u):"above"==n&&(f.before(u),t.popups.isVisible("table.edit")&&r())}}function E(){var n=be();if(n.length>0){var r,i,o,a=M(),s=B(a);if(0===s.min_i&&s.max_i==a.length-1)m();else{for(r=s.max_i;r>=s.min_i;r--){for(o=e(n.find("tr").not(n.find("table tr")).get(r)),i=0;i<a[r].length;i++)if(0===i||a[r][i]!=a[r][i-1]){var l=e(a[r][i]);if(parseInt(l.attr("rowspan"),10)>1){var u=parseInt(l.attr("rowspan"),10)-1;1==u?l.removeAttr("rowspan"):l.attr("rowspan",u)}if(r<a.length-1&&a[r][i]==a[r+1][i]&&(0===r||a[r][i]!=a[r-1][i])){for(var c=a[r][i],f=i;f>0&&a[r][f]==a[r][f-1];)f--;0===f?e(n.find("tr").not(n.find("table tr")).get(r+1)).prepend(c):e(a[r+1][f-1]).after(c)}}var d=o.parent();o.remove(),0===d.find("tr").length&&d.remove(),a=M(n)}_(0,a.length-1,0,a[0].length-1,n),s.min_i>0?t.selection.setAtEnd(a[s.min_i-1][0]):t.selection.setAtEnd(a[0][0]),t.selection.restore(),t.popups.hide("table.edit")}}}function $(n){var i=be();if(i.length>0){var o,a=M(),s=B(a);o="before"==n?s.min_j:s.max_j;var l,u=100/a[0].length,c=100/(a[0].length+1);i.find("th, td").each(function(){l=e(this),l.data("old-width",l.outerWidth()/i.outerWidth()*100)}),i.find("tr").not(i.find("table tr")).each(function(t){for(var r,i=e(this),s=0,l=0;s-1<o;){if(r=i.find("> th, > td").get(l),!r){r=null;break}r==a[t][s]?(s+=parseInt(e(r).attr("colspan"),10)||1,l++):(s+=parseInt(e(a[t][s]).attr("colspan"),10)||1,"after"==n&&(r=0===l?-1:i.find("> th, > td").get(l-1)))}var f=e(r);if("after"==n&&s-1>o||"before"==n&&o>0&&a[t][o]==a[t][o-1]){if(0===t||t>0&&a[t][o]!=a[t-1][o]){var d=parseInt(f.attr("colspan"),10)+1;f.attr("colspan",d),f.css("width",(f.data("old-width")*c/u+c).toFixed(4)+"%"),f.removeData("old-width")}}else{var p;p=i.find("th").length>0?'<th style="width: '+c.toFixed(4)+'%;"><br></th>':'<td style="width: '+c.toFixed(4)+'%;"><br></td>',r==-1?i.prepend(p):null==r?i.append(p):"before"==n?f.before(p):"after"==n&&f.after(p)}}),i.find("th, td").each(function(){l=e(this),l.data("old-width")&&(l.css("width",(l.data("old-width")*c/u).toFixed(4)+"%"),l.removeData("old-width"))}),t.popups.isVisible("table.edit")&&r()}}function w(){var n=be();if(n.length>0){var r,i,o,a=M(),s=B(a);if(0===s.min_j&&s.max_j==a[0].length-1)m();else{var l=100/a[0].length,u=100/(a[0].length-s.max_j+s.min_j-1);for(n.find("th, td").each(function(){o=e(this),o.hasClass("fr-selected-cell")||o.data("old-width",o.outerWidth()/n.outerWidth()*100)}),i=s.max_j;i>=s.min_j;i--)for(r=0;r<a.length;r++)if(0===r||a[r][i]!=a[r-1][i])if(o=e(a[r][i]),(parseInt(o.attr("colspan"),10)||1)>1){var c=parseInt(o.attr("colspan"),10)-1;1==c?o.removeAttr("colspan"):o.attr("colspan",c),o.css("width",((o.data("old-width")-ue(i,a))*u/l).toFixed(4)+"%"),o.removeData("old-width")}else{var f=e(o.parent().get(0));o.remove(),0===f.find("> th, > td").length&&(0===f.prev().length||0===f.next().length||f.prev().find("> th[rowspan], > td[rowspan]").length<f.prev().find("> th, > td").length)&&f.remove()}_(0,a.length-1,0,a[0].length-1,n),s.min_j>0?t.selection.setAtEnd(a[s.min_i][s.min_j-1]):t.selection.setAtEnd(a[s.min_i][0]),t.selection.restore(),t.popups.hide("table.edit"),n.find("th, td").each(function(){o=e(this),o.data("old-width")&&(o.css("width",(o.data("old-width")*u/l).toFixed(4)+"%"),o.removeData("old-width"))})}}}function x(e,t,n){var r,i,o,a,s,l=0,u=M(n);for(t=Math.min(t,u[0].length-1),i=e;i<=t;i++)if(!(i>e&&u[0][i]==u[0][i-1])&&(a=parseInt(u[0][i].getAttribute("colspan"),10)||1,a>1&&u[0][i]==u[0][i+1]))for(l=a-1,r=1;r<u.length;r++)if(u[r][i]!=u[r-1][i]){for(o=i;o<i+a;o++)if(s=parseInt(u[r][o].getAttribute("colspan"),10)||1,s>1&&u[r][o]==u[r][o+1])l=Math.min(l,s-1),o+=l;else if(l=Math.max(0,l-1),!l)break;if(!l)break}l&&S(u,l,"colspan",0,u.length-1,e,t)}function C(e,t,n){var r,i,o,a,s,l=0,u=M(n);for(t=Math.min(t,u.length-1),r=e;r<=t;r++)if(!(r>e&&u[r][0]==u[r-1][0])&&(a=parseInt(u[r][0].getAttribute("rowspan"),10)||1,a>1&&u[r][0]==u[r+1][0]))for(l=a-1,i=1;i<u[0].length;i++)if(u[r][i]!=u[r][i-1]){for(o=r;o<r+a;o++)if(s=parseInt(u[o][i].getAttribute("rowspan"),10)||1,s>1&&u[o][i]==u[o+1][i])l=Math.min(l,s-1),o+=l;else if(l=Math.max(0,l-1),!l)break;if(!l)break}l&&S(u,l,"rowspan",e,t,0,u[0].length-1)}function S(e,t,n,r,i,o,a){var s,l,u;for(s=r;s<=i;s++)for(l=o;l<=a;l++)s>r&&e[s][l]==e[s-1][l]||l>o&&e[s][l]==e[s][l-1]||(u=parseInt(e[s][l].getAttribute(n),10)||1,u>1&&(u-t>1?e[s][l].setAttribute(n,u-t):e[s][l].removeAttribute(n)))}function _(e,t,n,r,i){C(e,t,i),x(n,r,i)}function T(){if(ve().length>1&&(0===t.$el.find("th.fr-selected-cell").length||0===t.$el.find("td.fr-selected-cell").length)){var n,i,o=M(),a=B(o),s=t.$el.find(".fr-selected-cell"),l=e(s[0]),u=l.parent(),c=u.find(".fr-selected-cell"),f=l.closest("table"),d=l.html(),p=0;for(n=0;n<c.length;n++)p+=e(c[n]).outerWidth();for(l.css("width",(p/f.outerWidth()*100).toFixed(4)+"%"),a.min_j<a.max_j&&l.attr("colspan",a.max_j-a.min_j+1),a.min_i<a.max_i&&l.attr("rowspan",a.max_i-a.min_i+1),n=1;n<s.length;n++)i=e(s[n]),"<br>"!=i.html()&&""!==i.html()&&(d+="<br>"+i.html()),i.remove();l.html(d),t.selection.setAtEnd(l.get(0)),t.selection.restore(),t.toolbar.enable(),C(a.min_i,a.max_i,f);var h=f.find("tr:empty");for(n=h.length-1;n>=0;n--)e(h[n]).remove();x(a.min_j,a.max_j,f),r()}}function A(){if(1==ve().length){var n=t.$el.find(".fr-selected-cell"),r=n.parent(),i=n.closest("table"),o=parseInt(n.attr("rowspan"),10),a=M(),s=I(n.get(0),a),l=n.clone().html("<br>");if(o>1){var u=Math.ceil(o/2);u>1?n.attr("rowspan",u):n.removeAttr("rowspan"),o-u>1?l.attr("rowspan",o-u):l.removeAttr("rowspan");for(var c=s.row+u,f=0===s.col?s.col:s.col-1;f>=0&&(a[c][f]==a[c][f-1]||c>0&&a[c][f]==a[c-1][f]);)f--;f==-1?e(i.find("tr").not(i.find("table tr")).get(c)).prepend(l):e(a[c][f]).after(l)}else{var d,p=e("<tr>").append(l);for(d=0;d<a[0].length;d++)if(0===d||a[s.row][d]!=a[s.row][d-1]){var h=e(a[s.row][d]);h.is(n)||h.attr("rowspan",(parseInt(h.attr("rowspan"),10)||1)+1)}r.after(p)}L(),t.popups.hide("table.edit")}}function O(){if(1==ve().length){var n=t.$el.find(".fr-selected-cell"),r=parseInt(n.attr("colspan"),10)||1,i=n.parent().outerWidth(),o=n.outerWidth(),a=n.clone().html("<br>"),s=M(),l=I(n.get(0),s);if(r>1){var u=Math.ceil(r/2);o=ce(l.col,l.col+u-1,s)/i*100;var c=ce(l.col+u,l.col+r-1,s)/i*100;u>1?n.attr("colspan",u):n.removeAttr("colspan"),r-u>1?a.attr("colspan",r-u):a.removeAttr("colspan"),n.css("width",o.toFixed(4)+"%"),a.css("width",c.toFixed(4)+"%")}else{var f;for(f=0;f<s.length;f++)if(0===f||s[f][l.col]!=s[f-1][l.col]){var d=e(s[f][l.col]);if(!d.is(n)){var p=(parseInt(d.attr("colspan"),10)||1)+1;d.attr("colspan",p)}}o=o/i*100/2,n.css("width",o.toFixed(4)+"%"),a.css("width",o.toFixed(4)+"%")}n.after(a),L(),t.popups.hide("table.edit")}}function k(e){"REMOVE"!=e?t.$el.find(".fr-selected-cell").css("background-color",t.helpers.HEXtoRGB(e)):t.$el.find(".fr-selected-cell").css("background-color","")}function N(e){t.$el.find(".fr-selected-cell").css("vertical-align",e)}function D(e){t.$el.find(".fr-selected-cell").css("text-align",e)}function R(e,t,n,r){if(t.length>0){if(!n){var i=Object.keys(r);i.splice(i.indexOf(e),1),t.removeClass(i.join(" "))}t.toggleClass(e)}}function M(t){t=t||null;var n=[];if(null==t&&ve().length>0&&(t=be()),t)return t.find("tr").not(t.find("table tr")).each(function(t,r){var i=e(r),o=0;i.find("> th, > td").each(function(r,i){for(var a=e(i),s=parseInt(a.attr("colspan"),10)||1,l=parseInt(a.attr("rowspan"),10)||1,u=t;u<t+l;u++)for(var c=o;c<o+s;c++)n[u]||(n[u]=[]),n[u][c]?o++:n[u][c]=i;o+=s})}),n}function I(e,t){for(var n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)if(t[n][r]==e)return{row:n,col:r}}function F(e,t,n){for(var r=e+1,i=t+1;r<n.length;){if(n[r][t]!=n[e][t]){r--;break}r++}for(r==n.length&&r--;i<n[e].length;){if(n[e][i]!=n[e][t]){i--;break}i++}return i==n[e].length&&i--,{row:r,col:i}}function L(){var n=t.$el.find(".fr-selected-cell");n.length>0&&n.each(function(){var t=e(this);t.removeClass("fr-selected-cell"),""===t.attr("class")&&t.removeAttr("class")}),t.el.querySelector(".fr-cell-fixed")&&(t.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),t.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler"))}function P(){setTimeout(function(){t.selection.clear(),t.$el.addClass("fr-no-selection"),t.$el.blur()},0)}function B(e){var n=t.$el.find(".fr-selected-cell");if(n.length>0){var r,i=e.length,o=0,a=e[0].length,s=0;for(r=0;r<n.length;r++){var l=I(n[r],e),u=F(l.row,l.col,e);i=Math.min(l.row,i),o=Math.max(u.row,o),a=Math.min(l.col,a),s=Math.max(u.col,s)}return{min_i:i,max_i:o,min_j:a,max_j:s}}return null}function j(t,n,r,i,o){var a,s,l,u,c=t,f=n,d=r,p=i;
for(a=c;a<=f;a++)((parseInt(e(o[a][d]).attr("rowspan"),10)||1)>1||(parseInt(e(o[a][d]).attr("colspan"),10)||1)>1)&&(l=I(o[a][d],o),u=F(l.row,l.col,o),c=Math.min(l.row,c),f=Math.max(u.row,f),d=Math.min(l.col,d),p=Math.max(u.col,p)),((parseInt(e(o[a][p]).attr("rowspan"),10)||1)>1||(parseInt(e(o[a][p]).attr("colspan"),10)||1)>1)&&(l=I(o[a][p],o),u=F(l.row,l.col,o),c=Math.min(l.row,c),f=Math.max(u.row,f),d=Math.min(l.col,d),p=Math.max(u.col,p));for(s=d;s<=p;s++)((parseInt(e(o[c][s]).attr("rowspan"),10)||1)>1||(parseInt(e(o[c][s]).attr("colspan"),10)||1)>1)&&(l=I(o[c][s],o),u=F(l.row,l.col,o),c=Math.min(l.row,c),f=Math.max(u.row,f),d=Math.min(l.col,d),p=Math.max(u.col,p)),((parseInt(e(o[f][s]).attr("rowspan"),10)||1)>1||(parseInt(e(o[f][s]).attr("colspan"),10)||1)>1)&&(l=I(o[f][s],o),u=F(l.row,l.col,o),c=Math.min(l.row,c),f=Math.max(u.row,f),d=Math.min(l.col,d),p=Math.max(u.col,p));return c==t&&f==n&&d==r&&p==i?{min_i:t,max_i:n,min_j:r,max_j:i}:j(c,f,d,p,o)}function U(t){var n=B(t),r=e(t[n.min_i][n.min_j]),i=e(t[n.min_i][n.max_j]),o=e(t[n.max_i][n.min_j]),a=r.offset().left,s=i.offset().left+i.outerWidth(),l=r.offset().top,u=o.offset().top+o.outerHeight();return{left:a,right:s,top:l,bottom:u}}function K(n,r){if(e(n).is(r))L(),t.edit.on(),e(n).addClass("fr-selected-cell");else{P(),t.edit.off();var i=M(),o=I(n,i),a=I(r,i),s=j(Math.min(o.row,a.row),Math.max(o.row,a.row),Math.min(o.col,a.col),Math.max(o.col,a.col),i);L(),n.classList.add("fr-cell-fixed"),r.classList.add("fr-cell-handler");for(var l=s.min_i;l<=s.max_i;l++)for(var u=s.min_j;u<=s.max_j;u++)e(i[l][u]).addClass("fr-selected-cell")}}function H(n){var r=null,i=e(n.target);return"TD"==n.target.tagName||"TH"==n.target.tagName?r=n.target:i.closest("td").length>0?r=i.closest("td").get(0):i.closest("th").length>0&&(r=i.closest("th").get(0)),0===t.$el.find(r).length?null:r}function q(){L(),t.popups.hide("table.edit")}function V(n){var r=H(n);if(ve().length>0&&!r&&q(),!t.edit.isDisabled()||t.popups.isVisible("table.edit"))if(1!=n.which||1==n.which&&t.helpers.isMac()&&n.ctrlKey)(3==n.which||1==n.which&&t.helpers.isMac()&&n.ctrlKey)&&r&&q();else if(Se=!0,r){ve().length>0&&!n.shiftKey&&q(),n.stopPropagation(),t.events.trigger("image.hideResizer"),t.events.trigger("video.hideResizer"),Ce=!0;var i=r.tagName.toLowerCase();n.shiftKey&&t.$el.find(i+".fr-selected-cell").length>0?e(t.$el.find(i+".fr-selected-cell").closest("table")).is(e(r).closest("table"))?K(_e,r):P():((t.keys.ctrlKey(n)||n.shiftKey)&&(ve().length>1||0===e(r).find(t.selection.element()).length&&!e(r).is(t.selection.element()))&&P(),_e=r,K(_e,_e))}}function z(n){if(Ce||t.$tb.is(n.target)||t.$tb.is(e(n.target).closest(t.$tb.get(0)))||(ve().length>0&&t.toolbar.enable(),L()),!(1!=n.which||1==n.which&&t.helpers.isMac()&&n.ctrlKey)){if(Se=!1,Ce){Ce=!1;var i=H(n);i||1!=ve().length?ve().length>0&&(t.selection.isCollapsed()?r():L()):L()}if(Ae){Ae=!1,we.removeClass("fr-moving"),t.$el.removeClass("fr-no-selection"),t.edit.on();var o=parseFloat(we.css("left"))+t.opts.tableResizerOffset;t.opts.iframe&&(o-=t.$iframe.offset().left),we.data("release-position",o),we.removeData("max-left"),we.removeData("max-right"),le(n),ee()}}}function W(n){if(Ce===!0){var r=e(n.currentTarget);if(r.closest("table").is(be())){if("TD"==n.currentTarget.tagName&&0===t.$el.find("th.fr-selected-cell").length)return void K(_e,n.currentTarget);if("TH"==n.currentTarget.tagName&&0===t.$el.find("td.fr-selected-cell").length)return void K(_e,n.currentTarget)}P()}}function G(n,r){for(var i=n;i&&"TABLE"!=i.tagName&&i.parentNode!=t.el;)i=i.parentNode;if(i&&"TABLE"==i.tagName){var o=M(e(i));"up"==r?X(I(n,o),i,o):"down"==r&&Q(I(n,o),i,o)}}function Y(e,n,r,i){for(var o,a=n;a!=t.el&&"TD"!=a.tagName&&"TH"!=a.tagName&&("up"==i?o=a.previousElementSibling:"down"==i&&(o=a.nextElementSibling),!o);)a=a.parentNode;"TD"==a.tagName||"TH"==a.tagName?G(a,i):o&&("up"==i&&t.selection.setAtEnd(o),"down"==i&&t.selection.setAtStart(o))}function X(e,n,r){e.row>0?t.selection.setAtEnd(r[e.row-1][e.col]):Y(e,n,r,"up")}function Q(e,n,r){var i=parseInt(r[e.row][e.col].getAttribute("rowspan"),10)||1;e.row<r.length-i?t.selection.setAtStart(r[e.row+i][e.col]):Y(e,n,r,"down")}function J(n){var r=n.which,i=t.selection.blocks();if(i.length&&(i=i[0],"TD"==i.tagName||"TH"==i.tagName)){for(var o=i;o&&"TABLE"!=o.tagName&&o.parentNode!=t.el;)o=o.parentNode;if(o&&"TABLE"==o.tagName&&(e.FE.KEYCODE.ARROW_LEFT==r||e.FE.KEYCODE.ARROW_UP==r||e.FE.KEYCODE.ARROW_RIGHT==r||e.FE.KEYCODE.ARROW_DOWN==r)&&(ve().length>0&&q(),t.browser.webkit&&(e.FE.KEYCODE.ARROW_UP==r||e.FE.KEYCODE.ARROW_DOWN==r))){var a=t.selection.ranges(0).startContainer;if(a.nodeType==Node.TEXT_NODE&&(e.FE.KEYCODE.ARROW_UP==r&&a.previousSibling||e.FE.KEYCODE.ARROW_DOWN==r&&a.nextSibling))return;n.preventDefault(),n.stopPropagation();var s=M(e(o)),l=I(i,s);return e.FE.KEYCODE.ARROW_UP==r?X(l,o,s):e.FE.KEYCODE.ARROW_DOWN==r&&Q(l,o,s),t.selection.restore(),!1}}}function Z(){t.shared.$table_resizer||(t.shared.$table_resizer=e('<div class="fr-table-resizer"><div></div></div>')),we=t.shared.$table_resizer,t.events.$on(we,"mousedown",function(e){return!t.core.sameInstance(we)||(ve().length>0&&q(),1==e.which?(t.selection.save(),Ae=!0,we.addClass("fr-moving"),P(),t.edit.off(),we.find("div").css("opacity",1),!1):void 0)}),t.events.$on(we,"mousemove",function(e){return!t.core.sameInstance(we)||void(Ae&&(t.opts.iframe&&(e.pageX-=t.$iframe.offset().left),fe(e)))}),t.events.on("shared.destroy",function(){we.html("").removeData().remove(),we=null},!0),t.events.on("destroy",function(){t.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),we.hide().appendTo(e("body"))},!0)}function ee(){we&&(we.find("div").css("opacity",0),we.css("top",0),we.css("left",0),we.css("height",0),we.find("div").css("height",0),we.hide())}function te(){xe&&xe.removeClass("fr-visible").css("left","-9999px")}function ne(n,r){var i=e(r),o=i.closest("table"),a=o.parent();if(r&&"TD"!=r.tagName&&"TH"!=r.tagName&&(i.closest("td").length>0?r=i.closest("td"):i.closest("th").length>0&&(r=i.closest("th"))),!r||"TD"!=r.tagName&&"TH"!=r.tagName)we&&i.get(0)!=we.get(0)&&i.parent().get(0)!=we.get(0)&&t.core.sameInstance(we)&&ee();else{if(i=e(r),0===t.$el.find(i).length)return!1;var s=i.offset().left-1,l=s+i.outerWidth();if(Math.abs(n.pageX-s)<=t.opts.tableResizerOffset||Math.abs(l-n.pageX)<=t.opts.tableResizerOffset){var u,c,f,d,p,h=M(o),g=I(r,h),m=F(g.row,g.col,h),v=o.offset().top,b=o.outerHeight()-1;"rtl"!=t.opts.direction?n.pageX-s<=t.opts.tableResizerOffset?(f=s,g.col>0?(d=s-ue(g.col-1,h)+t.opts.tableResizingLimit,p=s+ue(g.col,h)-t.opts.tableResizingLimit,u=g.col-1,c=g.col):(u=null,c=0,d=o.offset().left-1-parseInt(o.css("margin-left"),10),p=o.offset().left-1+o.width()-h[0].length*t.opts.tableResizingLimit)):l-n.pageX<=t.opts.tableResizerOffset&&(f=l,m.col<h[m.row].length&&h[m.row][m.col+1]?(d=l-ue(m.col,h)+t.opts.tableResizingLimit,p=l+ue(m.col+1,h)-t.opts.tableResizingLimit,u=m.col,c=m.col+1):(u=m.col,c=null,d=o.offset().left-1+h[0].length*t.opts.tableResizingLimit,p=a.offset().left-1+a.width()+parseFloat(a.css("padding-left")))):l-n.pageX<=t.opts.tableResizerOffset?(f=l,g.col>0?(d=l-ue(g.col,h)+t.opts.tableResizingLimit,p=l+ue(g.col-1,h)-t.opts.tableResizingLimit,u=g.col,c=g.col-1):(u=null,c=0,d=o.offset().left+h[0].length*t.opts.tableResizingLimit,p=a.offset().left-1+a.width()+parseFloat(a.css("padding-left")))):n.pageX-s<=t.opts.tableResizerOffset&&(f=s,m.col<h[m.row].length&&h[m.row][m.col+1]?(d=s-ue(m.col+1,h)+t.opts.tableResizingLimit,p=s+ue(m.col,h)-t.opts.tableResizingLimit,u=m.col+1,c=m.col):(u=m.col,c=null,d=a.offset().left+parseFloat(a.css("padding-left")),p=o.offset().left-1+o.width()-h[0].length*t.opts.tableResizingLimit)),we||Z(),we.data("table",o),we.data("first",u),we.data("second",c),we.data("instance",t),t.$wp.append(we);var y=f-t.win.pageXOffset-t.opts.tableResizerOffset,E=v-t.win.pageYOffset;t.opts.iframe&&(y+=t.$iframe.offset().left-t.helpers.scrollLeft(),E+=t.$iframe.offset().top-t.helpers.scrollTop(),d+=t.$iframe.offset().left,p+=t.$iframe.offset().left),we.data("max-left",d),we.data("max-right",p),we.data("origin",f-t.win.pageXOffset),we.css("top",E),we.css("left",y),we.css("height",b),we.find("div").css("height",b),we.css("padding-left",t.opts.tableResizerOffset),we.css("padding-right",t.opts.tableResizerOffset),we.show()}else t.core.sameInstance(we)&&ee()}}function re(n,r){if(t.$box.find(".fr-line-breaker").is(":visible"))return!1;xe||he(),t.$box.append(xe),xe.data("instance",t);var i=e(r),o=i.find("tr:first"),a=n.pageX,s=0,l=0;t.opts.iframe&&(s+=t.$iframe.offset().left-t.helpers.scrollLeft(),l+=t.$iframe.offset().top-t.helpers.scrollTop());var u;o.find("th, td").each(function(){var n=e(this);return n.offset().left<=a&&a<n.offset().left+n.outerWidth()/2?(u=parseInt(xe.find("a").css("width"),10),xe.css("top",l+n.offset().top-t.win.pageYOffset-u-5),xe.css("left",s+n.offset().left-t.win.pageXOffset-u/2),xe.data("selected-cell",n),xe.data("position","before"),xe.addClass("fr-visible"),!1):n.offset().left+n.outerWidth()/2<=a&&a<n.offset().left+n.outerWidth()?(u=parseInt(xe.find("a").css("width"),10),xe.css("top",l+n.offset().top-t.win.pageYOffset-u-5),xe.css("left",s+n.offset().left+n.outerWidth()-t.win.pageXOffset-u/2),xe.data("selected-cell",n),xe.data("position","after"),xe.addClass("fr-visible"),!1):void 0})}function ie(n,r){if(t.$box.find(".fr-line-breaker").is(":visible"))return!1;xe||he(),t.$box.append(xe),xe.data("instance",t);var i=e(r),o=n.pageY,a=0,s=0;t.opts.iframe&&(a+=t.$iframe.offset().left-t.helpers.scrollLeft(),s+=t.$iframe.offset().top-t.helpers.scrollTop());var l;i.find("tr").each(function(){var n=e(this);return n.offset().top<=o&&o<n.offset().top+n.outerHeight()/2?(l=parseInt(xe.find("a").css("width"),10),xe.css("top",s+n.offset().top-t.win.pageYOffset-l/2),xe.css("left",a+n.offset().left-t.win.pageXOffset-l-5),xe.data("selected-cell",n.find("td:first")),xe.data("position","above"),xe.addClass("fr-visible"),!1):n.offset().top+n.outerHeight()/2<=o&&o<n.offset().top+n.outerHeight()?(l=parseInt(xe.find("a").css("width"),10),xe.css("top",s+n.offset().top+n.outerHeight()-t.win.pageYOffset-l/2),xe.css("left",a+n.offset().left-t.win.pageXOffset-l-5),xe.data("selected-cell",n.find("td:first")),xe.data("position","below"),xe.addClass("fr-visible"),!1):void 0})}function oe(n,r){if(0===ve().length){var i,o,a;if(r&&("HTML"==r.tagName||"BODY"==r.tagName||t.node.isElement(r)))for(i=1;i<=t.opts.tableInsertHelperOffset;i++){if(o=t.doc.elementFromPoint(n.pageX-t.win.pageXOffset,n.pageY-t.win.pageYOffset+i),e(o).hasClass("fr-tooltip"))return!0;if(o&&("TH"==o.tagName||"TD"==o.tagName||"TABLE"==o.tagName)&&(e(o).parents(".fr-wrapper").length||t.opts.iframe))return re(n,e(o).closest("table")),!0;if(a=t.doc.elementFromPoint(n.pageX-t.win.pageXOffset+i,n.pageY-t.win.pageYOffset),e(a).hasClass("fr-tooltip"))return!0;if(a&&("TH"==a.tagName||"TD"==a.tagName||"TABLE"==a.tagName)&&(e(a).parents(".fr-wrapper").length||t.opts.iframe))return ie(n,e(a).closest("table")),!0}t.core.sameInstance(xe)&&te()}}function ae(e){Te=null;var n=t.doc.elementFromPoint(e.pageX-t.win.pageXOffset,e.pageY-t.win.pageYOffset);t.opts.tableResizer&&(!t.popups.areVisible()||t.popups.areVisible()&&t.popups.isVisible("table.edit"))&&ne(e,n),!t.opts.tableInsertHelper||t.popups.areVisible()||t.$tb.hasClass("fr-inline")&&t.$tb.is(":visible")||oe(e,n)}function se(){if(Ae){var e=we.data("table"),n=e.offset().top-t.win.pageYOffset;t.opts.iframe&&(n+=t.$iframe.offset().top-t.helpers.scrollTop()),we.css("top",n)}}function le(){var n=we.data("origin"),r=we.data("release-position");if(n!==r){var i=we.data("first"),o=we.data("second"),a=we.data("table"),s=a.outerWidth();if(null!==i&&null!==o){var l,u,c,f=M(a),d=[],p=[],h=[],g=[];for(l=0;l<f.length;l++)u=e(f[l][i]),c=e(f[l][o]),d[l]=u.outerWidth(),h[l]=c.outerWidth(),p[l]=d[l]/s*100,g[l]=h[l]/s*100;for(l=0;l<f.length;l++){u=e(f[l][i]),c=e(f[l][o]);var m=(p[l]*(d[l]+r-n)/d[l]).toFixed(4);u.css("width",m+"%"),c.css("width",(p[l]+g[l]-m).toFixed(4)+"%")}}else{var v,b=a.parent(),y=s/b.width()*100,E=(parseInt(a.css("margin-left"),10)||0)/b.width()*100,$=(parseInt(a.css("margin-right"),10)||0)/b.width()*100;"rtl"==t.opts.direction&&0===o||"rtl"!=t.opts.direction&&0!==o?(v=(s+r-n)/s*y,a.css("margin-right","calc(100% - "+Math.round(v).toFixed(4)+"% - "+Math.round(E).toFixed(4)+"%)")):("rtl"==t.opts.direction&&0!==o||"rtl"!=t.opts.direction&&0===o)&&(v=(s-r+n)/s*y,a.css("margin-left","calc(100% - "+Math.round(v).toFixed(4)+"% - "+Math.round($).toFixed(4)+"%)")),a.css("width",Math.round(v).toFixed(4)+"%")}t.selection.restore(),t.undo.saveStep()}we.removeData("origin"),we.removeData("release-position"),we.removeData("first"),we.removeData("second"),we.removeData("table")}function ue(t,n){var r,i=e(n[0][t]).outerWidth();for(r=1;r<n.length;r++)i=Math.min(i,e(n[r][t]).outerWidth());return i}function ce(e,t,n){var r,i=0;for(r=e;r<=t;r++)i+=ue(r,n);return i}function fe(e){if(ve().length>1&&Se&&P(),Se===!1&&Ce===!1&&Ae===!1)Te&&clearTimeout(Te),t.edit.isDisabled()&&!t.popups.isVisible("table.edit")||(Te=setTimeout(ae,30,e));else if(Ae){var n=e.pageX-t.win.pageXOffset;t.opts.iframe&&(n+=t.$iframe.offset().left);var r=we.data("max-left"),i=we.data("max-right");n>=r&&n<=i?we.css("left",n-t.opts.tableResizerOffset):n<r&&parseFloat(we.css("left"),10)>r-t.opts.tableResizerOffset?we.css("left",r-t.opts.tableResizerOffset):n>i&&parseFloat(we.css("left"),10)<i-t.opts.tableResizerOffset&&we.css("left",i-t.opts.tableResizerOffset)}else Se&&te()}function de(n){t.node.isEmpty(n.get(0))?n.prepend(e.FE.MARKERS):n.prepend(e.FE.START_MARKER).append(e.FE.END_MARKER)}function pe(n){var r=n.which;if(r==e.FE.KEYCODE.TAB){var i;if(ve().length>0)i=t.$el.find(".fr-selected-cell:last");else{var o=t.selection.element();"TD"==o.tagName||"TH"==o.tagName?i=e(o):e(o).closest("td").length>0?i=e(o).closest("td"):e(o).closest("th").length>0&&(i=e(o).closest("th"))}if(i)return n.preventDefault(),q(),n.shiftKey?i.prev().length>0?de(i.prev()):i.closest("tr").length>0&&i.closest("tr").prev().length>0?de(i.closest("tr").prev().find("td:last")):i.closest("tbody").length>0&&i.closest("table").find("thead tr").length>0&&de(i.closest("table").find("thead tr th:last")):i.next().length>0?de(i.next()):i.closest("tr").length>0&&i.closest("tr").next().length>0?de(i.closest("tr").next().find("td:first")):i.closest("thead").length>0&&i.closest("table").find("tbody tr").length>0?de(i.closest("table").find("tbody tr td:first")):(i.addClass("fr-selected-cell"),y("below"),L(),de(i.closest("tr").next().find("td:first"))),t.selection.restore(),!1}}function he(){t.shared.$ti_helper||(t.shared.$ti_helper=e('<div class="fr-insert-helper"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+t.language.translate("Insert")+'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'),t.events.bindClick(t.shared.$ti_helper,"a",function(){var e=xe.data("selected-cell"),n=xe.data("position"),r=xe.data("instance")||t;"before"==n?(e.addClass("fr-selected-cell"),r.table.insertColumn(n),e.removeClass("fr-selected-cell")):"after"==n?(e.addClass("fr-selected-cell"),r.table.insertColumn(n),e.removeClass("fr-selected-cell")):"above"==n?(e.addClass("fr-selected-cell"),r.table.insertRow(n),e.removeClass("fr-selected-cell")):"below"==n&&(e.addClass("fr-selected-cell"),r.table.insertRow(n),e.removeClass("fr-selected-cell")),te()}),t.events.on("shared.destroy",function(){t.shared.$ti_helper.html("").removeData().remove(),t.shared.$ti_helper=null},!0),t.events.$on(t.shared.$ti_helper,"mousemove",function(e){e.stopPropagation()},!0),t.events.$on(e(t.o_win),"scroll",function(){te()},!0),t.events.$on(t.$wp,"scroll",function(){te()},!0)),xe=t.shared.$ti_helper,t.events.on("destroy",function(){xe=null}),t.tooltip.bind(t.$box,".fr-insert-helper > a.fr-floating-btn")}function ge(){_e=null,clearTimeout(Te)}function me(){ve().length>0?r():(t.popups.hide("table.insert"),t.toolbar.showInline())}function ve(){return t.el.querySelectorAll(".fr-selected-cell")}function be(){var n=ve();if(n.length){for(var r=n[0];r&&"TABLE"!=r.tagName&&r.parentNode!=t.el;)r=r.parentNode;return e(r&&"TABLE"==r.tagName?r:[])}return e([])}function ye(n){if(n.altKey&&n.which==e.FE.KEYCODE.SPACE){var i,o=t.selection.element();if("TD"==o.tagName||"TH"==o.tagName?i=o:e(o).closest("td").length>0?i=e(o).closest("td").get(0):e(o).closest("th").length>0&&(i=e(o).closest("th").get(0)),i)return n.preventDefault(),K(i,i),r(),!1}}function Ee(n){var r=ve();if(r.length>0){var i,o,a=M(),s=n.which;1==r.length?(i=r[0],o=i):(i=t.el.querySelector(".fr-cell-fixed"),o=t.el.querySelector(".fr-cell-handler"));var l=I(o,a);if(e.FE.KEYCODE.ARROW_RIGHT==s){if(l.col<a[0].length-1)return K(i,a[l.row][l.col+1]),!1}else if(e.FE.KEYCODE.ARROW_DOWN==s){if(l.row<a.length-1)return K(i,a[l.row+1][l.col]),!1}else if(e.FE.KEYCODE.ARROW_LEFT==s){if(l.col>0)return K(i,a[l.row][l.col-1]),!1}else if(e.FE.KEYCODE.ARROW_UP==s&&l.row>0)return K(i,a[l.row-1][l.col]),!1}}function $e(){if(!t.$wp)return!1;if(!t.helpers.isMobile()){Se=!1,Ce=!1,Ae=!1,t.events.$on(t.$el,"mousedown",V),t.popups.onShow("image.edit",function(){L(),Se=!1,Ce=!1}),t.popups.onShow("link.edit",function(){L(),Se=!1,Ce=!1}),t.events.on("commands.mousedown",function(e){e.parents(".fr-toolbar").length>0&&L()}),t.events.$on(t.$el,"mouseenter","th, td",W),t.events.$on(t.$win,"mouseup",z),t.opts.iframe&&t.events.$on(e(t.o_win),"mouseup",z),t.events.$on(t.$win,"mousemove",fe),t.events.$on(e(t.o_win),"scroll",se),t.events.on("contentChanged",function(){ve().length>0&&(r(),t.$el.find("img").on("load.selected-cells",function(){e(this).off("load.selected-cells"),ve().length>0&&r()}))}),t.events.$on(e(t.o_win),"resize",function(){L()}),t.events.on("toolbar.esc",function(){if(ve().length>0)return t.events.disableBlur(),t.events.focus(),!1},!0),t.events.$on(t.$el,"keydown",function(e){e.shiftKey?Ee(e)===!1&&setTimeout(function(){r()},0):J(e)}),t.events.on("keydown",function(n){if(pe(n)===!1)return!1;var r=ve();if(r.length>0){if(n.which==e.FE.KEYCODE.ESC&&t.popups.isVisible("table.edit"))return L(),t.popups.hide("table.edit"),n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),r=[],!1;if(r.length>1&&n.which==e.FE.KEYCODE.BACKSPACE){t.undo.saveStep();for(var i=0;i<r.length;i++)e(r[i]).html("<br>"),i==r.length-1&&e(r[i]).prepend(e.FE.MARKERS);return t.selection.restore(),t.undo.saveStep(),r=[],!1}if(r.length>1&&n.which!=e.FE.KEYCODE.F10&&!t.keys.isBrowserAction(n))return n.preventDefault(),r=[],!1}else if(r=[],ye(n)===!1)return!1},!0);var n=[];t.events.on("html.beforeGet",function(){n=ve();for(var e=0;e<n.length;e++)n[e].className=(n[e].className||"").replace(/fr-selected-cell/g,"")}),t.events.on("html.afterGet",function(){for(var e=0;e<n.length;e++)n[e].className=(n[e].className?n[e].className.trim()+" ":"")+"fr-selected-cell";n=[]}),a(!0),c(!0)}t.events.on("destroy",ge)}var we,xe,Ce,Se,_e,Te,Ae;return{_init:$e,insert:g,remove:m,insertRow:y,deleteRow:E,insertColumn:$,deleteColumn:w,mergeCells:T,splitCellVertically:O,splitCellHorizontally:A,addHeader:v,removeHeader:b,setBackground:k,showInsertPopup:n,showEditPopup:r,showColorsPopup:i,back:me,verticalAlign:N,horizontalAlign:D,applyStyle:R,selectedTable:be,selectedCells:ve}},e.FE.DefineIcon("insertTable",{NAME:"table"}),e.FE.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),e.FE.RegisterCommand("tableInsert",{callback:function(e,t,n){this.table.insert(t,n),this.popups.hide("table.insert")}}),e.FE.DefineIcon("tableHeader",{NAME:"header"}),e.FE.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){var e=this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]');e.hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(e){var t=this.table.selectedTable();t.length>0&&(0===t.find("th").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),e.FE.DefineIcon("tableRows",{NAME:"bars"}),e.FE.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below","delete":"Delete row"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableRows.options;for(var r in n)n.hasOwnProperty(r)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+r+'" title="'+this.language.translate(n[r])+'">'+this.language.translate(n[r])+"</a></li>");return t+="</ul>"},callback:function(e,t){"above"==t||"below"==t?this.table.insertRow(t):this.table.deleteRow()}}),e.FE.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90"}),e.FE.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after","delete":"Delete column"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableColumns.options;for(var r in n)n.hasOwnProperty(r)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'+r+'" title="'+this.language.translate(n[r])+'">'+this.language.translate(n[r])+"</a></li>");return t+="</ul>"},callback:function(e,t){"before"==t||"after"==t?this.table.insertColumn(t):this.table.deleteColumn()}}),e.FE.DefineIcon("tableCells",{NAME:"square-o"}),e.FE.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableCells.options;for(var r in n)n.hasOwnProperty(r)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'+r+'" title="'+this.language.translate(n[r])+'">'+this.language.translate(n[r])+"</a></li>");return t+="</ul>"},callback:function(e,t){"merge"==t?this.table.mergeCells():"vertical-split"==t?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(e,t){this.$el.find(".fr-selected-cell").length>1?(t.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="merge"]').removeClass("fr-disabled").attr("aria-disabled",!1)):(t.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),t.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled").attr("aria-disabled",!1))}}),e.FE.DefineIcon("tableRemove",{NAME:"trash"}),e.FE.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),e.FE.DefineIcon("tableStyle",{NAME:"paint-brush"}),e.FE.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(t,n){var r=this.$el.find(".fr-selected-cell").closest("table");r&&n.find(".fr-command").each(function(){var t=e(this).data("param1"),n=r.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}}),e.FE.DefineIcon("tableCellBackground",{NAME:"tint"}),e.FE.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,popup:!0,callback:function(){this.table.showColorsPopup()}}),e.FE.RegisterCommand("tableCellBackgroundColor",{undo:!0,focus:!1,callback:function(e,t){this.table.setBackground(t)}}),e.FE.DefineIcon("tableBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.table.back()},refresh:function(e){0!==this.table.selectedCells().length||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v"}),e.FE.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableCellVerticalAlign.options;for(var r in n)n.hasOwnProperty(r)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'+r.toLowerCase()+'" title="'+this.language.translate(n[r])+'">'+this.language.translate(r)+"</a></li>");return t+="</ul>"},callback:function(e,t){this.table.verticalAlign(t)},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),e.FE.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left"}),e.FE.DefineIcon("align-left",{NAME:"align-left"}),e.FE.DefineIcon("align-right",{NAME:"align-right"}),e.FE.DefineIcon("align-center",{NAME:"align-center"}),e.FE.DefineIcon("align-justify",{NAME:"align-justify"}),e.FE.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableCellHorizontalAlign.options;for(var r in n)n.hasOwnProperty(r)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'+r+'" title="'+this.language.translate(n[r])+'">'+this.icon.create("align-"+r)+'<span class="fr-sr-only">'+this.language.translate(n[r])+"</span></a></li>");return t+="</ul>"},callback:function(e,t){this.table.horizontalAlign(t)},refresh:function(t){var n=this.table.selectedCells();n.length&&t.find("> *:first").replaceWith(this.icon.create("align-"+this.helpers.getAlignment(e(n[0]))))},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))+'"]').addClass("fr-active").attr("aria-selected",!0)}}),e.FE.DefineIcon("tableCellStyle",{NAME:"magic"}),e.FE.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableCellStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(t,n){var r=this.$el.find(".fr-selected-cell:first");r&&n.find(".fr-command").each(function(){var t=e(this).data("param1"),n=r.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){e.extend(e.FE.POPUP_TEMPLATES,{"video.insert":"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_LAYER_][_PROGRESS_BAR_]","video.edit":"[_BUTTONS_]","video.size":"[_BUTTONS_][_SIZE_LAYER_]"}),e.extend(e.FE.DEFAULTS,{videoAllowedTypes:["mp4","webm","ogg"],videoDefaultAlign:"center",videoDefaultDisplay:"block",videoDefaultWidth:600,videoEditButtons:["videoReplace","videoRemove","|","videoDisplay","videoAlign","videoSize"],videoInsertButtons:["videoBack","|","videoByURL","videoEmbed","videoUpload"],videoMaxSize:52428800,videoMove:!0,videoResize:!0,videoSizeButtons:["videoBack","|"],videoSplitHTML:!1,videoTextNear:!0,videoUploadMethod:"POST",videoUploadParam:"file",videoUploadParams:{},videoUploadToS3:!1,videoUploadURL:"https://i.froala.com/upload"}),e.FE.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\??v?=?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?([0-9a-zA-Z_\-]+)(.+)?/g,url_text:"//www.youtube.com/embed/$1",html:'<iframe width="640" height="360" src="{url}?wmode=opaque" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:vimeo\.com)\/(?:channels\/[A-z]+\/|groups\/[A-z]+\/videos\/)?(.+)/g,url_text:"//player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"//www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>'},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"//rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>'}],e.FE.VIDEO_EMBED_REGEX=/^\W*((<iframe.*><\/iframe>)|(<embed.*>))\W*$/i,e.FE.PLUGINS.video=function(t){function n(){var e=t.popups.get("video.insert"),n=e.find(".fr-video-by-url-layer input");n.val("").trigger("change");var r=e.find(".fr-video-embed-layer textarea");r.val("").trigger("change"),r=e.find(".fr-video-upload-layer input"),r.val("").trigger("change")}function r(){var e=t.$tb.find('.fr-command[data-cmd="insertVideo"]'),n=t.popups.get("video.insert");if(n||(n=o()),h(),!n.hasClass("fr-active")){t.popups.refresh("video.insert"),t.popups.setContainer("video.insert",t.$tb);var r=e.offset().left+e.outerWidth()/2,i=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("video.insert",r,i,e.outerHeight())}}function i(){var e=t.popups.get("video.edit");if(e||(e=V()),e){t.popups.setContainer("video.edit",t.$sc),t.popups.refresh("video.edit");var n=ve.find("iframe, embed, video"),r=n.offset().left+n.outerWidth()/2,i=n.offset().top+n.outerHeight();t.popups.show("video.edit",r,i,n.outerHeight())}}function o(e){if(e)return t.popups.onRefresh("video.insert",n),t.popups.onHide("image.insert",ie),!0;var r="";t.opts.videoInsertButtons.length>1&&(r='<div class="fr-buttons">'+t.button.buildList(t.opts.videoInsertButtons)+"</div>");var i="";t.opts.videoInsertButtons.indexOf("videoByURL")>=0&&(i='<div class="fr-video-by-url-layer fr-layer fr-active" id="fr-video-by-url-layer-'+t.id+'"><div class="fr-input-line"><input id="fr-video-by-url-layer-text-'+t.id+'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2" role="button">'+t.language.translate("Insert")+"</button></div></div>");
var o="";t.opts.videoInsertButtons.indexOf("videoEmbed")>=0&&(o='<div class="fr-video-embed-layer fr-layer" id="fr-video-embed-layer-'+t.id+'"><div class="fr-input-line"><textarea id="fr-video-embed-layer-text'+t.id+'" type="text" placeholder="'+t.language.translate("Embedded Code")+'" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2" role="button">'+t.language.translate("Insert")+"</button></div></div>");var a="";t.opts.videoInsertButtons.indexOf("videoUpload")>=0&&(a='<div class="fr-video-upload-layer fr-layer" id="fr-video-upload-layer-'+t.id+'"><strong>'+t.language.translate("Drop video")+"</strong><br>("+t.language.translate("or click")+')<div class="fr-form"><input type="file" accept="video/'+t.opts.videoAllowedTypes.join(", video/").toLowerCase()+'" tabIndex="-1" aria-labelledby="fr-video-upload-layer-'+t.id+'" role="button"></div></div>');var s='<div class="fr-video-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="videoDismissError" tabIndex="2" role="button">OK</button></div></div>',l={buttons:r,by_url_layer:i,embed_layer:o,upload_layer:a,progress_bar:s},u=t.popups.create("video.insert",l);return K(u),u}function a(e){var n,r,i=t.popups.get("video.insert");if(!ve&&!t.opts.toolbarInline){var o=t.$tb.find('.fr-command[data-cmd="insertVideo"]');n=o.offset().left+o.outerWidth()/2,r=o.offset().top+(t.opts.toolbarBottom?10:o.outerHeight()-10)}t.opts.toolbarInline&&(r=i.offset().top-t.helpers.getPX(i.css("margin-top")),i.hasClass("fr-above")&&(r+=i.outerHeight())),i.find(".fr-layer").removeClass("fr-active"),i.find(".fr-"+e+"-layer").addClass("fr-active"),t.popups.show("video.insert",n,r,0),t.accessibility.focusPopup(i)}function s(e){var n=t.popups.get("video.insert");n.find(".fr-video-by-url-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)}function l(e){var n=t.popups.get("video.insert");n.find(".fr-video-embed-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)}function u(e){var n=t.popups.get("video.insert");n.find(".fr-video-upload-layer").hasClass("fr-active")&&e.addClass("fr-active").attr("aria-pressed",!0)}function c(e){t.events.focus(!0),t.selection.restore();var n=!1;ve&&(re(),n=!0),t.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video">'+e+"</span>",!1,t.opts.videoSplitHTML),t.popups.hide("video.insert");var r=t.$el.find(".fr-jiv");r.removeClass("fr-jiv"),oe(r,t.opts.videoDefaultDisplay,t.opts.videoDefaultAlign),r.toggleClass("fr-draggable",t.opts.videoMove),t.events.trigger(n?"video.replaced":"video.inserted",[r])}function f(){var n=e(this);t.popups.hide("video.insert"),n.removeClass("fr-uploading"),n.parent().next().is("br")&&n.parent().next().remove(),y(n.parent()),t.events.trigger("video.loaded",[n.parent()])}function d(e,n,r,i,o){t.edit.off(),g("Loading video"),n&&(e=t.helpers.sanitizeURL(e));var a=document.createElement("video");a.oncanplay=function(){var n,a;if(i){t.undo.canDo()||i.find("video").hasClass("fr-uploading")||t.undo.saveStep();var s=i.find("video").data("fr-old-src"),l=i.data("fr-replaced");i.data("fr-replaced",!1),t.$wp?(n=i.clone(),n.find("video").removeData("fr-old-src").removeClass("fr-uploading"),n.find("video").off("canplay"),s&&i.find("video").attr("src",s),i.replaceWith(n)):n=i;for(var u=n.find("video").get(0).attributes,c=0;c<u.length;c++){var d=u[c];0===d.nodeName.indexOf("data-")&&n.find("video").removeAttr(d.nodeName)}if("undefined"!=typeof r)for(a in r)r.hasOwnProperty(a)&&"link"!=a&&n.find("video").attr("data-"+a,r[a]);n.find("video").on("canplay",f),n.find("video").attr("src",e),t.edit.on(),R(),t.undo.saveStep(),t.$el.blur(),t.events.trigger(l?"video.replaced":"video.inserted",[n,o])}},a.onerror=function(){q(be)},p("Loading video"),a.src=e}function p(e){var n=t.popups.get("video.insert");if(n||(n=o()),n.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),n.find(".fr-video-progress-bar-layer").addClass("fr-active"),n.find(".fr-buttons").hide(),ve){var r=ve.find("video");t.popups.setContainer("video.insert",t.$sc);var i=r.offset().left+r.width()/2,a=r.offset().top+r.height();t.popups.show("video.insert",i,a,r.outerHeight())}"undefined"==typeof e&&g("Uploading",0)}function h(e){var n=t.popups.get("video.insert");if(n&&(n.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),n.find(".fr-video-progress-bar-layer").removeClass("fr-active"),n.find(".fr-buttons").show(),e||t.$el.find("video.fr-error").length)){if(t.events.focus(),t.$el.find("video.fr-error").length&&(t.$el.find("video.fr-error").parent().remove(),t.undo.saveStep(),t.undo.run(),t.undo.dropRedo()),!t.$wp&&ve){var r=ve;F(!0),t.selection.setAfter(r.find("video").get(0)),t.selection.restore()}t.popups.hide("video.insert")}}function g(e,n){var r=t.popups.get("video.insert");if(r){var i=r.find(".fr-video-progress-bar-layer");i.find("h3").text(e+(n?" "+n+"%":"")),i.removeClass("fr-error"),n?(i.find("div").removeClass("fr-indeterminate"),i.find("div > span").css("width",n+"%")):i.find("div").addClass("fr-indeterminate")}}function m(e){p();var n=t.popups.get("video.insert"),r=n.find(".fr-video-progress-bar-layer");r.addClass("fr-error");var i=r.find("h3");i.text(e),t.events.disableBlur(),i.focus()}function v(n){if("undefined"==typeof n){var r=t.popups.get("video.insert");n=r.find('.fr-video-by-url-layer input[type="text"]').val()||""}var i=null;if(t.helpers.isURL(n))for(var o=0;o<e.FE.VIDEO_PROVIDERS.length;o++){var a=e.FE.VIDEO_PROVIDERS[o];if(a.test_regex.test(n)){i=n.replace(a.url_regex,a.url_text),i=a.html.replace(/\{url\}/,i);break}}i?c(i):t.events.trigger("video.linkError",[n])}function b(n){if("undefined"==typeof n){var r=t.popups.get("video.insert");n=r.find(".fr-video-embed-layer textarea").val()||""}0!==n.length&&e.FE.VIDEO_EMBED_REGEX.test(n)?c(n):t.events.trigger("video.codeError",[n])}function y(e){I.call(e.get(0))}function E(n){try{if(t.events.trigger("video.uploaded",[n],!0)===!1)return t.edit.on(),!1;var r=e.parseJSON(n);return r.link?r:(q(ye,n),!1)}catch(i){return q($e,n),!1}}function $(n){try{var r=e(n).find("Location").text(),i=e(n).find("Key").text();return t.events.trigger("video.uploadedToS3",[r,i,n],!0)===!1?(t.edit.on(),!1):r}catch(o){return q($e,n),!1}}function w(e){g("Loading video");var n=this.status,r=this.response,i=this.responseXML,o=this.responseText;try{if(t.opts.videoUploadToS3)if(201==n){var a=$(i);a&&d(a,!1,[],e,r||i)}else q($e,r||i);else if(n>=200&&n<300){var s=E(o);s&&d(s.link,!1,s,e,r||o)}else q(Ee,r||o)}catch(l){q($e,r||o)}}function x(){q($e,this.response||this.responseText||this.responseXML)}function C(e){if(e.lengthComputable){var t=e.loaded/e.total*100|0;g("Uploading",t)}}function S(){t.edit.on(),h(!0)}function _(n,r,i){var o,a="";if(r&&"undefined"!=typeof r)for(o in r)r.hasOwnProperty(o)&&"link"!=o&&(a+=" data-"+o+'="'+r[o]+'"');var s=t.opts.videoDefaultWidth;s&&"auto"!=s&&(s+="px");var l=e('<span contenteditable="false" draggable="true" class="fr-video fr-dv'+t.opts.videoDefaultDisplay[0]+("center"!=t.opts.videoDefaultAlign?" fr-fv"+t.opts.videoDefaultAlign[0]:"")+'"><video src="'+n+'" '+a+(s?' style="width: '+s+';"':"")+'" controls>'+t.language.translate("Your browser does not support HTML5 video.")+"</video></span>");l.toggleClass("fr-draggable",t.opts.videoMove),l.find("video").on("canplay",i),t.edit.on(),t.events.focus(!0),t.selection.restore(),t.undo.saveStep(),t.opts.videoSplitHTML?t.markers.split():t.markers.insert();var u=t.$el.find(".fr-marker");return u.replaceWith(l),t.html.wrap(),t.selection.clear(),l}function T(n){if(!t.core.sameInstance(me))return!0;n.preventDefault(),n.stopPropagation();var r=n.pageX||(n.originalEvent.touches?n.originalEvent.touches[0].pageX:null),i=n.pageY||(n.originalEvent.touches?n.originalEvent.touches[0].pageY:null);return!(!r||!i)&&(t.undo.canDo()||t.undo.saveStep(),ge=e(this),ge.data("start-x",r),ge.data("start-y",i),he.show(),t.popups.hideAll(),void P())}function A(e){if(!t.core.sameInstance(me))return!0;if(ge){e.preventDefault();var n=e.pageX||(e.originalEvent.touches?e.originalEvent.touches[0].pageX:null),r=e.pageY||(e.originalEvent.touches?e.originalEvent.touches[0].pageY:null);if(!n||!r)return!1;var i=ge.data("start-x"),o=ge.data("start-y");ge.data("start-x",n),ge.data("start-y",r);var a=n-i,s=r-o,l=ve.find("iframe, embed, video"),u=l.width(),c=l.height();(ge.hasClass("fr-hnw")||ge.hasClass("fr-hsw"))&&(a=0-a),(ge.hasClass("fr-hnw")||ge.hasClass("fr-hne"))&&(s=0-s),l.css("width",u+a),l.css("height",c+s),l.removeAttr("width"),l.removeAttr("height"),M()}}function O(e){return!t.core.sameInstance(me)||void(ge&&ve&&(e&&e.stopPropagation(),ge=null,he.hide(),M(),i(),t.undo.saveStep()))}function k(e){return'<div class="fr-handler fr-h'+e+'"></div>'}function N(e,t,n,r){return e.pageX=t,e.pageY=t,T.call(this,e),e.pageX=e.pageX+n*Math.floor(Math.pow(1.1,r)),e.pageY=e.pageY+n*Math.floor(Math.pow(1.1,r)),A.call(this,e),O.call(this,e),++r}function D(){var n;if(t.shared.$video_resizer?(me=t.shared.$video_resizer,he=t.shared.$vid_overlay,t.events.on("destroy",function(){me.removeClass("fr-active").appendTo(e("body"))},!0)):(t.shared.$video_resizer=e('<div class="fr-video-resizer"></div>'),me=t.shared.$video_resizer,t.events.$on(me,"mousedown",function(e){e.stopPropagation()},!0),t.opts.videoResize&&(me.append(k("nw")+k("ne")+k("sw")+k("se")),t.shared.$vid_overlay=e('<div class="fr-video-overlay"></div>'),he=t.shared.$vid_overlay,n=me.get(0).ownerDocument,e(n).find("body").append(he))),t.events.on("shared.destroy",function(){me.html("").removeData().remove(),me=null,t.opts.videoResize&&(he.remove(),he=null)},!0),t.helpers.isMobile()||t.events.$on(e(t.o_win),"resize.video",function(){F(!0)}),t.opts.videoResize){n=me.get(0).ownerDocument,t.events.$on(me,t._mousedown,".fr-handler",T),t.events.$on(e(n),t._mousemove,A),t.events.$on(e(n.defaultView||n.parentWindow),t._mouseup,O),t.events.$on(he,"mouseleave",O);var r=1,i=null,o=0;t.events.on("keydown",function(n){if(ve){var a=navigator.userAgent.indexOf("Mac OS X")!=-1?n.metaKey:n.ctrlKey,s=n.which;(s!==i||n.timeStamp-o>200)&&(r=1),(s==e.FE.KEYCODE.EQUALS||t.browser.mozilla&&s==e.FE.KEYCODE.FF_EQUALS)&&a&&!n.altKey?r=N.call(this,n,1,1,r):(s==e.FE.KEYCODE.HYPHEN||t.browser.mozilla&&s==e.FE.KEYCODE.FF_HYPHEN)&&a&&!n.altKey&&(r=N.call(this,n,2,-1,r)),i=s,o=n.timeStamp}}),t.events.on("keyup",function(){r=1})}}function R(){var n,r=Array.prototype.slice.call(t.el.querySelectorAll("video")),i=[];for(n=0;n<r.length;n++)i.push(r[n].getAttribute("src")),e(r[n]).toggleClass("fr-draggable",t.opts.videoMove),""===r[n].getAttribute("class")&&r[n].removeAttribute("class"),""===r[n].getAttribute("style")&&r[n].removeAttribute("style");if(_e)for(n=0;n<_e.length;n++)i.indexOf(_e[n].getAttribute("src"))<0&&t.events.trigger("video.removed",[e(_e[n])]);_e=r}function M(){me||D(),(t.$wp||t.$sc).append(me),me.data("instance",t);var e=ve.find("iframe, embed, video");me.css("top",(t.opts.iframe?e.offset().top-1:e.offset().top-t.$wp.offset().top-1)+t.$wp.scrollTop()).css("left",(t.opts.iframe?e.offset().left-1:e.offset().left-t.$wp.offset().left-1)+t.$wp.scrollLeft()).css("width",e.outerWidth()).css("height",e.height()).addClass("fr-active")}function I(n){if(n&&"touchend"==n.type&&Te)return!0;if(n&&t.edit.isDisabled())return n.stopPropagation(),n.preventDefault(),!1;if(t.edit.isDisabled())return!1;for(var r=0;r<e.FE.INSTANCES.length;r++)e.FE.INSTANCES[r]!=t&&e.FE.INSTANCES[r].events.trigger("video.hideResizer");t.toolbar.disable(),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur()),ve=e(this),e(this).addClass("fr-active"),t.opts.iframe&&t.size.syncIframe(),ce(),M(),i(),t.selection.clear(),t.button.bulkRefresh(),t.events.trigger("image.hideResizer")}function F(e){ve&&(B()||e===!0)&&(me.removeClass("fr-active"),t.toolbar.enable(),ve.removeClass("fr-active"),ve=null,P())}function L(){t.shared.vid_exit_flag=!0}function P(){t.shared.vid_exit_flag=!1}function B(){return t.shared.vid_exit_flag}function j(n,r,i){function o(){var i=e(this);i.off("canplay"),i.addClass("fr-uploading"),i.parent().next().is("br")&&i.parent().next().remove(),t.placeholder.refresh(),i.parent().is(ve)||y(i.parent()),M(),p(),t.edit.off(),n.onload=function(){w.call(n,i.parent())},n.onerror=x,n.upload.onprogress=C,n.onabort=S,i.off("abortUpload").on("abortUpload",function(){4!=n.readyState&&n.abort()}),n.send(r)}var a,s=new FileReader;s.addEventListener("load",function(){for(var e=s.result,n=atob(s.result.split(",")[1]),r=[],i=0;i<n.length;i++)r.push(n.charCodeAt(i));if(e=window.URL.createObjectURL(new Blob([new Uint8Array(r)],{type:"video/mp4"})),ve){ve.data("fr-replaced",!0);var l=ve.find("video");l.length?(l.on("canplay",o),t.edit.on(),t.undo.saveStep(),l.data("fr-old-src",l.attr("src")),l.attr("src",e)):(re(),a=_(e,null,o))}else a=_(e,null,o)},!1),s.readAsDataURL(i)}function U(e){if("undefined"!=typeof e&&e.length>0){if(t.events.trigger("video.beforeUpload",[e])===!1)return!1;var n=e[0];if(n.size>t.opts.videoMaxSize)return q(we),!1;if(t.opts.videoAllowedTypes.indexOf(n.type.replace(/video\//g,""))<0)return q(xe),!1;var r;if(t.drag_support.formdata&&(r=t.drag_support.formdata?new FormData:null),r){var i;if(t.opts.videoUploadToS3!==!1){r.append("key",t.opts.videoUploadToS3.keyStart+(new Date).getTime()+"-"+(n.name||"untitled")),r.append("success_action_status","201"),r.append("X-Requested-With","xhr"),r.append("Content-Type",n.type);for(i in t.opts.videoUploadToS3.params)t.opts.videoUploadToS3.params.hasOwnProperty(i)&&r.append(i,t.opts.videoUploadToS3.params[i])}for(i in t.opts.videoUploadParams)t.opts.videoUploadParams.hasOwnProperty(i)&&r.append(i,t.opts.videoUploadParams[i]);r.append(t.opts.videoUploadParam,n);var o=t.opts.videoUploadURL;t.opts.videoUploadToS3&&(o=t.opts.videoUploadToS3.uploadURL?t.opts.videoUploadToS3.uploadURL:"https://"+t.opts.videoUploadToS3.region+".amazonaws.com/"+t.opts.videoUploadToS3.bucket);var a=t.core.getXHR(o,t.opts.videoUploadMethod);j(a,r,n)}}}function K(n){t.events.$on(n,"dragover dragenter",".fr-video-upload-layer",function(){return e(this).addClass("fr-drop"),!1}),t.events.$on(n,"dragleave dragend",".fr-video-upload-layer",function(){return e(this).removeClass("fr-drop"),!1}),t.events.$on(n,"drop",".fr-upload-upload-layer",function(r){r.preventDefault(),r.stopPropagation(),e(this).removeClass("fr-drop");var i=r.originalEvent.dataTransfer;if(i&&i.files){var o=n.data("instance")||t;o.events.disableBlur(),o.video.upload(i.files),o.events.enableBlur()}}),t.events.$on(n,"change",'.fr-video-upload-layer input[type="file"]',function(){if(this.files){var r=n.data("instance")||t;r.events.disableBlur(),n.find("input:focus").blur(),r.events.enableBlur(),r.video.upload(this.files)}e(this).val("")})}function H(){t.events.on("mousedown window.mousedown",L),t.events.on("window.touchmove",P),t.events.on("mouseup window.mouseup",F),t.events.on("commands.mousedown",function(e){e.parents(".fr-toolbar").length>0&&F()}),t.events.on("blur video.hideResizer commands.undo commands.redo element.dropped",function(){F(!0)})}function q(e,n){t.edit.on(),ve&&ve.find("video").addClass("fr-error"),m(t.language.translate("Something went wrong. Please try again.")),t.events.trigger("video.error",[{code:e,message:Se[e]},n])}function V(){var e="";if(t.opts.videoEditButtons.length>0){e+='<div class="fr-buttons">',e+=t.button.buildList(t.opts.videoEditButtons),e+="</div>";var n={buttons:e},r=t.popups.create("video.edit",n);return t.events.$on(t.$wp,"scroll.video-edit",function(){ve&&t.popups.isVisible("video.edit")&&(t.events.disableBlur(),y(ve))}),r}return!1}function z(){if(ve){var e=t.popups.get("video.size"),n=ve.find("iframe, embed, video");e.find('input[name="width"]').val(n.get(0).style.width||n.attr("width")).trigger("change"),e.find('input[name="height"]').val(n.get(0).style.height||n.attr("height")).trigger("change")}}function W(){var e=t.popups.get("video.size");e||(e=G()),h(),t.popups.refresh("video.size"),t.popups.setContainer("video.size",t.$sc);var n=ve.find("iframe, embed, video"),r=n.offset().left+n.width()/2,i=n.offset().top+n.height();t.popups.show("video.size",r,i,n.height())}function G(e){if(e)return t.popups.onRefresh("video.size",z),!0;var n="";n='<div class="fr-buttons">'+t.button.buildList(t.opts.videoSizeButtons)+"</div>";var r="";r='<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'+t.id+'"><div class="fr-video-group"><div class="fr-input-line"><input id="fr-video-size-layer-width-'+t.id+'" type="text" name="width" placeholder="'+t.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-video-size-layer-height-'+t.id+'" type="text" name="height" placeholder="'+t.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2" role="button">'+t.language.translate("Update")+"</button></div></div>";var i={buttons:n,size_layer:r},o=t.popups.create("video.size",i);return t.events.$on(t.$wp,"scroll",function(){ve&&t.popups.isVisible("video.size")&&(t.events.disableBlur(),y(ve))}),o}function Y(e){if("undefined"==typeof e&&(e=ve),e){if(e.hasClass("fr-fvl"))return"left";if(e.hasClass("fr-fvr"))return"right";if(e.hasClass("fr-dvb")||e.hasClass("fr-dvi"))return"center";if("block"==e.css("display")){if("left"==e.css("text-algin"))return"left";if("right"==e.css("text-align"))return"right"}else{if("left"==e.css("float"))return"left";if("right"==e.css("float"))return"right"}}return"center"}function X(e){ve.removeClass("fr-fvr fr-fvl"),!t.opts.htmlUntouched&&t.opts.useClasses?"left"==e?ve.addClass("fr-fvl"):"right"==e&&ve.addClass("fr-fvr"):oe(ve,Z(),e),M(),i()}function Q(e){return!!ve&&void e.find("> *:first").replaceWith(t.icon.create("video-align-"+Y()))}function J(e,t){ve&&t.find('.fr-command[data-param1="'+Y()+'"]').addClass("fr-active").attr("aria-selected",!0)}function Z(e){"undefined"==typeof e&&(e=ve);var t=e.css("float");return e.css("float","none"),"block"==e.css("display")?(e.css("float",""),e.css("float")!=t&&e.css("float",t),"block"):(e.css("float",""),e.css("float")!=t&&e.css("float",t),"inline")}function ee(e){ve.removeClass("fr-dvi fr-dvb"),!t.opts.htmlUntouched&&t.opts.useClasses?"inline"==e?ve.addClass("fr-dvi"):"block"==e&&ve.addClass("fr-dvb"):oe(ve,e,Y()),M(),i()}function te(e,t){ve&&t.find('.fr-command[data-param1="'+Z()+'"]').addClass("fr-active").attr("aria-selected",!0)}function ne(){var e=t.popups.get("video.insert");e||(e=o()),t.popups.isVisible("video.insert")||(h(),t.popups.refresh("video.insert"),t.popups.setContainer("video.insert",t.$sc));var n=ve.offset().left+ve.width()/2,r=ve.offset().top+ve.height();t.popups.show("video.insert",n,r,ve.outerHeight())}function re(){if(ve&&t.events.trigger("video.beforeRemove",[ve])!==!1){var e=ve;t.popups.hideAll(),F(!0),t.selection.setBefore(e.get(0))||t.selection.setAfter(e.get(0)),e.remove(),t.selection.restore(),t.html.fillEmptyBlocks(),t.events.trigger("video.removed",[e])}}function ie(){h()}function oe(e,n,r){!t.opts.htmlUntouched&&t.opts.useClasses?(e.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),e.addClass("fr-fv"+r[0]+" fr-dv"+n[0])):"inline"==n?(e.css({display:"inline-block"}),"center"==r?e.css({"float":"none"}):"left"==r?e.css({"float":"left"}):e.css({"float":"right"})):(e.css({display:"block",clear:"both"}),"left"==r?e.css({textAlign:"left"}):"right"==r?e.css({textAlign:"right"}):e.css({textAlign:"center"}))}function ae(e){e.hasClass("fr-dvi")||e.hasClass("fr-dvb")||(e.addClass("fr-fi"+Y(e)[0]),e.addClass("fr-di"+Z(e)[0]))}function se(e){var t=e.hasClass("fr-dvb")?"block":e.hasClass("fr-dvi")?"inline":null,n=e.hasClass("fr-fvl")?"left":e.hasClass("fr-fvr")?"right":Y(e);oe(e,t,n),e.removeClass("fr-dvb fr-dvi fr-fvr fr-fvl")}function le(){t.$el.find("video").filter(function(){return 0===e(this).parents("span.fr-video").length}).wrap('<span class="fr-video" contenteditable="false"></span>'),t.$el.find("embed, iframe").filter(function(){if(t.browser.safari&&this.getAttribute("src")&&this.setAttribute("src",this.src),e(this).parents("span.fr-video").length>0)return!1;for(var n=e(this).attr("src"),r=0;r<e.FE.VIDEO_PROVIDERS.length;r++){var i=e.FE.VIDEO_PROVIDERS[r];if(i.test_regex.test(n))return!0}return!1}).map(function(){return 0===e(this).parents("object").length?this:e(this).parents("object").get(0)}).wrap('<span class="fr-video" contenteditable="false"></span>');for(var n=t.$el.find("span.fr-video, video"),r=0;r<n.length;r++){var i=e(n[r]);!t.opts.htmlUntouched&&t.opts.useClasses?(ae(i),t.opts.videoTextNear||i.removeClass("fr-dvi").addClass("fr-dvb")):t.opts.htmlUntouched||t.opts.useClasses||se(i)}n.toggleClass("fr-draggable",t.opts.videoMove)}function ue(){H(),t.helpers.isMobile()&&(t.events.$on(t.$el,"touchstart","span.fr-video",function(){Te=!1}),t.events.$on(t.$el,"touchmove",function(){Te=!0})),t.events.on("html.set",le),le(),t.events.$on(t.$el,"mousedown","span.fr-video",function(e){e.stopPropagation()}),t.events.$on(t.$el,"click touchend","span.fr-video",I),t.events.on("keydown",function(n){var r=n.which;return!ve||r!=e.FE.KEYCODE.BACKSPACE&&r!=e.FE.KEYCODE.DELETE?ve&&r==e.FE.KEYCODE.ESC?(F(!0),n.preventDefault(),!1):ve&&r!=e.FE.KEYCODE.F10&&!t.keys.isBrowserAction(n)?(n.preventDefault(),!1):void 0:(n.preventDefault(),re(),!1)},!0),t.events.on("toolbar.esc",function(){if(ve)return t.events.disableBlur(),t.events.focus(),!1},!0),t.events.on("toolbar.focusEditor",function(){if(ve)return!1},!0),t.events.on("keydown",function(){t.$el.find("span.fr-video:empty").remove()}),o(!0),G(!0)}function ce(){if(ve){t.selection.clear();var e=t.doc.createRange();e.selectNode(ve.get(0));var n=t.selection.get();n.addRange(e)}}function fe(){ve?(t.events.disableBlur(),ve.trigger("click")):(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),t.popups.hide("video.insert"),t.toolbar.showInline())}function de(e,n){if(ve){var r=t.popups.get("video.size"),i=ve.find("iframe, embed, video");i.css("width",e||r.find('input[name="width"]').val()),i.css("height",n||r.find('input[name="height"]').val()),i.get(0).style.width&&i.removeAttr("width"),i.get(0).style.height&&i.removeAttr("height"),r.find("input:focus").blur(),setTimeout(function(){ve.trigger("click")},t.helpers.isAndroid()?50:0)}}function pe(){return ve}var he,ge,me,ve,be=1,ye=2,Ee=3,$e=4,we=5,xe=6,Ce=7,Se={};Se[be]="Video cannot be loaded from the passed link.",Se[ye]="No link in upload response.",Se[Ee]="Error during file upload.",Se[$e]="Parsing response failed.",Se[we]="File is too large.",Se[xe]="Video file type is invalid.",Se[Ce]="Files can be uploaded only to same domain in IE 8 and IE 9.";var _e,Te;return t.shared.vid_exit_flag=!1,{_init:ue,showInsertPopup:r,showLayer:a,refreshByURLButton:s,refreshEmbedButton:l,refreshUploadButton:u,upload:U,insertByURL:v,insertEmbed:b,insert:c,align:X,refreshAlign:Q,refreshAlignOnShow:J,display:ee,refreshDisplayOnShow:te,remove:re,hideProgressBar:h,showSizePopup:W,replace:ne,back:fe,setSize:de,get:pe}},e.FE.RegisterCommand("insertVideo",{title:"Insert Video",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("video.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("video.insert")):this.video.showInsertPopup()},plugin:"video"}),e.FE.DefineIcon("insertVideo",{NAME:"video-camera"}),e.FE.DefineIcon("videoByURL",{NAME:"link"}),e.FE.RegisterCommand("videoByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-by-url")},refresh:function(e){this.video.refreshByURLButton(e)}}),e.FE.DefineIcon("videoEmbed",{NAME:"code"}),e.FE.RegisterCommand("videoEmbed",{title:"Embedded Code",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-embed")},refresh:function(e){this.video.refreshEmbedButton(e)}}),e.FE.DefineIcon("videoUpload",{NAME:"upload"}),e.FE.RegisterCommand("videoUpload",{title:"Upload Video",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-upload")},refresh:function(e){this.video.refreshUploadButton(e)}}),e.FE.RegisterCommand("videoInsertByURL",{undo:!0,focus:!0,callback:function(){this.video.insertByURL()}}),e.FE.RegisterCommand("videoInsertEmbed",{undo:!0,focus:!0,callback:function(){this.video.insertEmbed()}}),e.FE.DefineIcon("videoDisplay",{NAME:"star"}),e.FE.RegisterCommand("videoDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.video.display(t)},refresh:function(e){this.opts.videoTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.video.refreshDisplayOnShow(e,t)}}),e.FE.DefineIcon("video-align",{NAME:"align-left"}),e.FE.DefineIcon("video-align-left",{NAME:"align-left"}),e.FE.DefineIcon("video-align-right",{NAME:"align-right"}),e.FE.DefineIcon("video-align-center",{NAME:"align-justify"}),e.FE.DefineIcon("videoAlign",{NAME:"align-center"}),e.FE.RegisterCommand("videoAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.videoAlign.options;for(var r in n)n.hasOwnProperty(r)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="videoAlign" data-param1="'+r+'" title="'+this.language.translate(n[r])+'">'+this.icon.create("video-align-"+r)+'<span class="fr-sr-only">'+this.language.translate(n[r])+"</span></a></li>");return t+="</ul>"},callback:function(e,t){this.video.align(t)},refresh:function(e){this.video.refreshAlign(e)},refreshOnShow:function(e,t){this.video.refreshAlignOnShow(e,t)}}),e.FE.DefineIcon("videoReplace",{NAME:"exchange"}),e.FE.RegisterCommand("videoReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.video.replace()}}),e.FE.DefineIcon("videoRemove",{NAME:"trash"}),e.FE.RegisterCommand("videoRemove",{title:"Remove",callback:function(){this.video.remove()}}),e.FE.DefineIcon("videoSize",{NAME:"arrows-alt"}),e.FE.RegisterCommand("videoSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.video.showSizePopup()}}),e.FE.DefineIcon("videoBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("videoBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.video.back()},refresh:function(e){var t=this.video.get();t||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.RegisterCommand("videoDismissError",{title:"OK",undo:!1,callback:function(){this.video.hideProgressBar(!0)}}),e.FE.RegisterCommand("videoSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.video.setSize()}})}),function(e){"use strict";function t(e){return $(e)?void(E(e.objectMaxDepth)&&(ti.objectMaxDepth=n(e.objectMaxDepth)?e.objectMaxDepth:NaN)):ti}function n(e){return C(e)&&e>0}function r(e,t){t=t||Error;var n="https://errors.angularjs.org/1.6.10/",r=n.replace(".","\\.")+"[\\s\\S]*",i=new RegExp(r,"g");return function(){var r,o,a=arguments[0],s=arguments[1],l="["+(e?e+":":"")+a+"] ",u=W(arguments,2).map(function(e){return Se(e,ti.objectMaxDepth)});for(l+=s.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<u.length?u[t].replace(i,""):e}),l+="\n"+n+(e?e+"/":"")+a,o=0,r="?";o<u.length;o++,r="&")l+=r+"p"+o+"="+encodeURIComponent(u[o]);return new t(l)}}function i(e){if(null==e||O(e))return!1;if(wi(e)||x(e)||ci&&e instanceof ci)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function o(e,t,n){var r,a;if(e)if(T(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(wi(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;r<a;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(w(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)ii.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function l(){return++Ei}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if($(a)||T(a))for(var s=Object.keys(a),l=0,f=s.length;l<f;l++){var d=s[l],p=a[d];n&&$(p)?S(p)?e[d]=new Date(p.valueOf()):A(p)?e[d]=new RegExp(p):p.nodeName?e[d]=p.cloneNode(!0):P(p)?e[d]=p.clone():($(e[d])||(e[d]=wi(p)?[]:{}),c(e[d],[p],!0)):e[d]=p}}return u(e,r),e}function f(e){return c(e,pi.call(arguments,1),!1)}function d(e){return c(e,pi.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function h(e,t){return f(Object.create(e),t)}function g(){}function m(e){return e}function v(e){return function(){return e}}function b(e){return T(e.toString)&&e.toString!==mi}function y(e){return"undefined"==typeof e}function E(e){return"undefined"!=typeof e}function $(e){return null!==e&&"object"==typeof e}function w(e){return null!==e&&"object"==typeof e&&!vi(e)}function x(e){return"string"==typeof e}function C(e){return"number"==typeof e}function S(e){return"[object Date]"===mi.call(e)}function _(e){var t=mi.call(e);switch(t){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}function T(e){return"function"==typeof e}function A(e){return"[object RegExp]"===mi.call(e)}function O(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function N(e){return"[object File]"===mi.call(e)}function D(e){return"[object FormData]"===mi.call(e)}function R(e){return"[object Blob]"===mi.call(e)}function M(e){return"boolean"==typeof e}function I(e){return e&&T(e.then)}function F(e){return e&&C(e.length)&&xi.test(mi.call(e))}function L(e){return"[object ArrayBuffer]"===mi.call(e)}function P(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function B(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function j(e){return oi(e.nodeName||e[0]&&e[0].nodeName)}function U(e,t){return Array.prototype.indexOf.call(e,t)!==-1}function K(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function H(e,t,r){function i(e,t,n){if(n--,n<0)return"...";var r,i=t.$$hashKey;if(wi(e))for(var o=0,s=e.length;o<s;o++)t.push(a(e[o],n));else if(w(e))for(r in e)t[r]=a(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=a(e[r],n));else for(r in e)ii.call(e,r)&&(t[r]=a(e[r],n));return u(t,i),t}function a(e,t){if(!$(e))return e;var n=l.indexOf(e);if(n!==-1)return c[n];if(O(e)||k(e))throw bi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=s(e);return void 0===o&&(o=wi(e)?[]:Object.create(vi(e)),r=!0),l.push(e),c.push(o),r?i(e,o,t):o}function s(e){switch(mi.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(a(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);
return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(T(e.cloneNode))return e.cloneNode(!0)}var l=[],c=[];if(r=n(r)?r:NaN,t){if(F(t)||L(t))throw bi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw bi("cpi","Can't copy! Source and destination are identical.");return wi(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),l.push(e),c.push(t),i(e,t,r)}return a(e,r)}function q(e,t){return e===t||e!==e&&t!==t}function V(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o===a&&"object"===o){if(!wi(e)){if(S(e))return!!S(t)&&q(e.getTime(),t.getTime());if(A(e))return!!A(t)&&e.toString()===t.toString();if(k(e)||k(t)||O(e)||O(t)||wi(t)||S(t)||A(t))return!1;i=Ee();for(r in e)if("$"!==r.charAt(0)&&!T(e[r])){if(!V(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&E(t[r])&&!T(t[r]))return!1;return!0}if(!wi(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!V(e[r],t[r]))return!1;return!0}}return!1}function z(e,t,n){return e.concat(pi.call(t,n))}function W(e,t){return pi.call(e,t||0)}function G(e,t){var n=arguments.length>2?W(arguments,2):[];return!T(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,z(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function Y(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:O(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":k(n)&&(r="$SCOPE"),r}function X(e,t){if(!y(e))return C(t)||(t=t?2:null),JSON.stringify(e,Y,t)}function Q(e){return x(e)?JSON.parse(e):e}function J(e,t){e=e.replace(Ai,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return $i(n)?t:n}function Z(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function ee(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=J(t,r);return Z(e,n*(i-r))}function te(e){e=ci(e).clone().empty();var t=ci("<div></div>").append(e).html();try{return e[0].nodeType===Ii?oi(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+oi(t)})}catch(n){return oi(t)}}function ne(e){try{return decodeURIComponent(e)}catch(t){}}function re(e){var t={};return o((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(r=e.substring(0,n),i=e.substring(n+1)),r=ne(r),E(r)&&(i=!E(i)||ne(i),ii.call(t,r)?wi(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function ie(e){var t=[];return o(e,function(e,n){wi(e)?o(e,function(e){t.push(ae(n,!0)+(e===!0?"":"="+ae(e,!0)))}):t.push(ae(n,!0)+(e===!0?"":"="+ae(e,!0)))}),t.length?t.join("&"):""}function oe(e){return ae(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ae(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function se(e,t){var n,r,i=Oi.length;for(r=0;r<i;++r)if(n=Oi[r]+t,x(n=e.getAttribute(n)))return n;return null}function le(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var r=n.attributes,i=[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")];return i.every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}function ue(t,n){var r,i,a={};if(o(Oi,function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,i=t.getAttribute(n))}),o(Oi,function(e){var n,o=e+"app";!r&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!ki)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==se(r,"strict-di"),n(r,i?[i]:[],a)}}function ce(t,n,r){$(r)||(r={});var i={strictDi:!1};r=f(i,r);var a=function(){if(t=ci(t),t.injector()){var i=t[0]===e.document?"document":te(t);throw bi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=dt(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),yi.resumeBootstrap=function(e){return o(e,function(e){n.push(e)}),a()},void(T(yi.resumeDeferredBootstrap)&&yi.resumeDeferredBootstrap()))}function fe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function de(e){var t=yi.element(e).injector();if(!t)throw bi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function pe(e,t){return t=t||"_",e.replace(Ni,function(e,n){return(n?t:"")+e.toLowerCase()})}function he(){var t;if(!Di){var n=Ti();fi=y(n)?e.jQuery:n?e[n]:void 0,fi&&fi.fn.on?(ci=fi,f(fi.fn,{scope:Ji.scope,isolateScope:Ji.isolateScope,controller:Ji.controller,injector:Ji.injector,inheritedData:Ji.inheritedData}),t=fi.cleanData,fi.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=fi._data(r,"events"),n&&n.$destroy&&fi(r).triggerHandler("$destroy");t(e)}):ci=Le,yi.element=ci,Di=!0}}function ge(e,t,n){if(!e)throw bi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function me(e,t,n){return n&&wi(e)&&(e=e[e.length-1]),ge(T(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ve(e,t){if("hasOwnProperty"===e)throw bi("badname","hasOwnProperty is not a valid {0} name",t)}function be(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&T(e)?G(o,e):e}function ye(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=ci(pi.call(e,0,i))),t.push(n));return t||e}function Ee(){return Object.create(null)}function $e(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!b(e)||wi(e)||S(e)?X(e):e.toString()}return e}function we(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s={},l=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return l(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=l),function(){return r[n||"push"]([e,t,arguments]),d}}function t(e,t,n){return n||(n=l),function(i,o){return o&&T(o)&&(o.$$moduleName=r),n.push([e,t,arguments]),d}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var l=[],u=[],c=[],f=e("$injector","invoke","push",u),d={_invokeQueue:l,_configBlocks:u,_runBlocks:c,info:function(e){if(E(e)){if(!$(e))throw i("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",u),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:f,run:function(e){return c.push(e),this}};return a&&f(a),d})}})}function xe(e,t){if(wi(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if($(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function Ce(e,t){var r=[];return n(t)&&(e=yi.copy(e,null,t)),JSON.stringify(e,function(e,t){if(t=Y(e,t),$(t)){if(r.indexOf(t)>=0)return"...";r.push(t)}return t})}function Se(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):y(e)?"undefined":"string"!=typeof e?Ce(e,t):e}function _e(n){f(n,{errorHandlingConfig:t,bootstrap:ce,copy:H,extend:f,merge:d,equals:V,element:ci,forEach:o,injector:dt,noop:g,bind:G,toJson:X,fromJson:Q,identity:m,isUndefined:y,isDefined:E,isString:x,isFunction:T,isObject:$,isNumber:C,isElement:P,isArray:wi,version:Bi,isDate:S,lowercase:oi,uppercase:ai,callbacks:{$$counter:0},getTestability:de,reloadWithDebugInfo:fe,$$minErr:r,$$csp:_i,$$encodeUriSegment:oe,$$encodeUriQuery:ae,$$stringify:$e}),di=we(e),di("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Fn}),e.provider("$compile",xt).directive({a:ua,input:Oa,textarea:Oa,form:ga,script:xs,select:_s,option:Ts,ngBind:Da,ngBindHtml:Ma,ngBindTemplate:Ra,ngClass:Fa,ngClassEven:Pa,ngClassOdd:La,ngCloak:Ba,ngController:ja,ngForm:ma,ngHide:ms,ngIf:Ha,ngInclude:qa,ngInit:za,ngNonBindable:ss,ngPluralize:fs,ngRepeat:ds,ngShow:gs,ngStyle:vs,ngSwitch:bs,ngSwitchWhen:ys,ngSwitchDefault:Es,ngOptions:cs,ngTransclude:ws,ngModel:is,ngList:Wa,ngChange:Ia,pattern:Os,ngPattern:Os,required:As,ngRequired:As,minlength:Ns,ngMinlength:Ns,maxlength:ks,ngMaxlength:ks,ngValue:Na,ngModelOptions:as}).directive({ngInclude:Va}).directive(ca).directive(Ua),e.provider({$anchorScroll:pt,$animate:vo,$animateCss:Eo,$$animateJs:go,$$animateQueue:mo,$$AnimateRunner:yo,$$animateAsyncRun:bo,$browser:yt,$cacheFactory:Et,$controller:Ot,$document:kt,$$isDocumentHidden:Nt,$exceptionHandler:Dt,$filter:Zn,$$forceReflow:To,$interpolate:zt,$interval:Wt,$http:Kt,$httpParamSerializer:Mt,$httpParamSerializerJQLike:It,$httpBackend:qt,$xhrFactory:Ht,$jsonpCallbacks:Io,$location:cn,$log:fn,$parse:Tn,$rootScope:In,$q:An,$$q:On,$sce:Un,$sceDelegate:jn,$sniffer:Kn,$templateCache:$t,$templateRequest:Hn,$$testability:qn,$timeout:Vn,$window:Xn,$$rAF:Mn,$$jqLite:ot,$$Map:io,$$cookieReader:Jn})}]).info({angularVersion:"1.6.10"})}function Te(){return++Ui}function Ae(e){return ke(e.replace(Hi,"ms-"))}function Oe(e,t){return t.toUpperCase()}function ke(e){return e.replace(Ki,Oe)}function Ne(e){return!Wi.test(e)}function De(e){var t=e.nodeType;return t===Ri||!t||t===Li}function Re(e){for(var t in ji[e.ng339])return!0;return!1}function Me(e,t){var n,r,i,a,s=t.createDocumentFragment(),l=[];if(Ne(e))l.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),r=(Gi.exec(e)||["",""])[1].toLowerCase(),i=Xi[r]||Xi._default,n.innerHTML=i[1]+e.replace(Yi,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=z(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(e){s.appendChild(e)}),s}function Ie(t,n){n=n||e.document;var r;return(r=zi.exec(t))?[n.createElement(r[1])]:(r=Me(t,n))?r.childNodes:[]}function Fe(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Le(e){if(e instanceof Le)return e;var t;if(x(e)&&(e=Ci(e),t=!0),!(this instanceof Le)){if(t&&"<"!==e.charAt(0))throw Vi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Le(e)}t?We(this,Ie(e)):T(e)?Ze(e):We(this,e)}function Pe(e){return e.cloneNode(!0)}function Be(e,t){!t&&De(e)&&ci.cleanData([e]),e.querySelectorAll&&ci.cleanData(e.querySelectorAll("*"))}function je(e,t,n,r){if(E(r))throw Vi("offargs","jqLite#off() does not support the `selector` argument");var i=Ke(e),a=i&&i.events,s=i&&i.handle;if(s)if(t){var l=function(t){var r=a[t];E(n)&&K(r||[],n),E(n)&&r&&r.length>0||(e.removeEventListener(t,s),delete a[t])};o(t.split(" "),function(e){l(e),qi[e]&&l(qi[e])})}else for(t in a)"$destroy"!==t&&e.removeEventListener(t,s),delete a[t]}function Ue(e,t){var n=e.ng339,r=n&&ji[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),je(e)),delete ji[n],e.ng339=void 0}}function Ke(e,t){var n=e.ng339,r=n&&ji[n];return t&&!r&&(e.ng339=n=Te(),r=ji[n]={events:{},data:{},handle:void 0}),r}function He(e,t,n){if(De(e)){var r,i=E(n),o=!i&&t&&!$(t),a=!t,s=Ke(e,!o),l=s&&s.data;if(i)l[ke(t)]=n;else{if(a)return l;if(o)return l&&l[ke(t)];for(r in t)l[ke(r)]=t[r]}}}function qe(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Ve(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;o(t.split(" "),function(e){e=Ci(e),r=r.replace(" "+e+" "," ")}),r!==n&&e.setAttribute("class",Ci(r))}}function ze(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;o(t.split(" "),function(e){e=Ci(e),r.indexOf(" "+e+" ")===-1&&(r+=e+" ")}),r!==n&&e.setAttribute("class",Ci(r))}}function We(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Ge(e,t){return Ye(e,"$"+(t||"ngController")+"Controller")}function Ye(e,t,n){e.nodeType===Li&&(e=e.documentElement);for(var r=wi(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(E(n=ci.data(e,r[i])))return n;e=e.parentNode||e.nodeType===Pi&&e.host}}function Xe(e){for(Be(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Qe(e,t){t||Be(e);var n=e.parentNode;n&&n.removeChild(e)}function Je(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):ci(n).on("load",t)}function Ze(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function et(e,t){var n=Zi[t.toLowerCase()];return n&&eo[j(e)]&&n}function tt(e){return to[e]}function nt(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||rt;o>1&&(i=xe(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function rt(e,t,n){n.call(e,t)}function it(e,t,n){var r=t.relatedTarget;r&&(r===e||Qi.call(e,r))||n.call(e,t)}function ot(){this.$get=function(){return f(Le,{hasClass:function(e,t){return e.attr&&(e=e[0]),qe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),ze(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ve(e,t)}})}}function at(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function st(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function lt(e){return Function.prototype.toString.call(e)}function ut(e){var t=lt(e).replace(uo,""),n=t.match(oo)||t.match(ao);return n}function ct(e){var t=ut(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ft(e,t,n){var r,i,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw x(n)&&n||(n=e.name||ct(e)),co("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=ut(e),o(i[1].split(so),function(e){e.replace(lo,function(e,t,n){r.push(n)})})}e.$inject=r}}else wi(e)?(a=e.length-1,me(e[a],"fn"),r=e.slice(0,a)):me(e,"fn",!0);return r}function dt(e,t){function n(e){return function(t,n){return $(t)?void o(t,s(e)):e(t,n)}}function r(e,t){if(ve(e,"service"),(T(t)||wi(t))&&(t=w.instantiate(t)),!t.$get)throw co("pget","Provider '{0}' must define $get factory method.",e);return E[e+g]=t}function i(e,t){return function(){var n=_.invoke(t,this);if(y(n))throw co("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function a(e,t,n){return r(e,{$get:n!==!1?i(e,t):t})}function l(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return a(e,v(t),!1)}function c(e,t){ve(e,"constant"),E[e]=t,C[e]=t}function f(e,t){var n=w.get(e+g),r=n.$get;n.$get=function(){var e=_.invoke(r,n);return _.invoke(t,null,{$delegate:e})}}function d(e){ge(y(e)||wi(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=w.get(r[0]);i[r[1]].apply(i,r[2])}}if(!b.get(e)){b.set(e,!0);try{x(e)?(t=di(e),_.modules[e]=t,n=n.concat(d(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):T(e)?n.push(w.invoke(e)):wi(e)?n.push(w.invoke(e)):me(e,"module")}catch(i){throw wi(e)&&(e=e[e.length-1]),i.message&&i.stack&&i.stack.indexOf(i.message)===-1&&(i=i.message+"\n"+i.stack),co("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function p(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===h)throw co("cdep","Circular dependency found: {0}",t+" <- "+m.join(" <- "));return e[t]}try{return m.unshift(t),e[t]=h,e[t]=n(t,r),e[t]}catch(i){throw e[t]===h&&delete e[t],i}finally{m.shift()}}function i(e,n,i){for(var o=[],a=dt.$$annotate(e,t,i),s=0,l=a.length;s<l;s++){var u=a[s];if("string"!=typeof u)throw co("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}function o(e){if(ui||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return M(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(lt(e))),t}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=i(e,n,r);return wi(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=wi(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:dt.$$annotate,has:function(t){return E.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var h={},g="Provider",m=[],b=new ro,E={$provide:{provider:n(r),factory:n(a),service:n(l),value:n(u),constant:n(c),decorator:f}},w=E.$injector=p(E,function(e,t){throw yi.isString(t)&&m.push(t),co("unpr","Unknown provider: {0}",m.join(" <- "))}),C={},S=p(C,function(e,t){var n=w.get(e+g,t);return _.invoke(n.$get,n,void 0,e)}),_=S;E["$injector"+g]={$get:v(S)},_.modules=w.modules=Ee();var A=d(e);return _=S.get("$injector"),_.strictDi=t,o(A,function(e){e&&_.invoke(e)}),_.loadNewModules=function(e){o(d(e),function(e){e&&_.invoke(e)})},_}function pt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===j(e))return t=e,!0}),t}function o(){var e=s.yOffset;if(T(e))e=e();else if(P(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else C(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=x(e)?e:C(e)?e.toString():n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=i(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Je(function(){r.$evalAsync(s)})}),s}]}function ht(e,t){return e||t?e?t?(wi(e)&&(e=e.join(" ")),wi(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function gt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===po)return n}}function mt(e){x(e)&&(e=e.split(" "));var t=Ee();return o(e,function(e){e.length&&(t[e]=!0)}),t}function vt(e){return $(e)?e:{}}function bt(e,t,n,r){function i(e){try{e.apply(null,W(arguments,1))}finally{if(v--,0===v)for(;b.length;)try{b.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function s(){C=null,u()}function l(){E=S(),E=y(E)?null:E,V(E,A)&&(E=A),A=E,$=E}function u(){var e=$;l(),w===c.url()&&e===E||(w=c.url(),$=E,o(_,function(e){e(c.url(),E)}))}var c=this,f=e.location,d=e.history,p=e.setTimeout,h=e.clearTimeout,m={};c.isMock=!1;var v=0,b=[];c.$$completeOutstandingRequest=i,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(e){0===v?e():b.push(e)};var E,$,w=f.href,x=t.find("base"),C=null,S=r.history?function(){try{return d.state}catch(e){}}:g;l(),c.url=function(t,n,i){if(y(i)&&(i=null),f!==e.location&&(f=e.location),d!==e.history&&(d=e.history),t){var o=$===i;if(w===t&&(!r.history||o))return c;var s=w&&en(w)===en(t);return w=t,$=i,!r.history||s&&o?(s||(C=t),n?f.replace(t):s?f.hash=a(t):f.href=t,f.href!==t&&(C=t)):(d[n?"replaceState":"pushState"](i,"",t),l()),C&&(C=t),c}return C||f.href.replace(/%27/g,"'")},c.state=function(){return E};var _=[],T=!1,A=null;c.onUrlChange=function(t){return T||(r.history&&ci(e).on("popstate",s),ci(e).on("hashchange",s),T=!0),_.push(t),t},c.$$applicationDestroyed=function(){ci(e).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var e=x.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return v++,n=p(function(){delete m[n],i(e)},t||0),m[n]=!0,n},c.defer.cancel=function(e){return!!m[e]&&(delete m[e],h(e),i(g),!0)}}function yt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new bt(e,r,t,n)}]}function Et(){this.$get=function(){function e(e,n){function i(e){e!==d&&(p?p===e&&(p=e.n):p=e,o(e.n,e.p),o(e,d),d=e,d.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=f({},n,{id:e}),l=Ee(),u=n&&n.capacity||Number.MAX_VALUE,c=Ee(),d=null,p=null;return t[e]={put:function(e,t){if(!y(t)){if(u<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}return e in l||a++,l[e]=t,a>u&&this.remove(p.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;t===d&&(d=t.p),t===p&&(p=t.n),o(t.n,t.p),delete c[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=Ee(),a=0,c=Ee(),d=p=null},destroy:function(){l=null,s=null,c=null,delete t[e]},info:function(){return f({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function $t(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function wt(){}function xt(t,n){function r(e,t,n){var r=/^([@&<]|=(\*?))(\??)\s*([\w$]*)$/,i=Ee();return o(e,function(e,o){if(e=e.trim(),e in A)return void(i[o]=A[e]);var a=e.match(r);if(!a)throw $o("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(A[e]=i[o])}),i}function i(e,t){var n={isolateScope:null,bindToController:null};if($(e.scope)&&(e.bindToController===!0?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),$(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw $o("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function a(e){var t=e.charAt(0);if(!t||t!==oi(t))throw $o("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw $o("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!wi(t)&&$(t)&&o(t,function(e,n){var r=e.match(C),i=e.substring(r[0].length);i||(t[n]=r[0]+n)}),t}function u(e,t){if(e&&(!x(e)||!/[EACM]/.test(e)))throw $o("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var c={},d="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,b=/(([\w-]+)(?::([^;]+))?;?)/,w=B("ngSrc,ngSrcset,src,srcset"),C=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,A=Ee();this.directive=function L(e,n){return ge(e,"name"),ve(e,"directive"),x(e)?(a(e),ge(n,"directiveFactory"),c.hasOwnProperty(e)||(c[e]=[],t.factory(e+d,["$injector","$exceptionHandler",function(t,n){var r=[];return o(c[e],function(i,o){try{var a=t.invoke(i);T(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=l(a),a.restrict=u(a.restrict,e),a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),c[e].push(n)):o(e,s(L)),this},this.component=function P(e,t){function n(e){function n(t){return T(t)||wi(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=t.template||t.templateUrl?t.template:"",a={controller:r,controllerAs:At(t.controller)||t.controllerAs||"$ctrl",template:n(i),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return o(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}if(!x(e))return o(e,s(G(this,P))),this;var r=t.controller||function(){};return o(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,T(r)&&(r[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return E(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return E(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var O=!0;this.debugInfoEnabled=function(e){return E(e)?(O=e,this):O};var N=!1;this.preAssignBindingsEnabled=function(e){return E(e)?(N=e,this):N};var D=!1;this.strictComponentBindingsEnabled=function(e){return E(e)?(D=e,this):D};var R=10;this.onChangesTtl=function(e){return arguments.length?(R=e,this):R};var I=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(I=e,this):I};var F=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(F=e,this):F},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,r,a,s,l,u,v,A,L){function P(){try{if(!--Re)throw Te=void 0,$o("infchng","{0} $onChanges() iterations reached. Aborting!\n",R);u.$apply(function(){for(var e=0,t=Te.length;e<t;++e)try{Te[e]()}catch(n){r(n)}Te=void 0})}finally{Re++}}function B(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function U(e,t,n){Oe.innerHTML="<span "+t+">";var r=Oe.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function H(e,t){try{e.addClass(t)}catch(n){}}function z(e,t,n,r,i){e instanceof ci||(e=ci(e));var o=X(e,t,e,n,r,i);z.$$addScopeClass(e);var a=null;return function(t,n,r){if(!e)throw $o("multilink","This element has already been linked.");ge(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,l=r.transcludeControllers,u=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=Y(u));var c;if(c="html"!==a?ci(be(a,ci("<div></div>").append(e).html())):n?Ji.clone.call(e):e,l)for(var f in l)c.data("$"+f+"Controller",l[f].instance);return z.$$addScopeInfo(c,t),n&&n(c,t),o&&o(t,c,c,s),n||(e=o=null),c}}function Y(e){var t=e&&e[0];return t&&"foreignobject"!==j(t)&&mi.call(t).match(/SVG/)?"svg":"html"}function X(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,l,u,c,f,d,g;if(p){var m=n.length;for(g=new Array(m),u=0;u<h.length;u+=3)f=h[u],g[f]=n[f]}else g=n;for(u=0,c=h.length;u<c;)s=g[h[u++]],o=h[u++],a=h[u++],o?(o.scope?(l=e.$new(),z.$$addScopeInfo(ci(s),l)):l=e,d=o.transcludeOnThisElement?J(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?J(e,t):null,o(a,l,s,r,d)):a&&a(e,s.childNodes,void 0,i)}for(var s,l,u,c,f,d,p,h=[],g=wi(e)||e instanceof ci,m=0;m<e.length;m++)s=new B,11===ui&&Q(e,m,g),l=Z(e[m],[],s,0===m?r:void 0,i),u=l.length?oe(l,e[m],s,t,n,null,[],[],o):null,u&&u.scope&&z.$$addScopeClass(s.$$element),f=u&&u.terminal||!(c=e[m].childNodes)||!c.length?null:X(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||f)&&(h.push(m,u,f),d=!0,p=p||u),o=null;return d?a:null}function Q(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===Ii)for(;;){if(r=o?i.nextSibling:e[t+1],!r||r.nodeType!==Ii)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}}function J(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=Ee();for(var o in t.$$slots)t.$$slots[o]?i[o]=J(e,t.$$slots[o],n):i[o]=null;return r}function Z(e,t,n,r,i){var o,a,s,l=e.nodeType,u=n.$attr;switch(l){case Ri:a=j(e),ue(t,St(a),"E",r,i);for(var c,f,d,p,h,g,m=e.attributes,v=0,y=m&&m.length;v<y;v++){var E=!1,w=!1;c=m[v],f=c.name,h=c.value,p=St(f),g=Le.test(p),g&&(f=f.replace(xo,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=p.match(Be);C&&ce(C[1])&&(E=f,w=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),d=St(f.toLowerCase()),u[d]=f,!g&&n.hasOwnProperty(d)||(n[d]=h,et(e,d)&&(n[d]=!0)),$e(e,t,h,d,g),ue(t,d,"A",r,i,E,w)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!De)break;if(s=e.className,$(s)&&(s=s.animVal),x(s)&&""!==s)for(;o=b.exec(s);)d=St(o[2]),ue(t,d,"C",r,i)&&(n[d]=Ci(o[3])),s=s.substr(o.index+o[0].length);break;case Ii:ve(t,e.nodeValue);break;case Fi:if(!ke)break;ee(e,t,n,r,i)}return t.sort(he),t}function ee(e,t,n,r,i){try{var o=p.exec(e.nodeValue);if(o){var a=St(o[1]);ue(t,a,"M",r,i)&&(n[a]=Ci(o[2]))}}catch(s){}}function ne(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw $o("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===Ri&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return ci(r)}function re(e,t,n){return function(r,i,o,a,s){return i=ne(i[0],t,n),e(r,i,o,a,s)}}function ie(e,t,n,r,i,o){var a;return e?z(t,n,r,i,o):function(){return a||(a=z(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function oe(e,t,n,i,a,s,l,u,c){function d(e,t,n,r){e&&(n&&(e=re(e,n,r)),e.require=h.require,e.directiveName=g,(C===h||h.$$isolateScope)&&(e=xe(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=re(t,n,r)),t.require=h.require,t.directiveName=g,(C===h||h.$$isolateScope)&&(t=xe(t,{isolateScope:!0})),u.push(t))}function p(e,i,a,s,c){function d(e,t,n,r){var i;if(k(e)||(r=n,n=t,t=e,e=void 0),D&&(i=b),n||(n=D?_.parent():_),!r)return c(e,t,i,n,P);var o=c.$$slots[r];if(o)return o(e,t,i,n,P);if(y(o))throw $o("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,te(_))}var p,h,g,m,v,b,E,_,A,O;t===a?(A=n,_=n.$$element):(_=ci(a),A=new B(_,n)),v=i,C?m=i.$new(!0):w&&(v=i.$parent),c&&(E=d,E.$$boundTransclude=c,E.isSlotFilled=function(e){return!!c.$$slots[e]}),x&&(b=se(_,A,E,x,m,i,C)),C&&(z.$$addScopeInfo(_,m,!0,!(S&&(S===C||S===C.$$originalDirective))),z.$$addScopeClass(_,!0),m.$$isolateBindings=C.$$isolateBindings,O=_e(i,A,m,m.$$isolateBindings,C),O.removeWatches&&m.$on("$destroy",O.removeWatches));for(var R in b){var M=x[R],I=b[R],F=M.$$bindings.bindToController;if(N){F?I.bindingInfo=_e(v,A,I.instance,F,M):I.bindingInfo={};var L=I();L!==I.instance&&(I.instance=L,_.data("$"+M.name+"Controller",L),I.bindingInfo.removeWatches&&I.bindingInfo.removeWatches(),I.bindingInfo=_e(v,A,I.instance,F,M))}else I.instance=I(),_.data("$"+M.name+"Controller",I.instance),I.bindingInfo=_e(v,A,I.instance,F,M)}for(o(x,function(e,t){var n=e.require;e.bindToController&&!wi(n)&&$(n)&&f(b[t].instance,ae(t,n,_,b))}),o(b,function(e){
var t=e.instance;if(T(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){r(n)}if(T(t.$onInit))try{t.$onInit()}catch(n){r(n)}T(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),T(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),p=0,h=l.length;p<h;p++)g=l[p],Ce(g,g.isolateScope?m:i,_,A,g.require&&ae(g.directiveName,g.require,_,b),E);var P=i;for(C&&(C.template||null===C.templateUrl)&&(P=m),e&&e(P,a.childNodes,void 0,c),p=u.length-1;p>=0;p--)g=u[p],Ce(g,g.isolateScope?m:i,_,A,g.require&&ae(g.directiveName,g.require,_,b),E);o(b,function(e){var t=e.instance;T(t.$postLink)&&t.$postLink()})}c=c||{};for(var h,g,m,v,b,E=-Number.MAX_VALUE,w=c.newScopeDirective,x=c.controllerDirectives,C=c.newIsolateScopeDirective,S=c.templateDirective,_=c.nonTlbTranscludeDirective,A=!1,O=!1,D=c.hasElementTranscludeDirective,R=n.$$element=ci(t),M=s,I=i,F=!1,L=!1,P=0,U=e.length;P<U;P++){h=e[P];var K=h.$$start,H=h.$$end;if(K&&(R=ne(t,K,H)),m=void 0,E>h.priority)break;if(b=h.scope,b&&(h.templateUrl||($(b)?(me("new/isolated scope",C||w,h,R),C=h):me("new/isolated scope",C,h,R)),w=w||h),g=h.name,!F&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var q,V=P+1;q=e[V++];)if(q.transclude&&!q.$$tlb||q.replace&&(q.templateUrl||q.template)){L=!0;break}F=!0}if(!h.templateUrl&&h.controller&&(x=x||Ee(),me("'"+g+"' controller",x[g],h,R),x[g]=h),b=h.transclude)if(A=!0,h.$$tlb||(me("transclusion",_,h,R),_=h),"element"===b)D=!0,E=h.priority,m=R,R=n.$$element=ci(z.$$createComment(g,n[g])),t=R[0],we(a,W(m),t),m[0].$$parentNode=m[0].parentNode,I=ie(L,m,i,E,M&&M.name,{nonTlbTranscludeDirective:_});else{var Y=Ee();if($(b)){m=[];var X=Ee(),Q=Ee();o(b,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,X[e]=t,Y[t]=null,Q[t]=n}),o(R.contents(),function(e){var t=X[St(j(e))];t?(Q[t]=!0,Y[t]=Y[t]||[],Y[t].push(e)):m.push(e)}),o(Q,function(e,t){if(!e)throw $o("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var J in Y)Y[J]&&(Y[J]=ie(L,Y[J],i))}else m=ci(Pe(t)).contents();R.empty(),I=ie(L,m,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),I.$$slots=Y}if(h.template)if(O=!0,me("template",S,h,R),S=h,b=T(h.template)?h.template(R,n):h.template,b=Fe(b),h.replace){if(M=h,m=Ne(b)?[]:Tt(be(h.templateNamespace,Ci(b))),t=m[0],1!==m.length||t.nodeType!==Ri)throw $o("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");we(a,R,t);var ee={$attr:{}},oe=Z(t,[],ee),ue=e.splice(P+1,e.length-(P+1));(C||w)&&le(oe,C,w),e=e.concat(oe).concat(ue),fe(n,ee),U=e.length}else R.html(b);if(h.templateUrl)O=!0,me("template",S,h,R),S=h,h.replace&&(M=h),p=de(e.splice(P,e.length-P),R,n,a,A&&I,l,u,{controllerDirectives:x,newScopeDirective:w!==h&&w,newIsolateScopeDirective:C,templateDirective:S,nonTlbTranscludeDirective:_}),U=e.length;else if(h.compile)try{v=h.compile(R,n,I);var ce=h.$$originalDirective||h;T(v)?d(null,G(ce,v),K,H):v&&d(G(ce,v.pre),G(ce,v.post),K,H)}catch(pe){r(pe,te(R))}h.terminal&&(p.terminal=!0,E=Math.max(E,h.priority))}return p.scope=w&&w.scope===!0,p.transcludeOnThisElement=A,p.templateOnThisElement=O,p.transclude=I,c.hasElementTranscludeDirective=D,p}function ae(e,t,n,r){var i;if(x(t)){var a=t.match(C),s=t.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var c="$"+s+"Controller";i=l?n.inheritedData(c):n.data(c)}if(!i&&!u)throw $o("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(wi(t)){i=[];for(var f=0,d=t.length;f<d;f++)i[f]=ae(e,t[f],n,r)}else $(t)&&(i={},o(t,function(t,o){i[o]=ae(e,t,n,r)}));return i||null}function se(e,t,n,r,i,o,a){var s=Ee();for(var u in r){var c=r[u],f={$scope:c===a||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]);var p=l(d,f,!0,c.controllerAs);s[c.name]=p,e.data("$"+c.name+"Controller",p.instance)}return s}function le(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=h(e[r],{$$isolateScope:t,$$newScope:n})}function ue(e,n,r,o,a,s,l){if(n===a)return null;var u=null;if(c.hasOwnProperty(n))for(var f,p=t.get(n+d),g=0,m=p.length;g<m;g++)if(f=p[g],(y(o)||o>f.priority)&&f.restrict.indexOf(r)!==-1){if(s&&(f=h(f,{$$start:s,$$end:l})),!f.$$bindings){var v=f.$$bindings=i(f,f.name);$(v.isolateScope)&&(f.$$isolateBindings=v.isolateScope)}e.push(f),u=f}return u}function ce(e){if(c.hasOwnProperty(e))for(var n,r=t.get(e+d),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function fe(e,t){var n=t.$attr,r=e.$attr;o(e,function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r.length?r+=("style"===i?";":" ")+t[i]:r=t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function de(e,t,n,i,s,l,u,c){var f,d,p=[],g=t[0],m=e.shift(),v=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),b=T(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,y=m.templateNamespace;return t.empty(),a(b).then(function(r){var a,h,E,w;if(r=Fe(r),m.replace){if(E=Ne(r)?[]:Tt(be(y,Ci(r))),a=E[0],1!==E.length||a.nodeType!==Ri)throw $o("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,b);h={$attr:{}},we(i,t,a);var x=Z(a,[],h);$(m.scope)&&le(x,!0),e=x.concat(e),fe(n,h)}else a=g,t.html(r);for(e.unshift(v),f=oe(e,a,n,s,t,m,l,u,c),o(i,function(e,n){e===a&&(i[n]=t[0])}),d=X(t[0].childNodes,s);p.length;){var C=p.shift(),S=p.shift(),_=p.shift(),T=p.shift(),A=t[0];if(!C.$$destroyed){if(S!==g){var O=S.className;c.hasElementTranscludeDirective&&m.replace||(A=Pe(a)),we(_,ci(S),A),H(ci(A),O)}w=f.transcludeOnThisElement?J(C,f.transclude,T):T,f(d,C,A,i,w)}}p=null})["catch"](function(e){_(e)&&r(e)}),function(e,t,n,r,i){var o=i;t.$$destroyed||(p?p.push(t,n,r,o):(f.transcludeOnThisElement&&(o=J(t,f.transclude,i)),f(d,t,n,r,o)))}}function he(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function me(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw $o("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,te(r))}function ve(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&z.$$addBindingClass(t),function(e,t){var i=t.parent();n||z.$$addBindingClass(i),z.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function be(t,n){switch(t=oi(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function ye(e,t){if("srcdoc"===t)return v.HTML;var n=j(e);if("src"===t||"ngSrc"===t){if(["img","video","audio","source","track"].indexOf(n)===-1)return v.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return v.RESOURCE_URL}function $e(e,t,r,i,o){var a=ye(e,i),s=!o,l=w[i]||o,u=n(r,s,a,l);if(u){if("multiple"===i&&"select"===j(e))throw $o("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",te(e));if(S.test(i))throw $o("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=Ee()),c=o[i];c!==r&&(u=c&&n(c,!0,a,l),r=c),u&&(o[i]=u(e),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(u,function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function we(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===a){t[i++]=r;for(var u=i,c=u+s-1,f=t.length;u<f;u++,c++)c<f?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var d=e.document.createDocumentFragment();for(i=0;i<s;i++)d.appendChild(n[i]);for(ci.hasData(a)&&(ci.data(r,ci.data(a)),ci(a).off("$destroy")),ci.cleanData(d.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function xe(e,t){return f(function(){return e.apply(null,arguments)},e,t)}function Ce(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(s){r(s,te(n))}}function Se(e,t){if(D)throw $o("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function _e(e,t,r,i,a){function l(t,n,i){T(r.$onChanges)&&!q(n,i)&&(Te||(e.$$postDigest(P),Te=[]),c||(c={},Te.push(u)),c[t]&&(i=c[t].previousValue),c[t]=new Ct(i,n))}function u(){r.$onChanges(c),c=void 0}var c,f=[],d={};return o(i,function(i,o){var u,c,p,h,m,v=i.attrName,b=i.optional,y=i.mode;switch(y){case"@":b||ii.call(t,v)||(Se(v,a.name),r[o]=t[v]=void 0),m=t.$observe(v,function(e){if(x(e)||M(e)){var t=r[o];l(o,e,t),r[o]=e}}),t.$$observers[v].$$scope=e,u=t[v],x(u)?r[o]=n(u)(e):M(u)&&(r[o]=u),d[o]=new Ct(wo,r[o]),f.push(m);break;case"=":if(!ii.call(t,v)){if(b)break;Se(v,a.name),t[v]=void 0}if(b&&!t[v])break;c=s(t[v]),h=c.literal?V:q,p=c.assign||function(){throw u=r[o]=c(e),$o("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},u=r[o]=c(e);var E=function(t){return h(t,r[o])||(h(t,u)?p(e,t=r[o]):r[o]=t),u=t};E.$stateful=!0,m=i.collection?e.$watchCollection(t[v],E):e.$watch(s(t[v],E),null,c.literal),f.push(m);break;case"<":if(!ii.call(t,v)){if(b)break;Se(v,a.name),t[v]=void 0}if(b&&!t[v])break;c=s(t[v]);var $=c.literal,w=r[o]=c(e);d[o]=new Ct(wo,r[o]),m=e.$watch(c,function(e,t){if(t===e){if(t===w||$&&V(t,w))return;t=w}l(o,e,t),r[o]=e},$),f.push(m);break;case"&":if(b||ii.call(t,v)||Se(v,a.name),c=t.hasOwnProperty(v)?s(t[v]):g,c===g&&b)break;r[o]=function(t){return c(e,t)}}}),{initialChanges:d,removeWatches:f.length&&function(){for(var e=0,t=f.length;e<t;++e)f[e]()}}}var Te,Ae=/^\w/,Oe=e.document.createElement("div"),ke=I,De=F,Re=R;B.prototype={$normalize:St,$addClass:function(e){e&&e.length>0&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=_t(e,t);n&&n.length&&A.addClass(this.$$element,n);var r=_t(t,e);r&&r.length&&A.removeClass(this.$$element,r)},$set:function(e,t,n,i){var a,s=this.$$element[0],l=et(s,e),u=tt(e),c=e;if(l?(this.$$element.prop(e,t),i=l):u&&(this[u]=t,c=u),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=pe(e,"-"))),a=j(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=null==t?t:L(t,"src"===e);else if("img"===a&&"srcset"===e&&E(t)){for(var f="",d=Ci(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(d)?p:/(,)/,g=d.split(h),m=Math.floor(g.length/2),v=0;v<m;v++){var b=2*v;f+=L(Ci(g[b]),!0),f+=" "+Ci(g[b+1])}var y=Ci(g[2*v]).split(/\s/);f+=L(Ci(y[0]),!0),2===y.length&&(f+=" "+Ci(y[1])),this[e]=t=f}n!==!1&&(null==t?this.$$element.removeAttr(i):Ae.test(i)?this.$$element.attr(i,t):U(this.$$element[0],i,t));var $=this.$$observers;$&&o($[c],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=Ee()),i=r[e]||(r[e]=[]);return i.push(t),u.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||y(n[e])||t(n[e])}),function(){K(i,t)}}};var Me=n.startSymbol(),Ie=n.endSymbol(),Fe="{{"===Me&&"}}"===Ie?m:function(e){return e.replace(/\{\{/g,Me).replace(/}}/g,Ie)},Le=/^ngAttr[A-Z]/,Be=/^(.+)Start$/;return z.$$addBindingInfo=O?function(e,t){var n=e.data("$binding")||[];wi(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:g,z.$$addBindingClass=O?function(e){H(e,"ng-binding")}:g,z.$$addScopeInfo=O?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:g,z.$$addScopeClass=O?function(e,t){H(e,t?"ng-isolate-scope":"ng-scope")}:g,z.$$createComment=function(t,n){var r="";return O&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},z}]}function Ct(e,t){this.previousValue=e,this.currentValue=t}function St(e){return e.replace(xo,"").replace(Co,function(e,t,n){return n?t.toUpperCase():t})}function _t(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function Tt(e){e=ci(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===Fi||n.nodeType===Ii&&""===n.nodeValue.trim())&&hi.call(e,t,1)}return e}function At(e,t){if(t&&x(t))return t;if(x(e)){var n=_o.exec(e);if(n)return n[3]}}function Ot(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){ve(t,"controller"),$(t)?f(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,i){function o(e,t,n,i){if(!e||!$(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,a,s,l){var u,c,d,p;if(s=s===!0,l&&x(l)&&(p=l),x(r)){if(c=r.match(_o),!c)throw So("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(d=c[1],p=p||c[3],r=e.hasOwnProperty(d)?e[d]:be(a.$scope,d,!0)||(t?be(i,d,!0):void 0),!r)throw So("ctrlreg","The controller with the name '{0}' is not registered.",d);me(r,d,!0)}if(s){var h=(wi(r)?r[r.length-1]:r).prototype;return u=Object.create(h||null),p&&o(a,p,u,d||r.name),f(function(){var e=n.invoke(r,u,a,d);return e!==u&&($(e)||T(e))&&(u=e,p&&o(a,p,u,d||r.name)),u},{instance:u,identifier:p})}return u=n.instantiate(r,a,d),p&&o(a,p,u,d||r.name),u}}]}function kt(){this.$get=["$window",function(e){return ci(e.document)}]}function Nt(){this.$get=["$document","$rootScope",function(e,t){function n(){i=r.hidden}var r=e[0],i=r&&r.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return i}}]}function Dt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Rt(e){return $(e)?S(e)?e.toISOString():X(e):e}function Mt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||y(e)||T(e)||(wi(e)?o(e,function(e){t.push(ae(n)+"="+ae(Rt(e)))}):t.push(ae(n)+"="+ae(Rt(e))))}),t.join("&")}}}function It(){this.$get=function(){return function(e){function t(e,r,i){null===e||y(e)||(wi(e)?o(e,function(e,n){t(e,r+"["+($(e)?n:"")+"]")}):$(e)&&!S(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(ae(r)+"="+ae(Rt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Ft(e,t){if(x(e)){var n=e.replace(Do,"").trim();if(n){var r=t("Content-Type"),i=r&&0===r.indexOf(Ao);if(i||Lt(n))try{e=Q(n)}catch(o){if(!i)return e;throw Ro("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,o)}}}return e}function Lt(e){var t=e.match(ko);return t&&No[t[0]].test(e)}function Pt(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=Ee();return x(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(oi(Ci(e.substr(0,n))),Ci(e.substr(n+1)))}):$(e)&&o(e,function(e,n){t(oi(n),Ci(e))}),r}function Bt(e){var t;return function(n){if(t||(t=Pt(e)),n){var r=t[oi(n)];return void 0===r&&(r=null),r}return t}}function jt(e,t,n,r){return T(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function Ut(e){return 200<=e&&e<300}function Kt(){var e=this.defaults={transformResponse:[Ft],transformRequest:[function(e){return!$(e)||N(e)||R(e)||D(e)?e:X(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:xe(Oo),put:xe(Oo),patch:xe(Oo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return E(e)?(t=!!e,this):t};var n=this.interceptors=[],i=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(a,s,l,u,c,d,p,h){function m(t){function n(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function i(){a.$$completeOutstandingRequest(g)}function s(e,t){var n,r={};return o(e,function(e,i){T(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function l(t){var n,r,i,o=e.headers,a=f({},t.headers);o=f({},o.common,o[oi(t.method)]);e:for(n in o){r=oi(n);for(i in a)if(oi(i)===r)continue e;a[n]=o[n]}return s(a,xe(t))}function u(t){var n=t.headers,r=jt(t.data,Bt(n),void 0,t.transformRequest);return y(r)&&o(n,function(e,t){"content-type"===oi(t)&&delete n[t]}),y(t.withCredentials)&&!y(e.withCredentials)&&(t.withCredentials=e.withCredentials),w(t,r).then(c,c)}function c(e){var t=f({},e);return t.data=jt(e.data,e.headers,e.status,m.transformResponse),Ut(e.status)?t:d.reject(t)}if(!$(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!x(h.valueOf(t.url)))throw r("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url);var m=f({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);m.headers=l(t),m.method=ai(m.method),m.paramSerializer=x(m.paramSerializer)?p.get(m.paramSerializer):m.paramSerializer,a.$$incOutstandingRequestCount();var v=[],b=[],E=d.resolve(m);return o(A,function(e){(e.request||e.requestError)&&v.unshift(e.request,e.requestError),(e.response||e.responseError)&&b.push(e.response,e.responseError)}),E=n(E,v),E=E.then(u),E=n(E,b),E=E["finally"](i)}function v(e){o(arguments,function(e){m[e]=function(t,n){return m(f({},n||{},{method:e,url:t}))}})}function b(e){o(arguments,function(e){m[e]=function(t,n,r){return m(f({},r||{},{method:e,url:t,data:n}))}})}function w(n,r){function i(e){if(e){var n={};return o(e,function(e,r){n[r]=function(n){function r(){e(n)}t?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),n}}function a(e,n,r,i,o){function a(){u(n,e,r,i,o)}g&&(Ut(e)?g.put(k,[e,n,Pt(r),i,o]):g.remove(k)),t?c.$applyAsync(a):(a(),c.$$phase||c.$apply())}function u(e,t,r,i,o){t=t>=-1?t:0,(Ut(t)?b.resolve:b.reject)({data:e,status:t,headers:Bt(r),config:n,statusText:i,xhrStatus:o})}function f(e){u(e.data,e.status,xe(e.headers()),e.statusText,e.xhrStatus)}function p(){var e=m.pendingRequests.indexOf(n);e!==-1&&m.pendingRequests.splice(e,1)}var g,v,b=d.defer(),w=b.promise,T=n.headers,A="jsonp"===oi(n.method),k=n.url;if(A?k=h.getTrustedResourceUrl(k):x(k)||(k=h.valueOf(k)),k=C(k,n.paramSerializer(n.params)),A&&(k=S(k,n.jsonpCallbackParam)),m.pendingRequests.push(n),w.then(p,p),!n.cache&&!e.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(g=$(n.cache)?n.cache:$(e.cache)?e.cache:_),g&&(v=g.get(k),E(v)?I(v)?v.then(f,f):wi(v)?u(v[1],v[0],xe(v[2]),v[3],v[4]):u(v,200,{},"OK","complete"):g.put(k,w)),y(v)){var N=O(n.url)?l()[n.xsrfCookieName||e.xsrfCookieName]:void 0;N&&(T[n.xsrfHeaderName||e.xsrfHeaderName]=N),s(n.method,k,r,a,T,n.timeout,n.withCredentials,n.responseType,i(n.eventHandlers),i(n.uploadEventHandlers))}return w}function C(e,t){return t.length>0&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}function S(e,t){var n=e.split("?");if(n.length>2)throw Ro("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);var r=re(n[1]);return o(r,function(n,r){if("JSON_CALLBACK"===n)throw Ro("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(r===t)throw Ro("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)}),e+=(e.indexOf("?")===-1?"?":"&")+t+"=JSON_CALLBACK"}var _=u("$http");e.paramSerializer=x(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var A=[];o(n,function(e){A.unshift(x(e)?p.get(e):p.invoke(e))});var O=Gn(i);return m.pendingRequests=[],v("get","delete","head","jsonp"),b("post","put","patch"),m.defaults=e,m}]}function Ht(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function qt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return Vt(e,r,e.defer,t,n[0])}]}function Vt(e,t,n,r,i){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,l,u,c,f,d,p,h,g){function m(e){x="timeout"===e,$&&$(),w&&w.abort()}function v(e,t,r,i,o,a){E(A)&&n.cancel(A),$=w=null,e(t,r,i,o,a)}if(s=s||e.url(),"jsonp"===oi(i))var b=r.createCallback(s),$=a(s,b,function(e,t){var n=200===e&&r.getResponse(b);v(u,e,n,"",t,"complete"),r.removeCallback(b)});else{var w=t(i,s),x=!1;w.open(i,s,!0),o(c,function(e,t){E(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"===zn(s).protocol?404:0),v(u,n,t,w.getAllResponseHeaders(),e,"complete")};var C=function(){v(u,-1,null,null,"","error")},S=function(){v(u,-1,null,null,"",x?"timeout":"abort")},_=function(){v(u,-1,null,null,"","timeout")};if(w.onerror=C,w.ontimeout=_,w.onabort=S,o(h,function(e,t){w.addEventListener(t,e)}),o(g,function(e,t){w.upload.addEventListener(t,e)}),d&&(w.withCredentials=!0),p)try{w.responseType=p}catch(T){if("json"!==p)throw T}w.send(y(l)?null:l)}if(f>0)var A=n(function(){m("timeout")},f);else I(f)&&f.then(function(){m(E(f.$$timeoutId)?"timeout":"abort")})}}function zt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(d,e).replace(p,t)}function s(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function l(o,l,d,p){function h(e){try{return e=k(e),p&&!E(e)?e:$e(e)}catch(t){r(Mo.interr(o,t))}}if(!o.length||o.indexOf(e)===-1){var g;if(!l){var m=a(o);g=v(m),g.exp=o,g.expressions=[],g.$$watchDelegate=s}return g}p=!!p;for(var b,$,w,x=0,C=[],S=[],_=o.length,T=[],A=[];x<_;){if((b=o.indexOf(e,x))===-1||($=o.indexOf(t,b+u))===-1){x!==_&&T.push(a(o.substring(x)));break}x!==b&&T.push(a(o.substring(x,b))),w=o.substring(b+u,$),C.push(w),S.push(n(w,h)),x=$+c,A.push(T.length),T.push("")}if(d&&T.length>1&&Mo.throwNoconcat(o),!l||C.length){var O=function(e){for(var t=0,n=C.length;t<n;t++){if(p&&y(e[t]))return;T[A[t]]=e[t]}return T.join("")},k=function(e){return d?i.getTrusted(d,e):i.valueOf(e)};return f(function(e){var t=0,n=C.length,i=new Array(n);try{for(;t<n;t++)i[t]=S[t](e);return O(i)}catch(a){r(Mo.interr(o,a))}},{exp:o,expressions:C,$$watchDelegate:function(e,t){var n;return e.$watchGroup(S,function(r,i){var o=O(r);t.call(this,o,r!==i?n:o,e),n=o})}})}}var u=e.length,c=t.length,d=new RegExp(e.replace(/./g,o),"g"),p=new RegExp(t.replace(/./g,o),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Wt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,l,u){function c(){f?o.apply(null,d):o(g)}var f=arguments.length>4,d=f?W(arguments,4):[],p=t.setInterval,h=t.clearInterval,g=0,m=E(u)&&!u,v=(m?r:n).defer(),b=v.promise;return l=E(l)?l:0,b.$$intervalId=p(function(){m?i.defer(c):e.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),h(b.$$intervalId),delete a[b.$$intervalId]),m||e.$apply()},s),a[b.$$intervalId]=v,b}var a={};return o.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(Rn(a[e.$$intervalId].promise),a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},o}]}function Gt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=oe(t[n].replace(/%2F/g,"/"));return t.join("/")}function Yt(e,t){for(var n=e.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),t&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}function Xt(e,t){var n=zn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||Lo[n.protocol]||null}function Qt(e,t,n){if(Bo.test(e))throw Po("badpath",'Invalid url "{0}".',e);var r="/"!==e.charAt(0);r&&(e="/"+e);var i=zn(e),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;t.$$path=Yt(o,n),t.$$search=re(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Jt(e,t){return e.slice(0,t.length)===t}function Zt(e,t){if(Jt(t,e))return t.substr(e.length)}function en(e){var t=e.indexOf("#");return t===-1?e:e.substr(0,t)}function tn(e){return e.replace(/(#.+)|#$/,"$1")}function nn(e){return e.substr(0,en(e).lastIndexOf("/")+1)}function rn(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function on(e,t,n){this.$$html5=!0,n=n||"",Xt(e,this),this.$$parse=function(e){var n=Zt(t,e);if(!x(n))throw Po("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Qt(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ie(this.$$search),n=this.$$hash?"#"+oe(this.$$hash):"";this.$$url=Gt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return E(o=Zt(e,r))?(a=o,s=n&&E(o=Zt(n,o))?t+(Zt("/",o)||o):e+a):E(o=Zt(t,r))?s=t+o:t===r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function an(e,t,n){Xt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return Jt(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Zt(e,r)||Zt(t,r);y(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",y(a)&&(e=r,this.replace())):(o=Zt(n,a),y(o)&&(o=a)),Qt(o,this,!1),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=ie(this.$$search),r=this.$$hash?"#"+oe(this.$$hash):"";this.$$url=Gt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return en(e)===en(t)&&(this.$$parse(t),!0)}}function sn(e,t,n){this.$$html5=!0,an.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e===en(r)?o=r:(a=Zt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=ie(this.$$search),r=this.$$hash?"#"+oe(this.$$hash):"";this.$$url=Gt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function ln(e){return function(){return this[e]}}function un(e,t){return function(n){return y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function cn(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return E(t)?(e=t,this):e},this.html5Mode=function(e){return M(e)?(t.enabled=e,this):$(e)?(M(e.enabled)&&(t.enabled=e.enabled),M(e.requireBase)&&(t.requireBase=e.requireBase),(M(e.rewriteLinks)||x(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,f,d=r.baseHref(),p=r.url();if(t.enabled){if(!d&&t.requireBase)throw Po("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=rn(p)+(d||"/"),c=i.history?on:sn}else f=en(p),c=an;var h=nn(f);u=new c(f,h,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=r.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=ci(e.target);"a"!==j(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!x(i)||!y(s.attr(i))){var l=s.prop("href"),c=s.attr("href")||s.attr("xlink:href");$(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=zn(l.animVal).href),g.test(l)||!l||s.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(l,c)&&(e.preventDefault(),u.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),tn(u.absUrl())!==tn(p)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){return Jt(e,h)?(n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=tn(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(m=!1,l(i,o)))}),void(n.$$phase||n.$digest())):void(a.location.href=e)}),n.$watch(function(){if(m||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var e=tn(r.url()),t=tn(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))}))}u.$$replace=!1}),u}]}function fn(){var e=!0,t=this;this.debugEnabled=function(t){return E(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return _(e)&&(e.stack&&a?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||g;return function(){var e=[];return o(arguments,function(t){e.push(r(t))}),Function.prototype.apply.call(i,t,e)}}var a=ui||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function dn(e){return e+""}function pn(e,t){return"undefined"!=typeof e?e:t}function hn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function gn(e,t){var n=e(t);return!n.$stateful}function mn(e,t){switch(e.type){case zo.MemberExpression:if(e.computed)return!1;break;case zo.UnaryExpression:return Wo;case zo.BinaryExpression:return"+"!==e.operator&&Wo;case zo.CallExpression:return!1}return void 0===t?Go:t}function vn(e,t,n){var r,i,a,s=e.isPure=mn(e,n);switch(e.type){case zo.Program:r=!0,o(e.body,function(e){vn(e.expression,t,s),r=r&&e.expression.constant}),e.constant=r;break;case zo.Literal:e.constant=!0,e.toWatch=[];break;case zo.UnaryExpression:vn(e.argument,t,s),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case zo.BinaryExpression:vn(e.left,t,s),vn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case zo.LogicalExpression:vn(e.left,t,s),vn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case zo.ConditionalExpression:vn(e.test,t,s),vn(e.alternate,t,s),vn(e.consequent,t,s),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case zo.Identifier:e.constant=!1,e.toWatch=[e];break;case zo.MemberExpression:vn(e.object,t,s),e.computed&&vn(e.property,t,s),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case zo.CallExpression:a=!!e.filter&&gn(t,e.callee.name),r=a,i=[],o(e.arguments,function(e){vn(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=a?i:[e];break;case zo.AssignmentExpression:vn(e.left,t,s),vn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case zo.ArrayExpression:r=!0,i=[],o(e.elements,function(e){vn(e,t,s),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=i;break;case zo.ObjectExpression:r=!0,i=[],o(e.properties,function(e){vn(e.value,t,s),r=r&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(vn(e.key,t,!1),r=r&&e.key.constant,i.push.apply(i,e.key.toWatch))}),e.constant=r,e.toWatch=i;break;case zo.ThisExpression:e.constant=!1,e.toWatch=[];break;case zo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function bn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function yn(e){return e.type===zo.Identifier||e.type===zo.MemberExpression}function En(e){if(1===e.body.length&&yn(e.body[0].expression))return{type:zo.AssignmentExpression,left:e.body[0].expression,
right:{type:zo.NGValueParameter},operator:"="}}function $n(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===zo.Literal||e.body[0].expression.type===zo.ArrayExpression||e.body[0].expression.type===zo.ObjectExpression)}function wn(e){return e.constant}function xn(e){this.$filter=e}function Cn(e){this.$filter=e}function Sn(e,t,n){this.ast=new zo(e,n),this.astCompiler=n.csp?new Cn(t):new xn(t)}function _n(e){return T(e.valueOf)?e.valueOf():Ko.call(e)}function Tn(){var e,t,n=Ee(),r={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){function a(e,t){var r,o;switch(typeof e){case"string":if(e=e.trim(),o=e,r=n[o],!r){var a=new Vo(m),s=new Sn(a,i,m);r=s.parse(e),r.constant?r.$$watchDelegate=d:r.oneTime?r.$$watchDelegate=r.literal?f:c:r.inputs&&(r.$$watchDelegate=u),n[o]=r}return p(r,t);case"function":return p(e,t);default:return p(g,t)}}function s(e){var t=new Vo(m),n=new Sn(t,i,m);return n.getAst(e).ast}function l(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&(e=_n(e),"object"==typeof e&&!n))&&(e===t||e!==e&&t!==t)}function u(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var s=l;return a=a[0],e.$watch(function(e){var t=a(e);return l(t,s,a.isPure)||(o=r(e,void 0,void 0,[t]),s=t&&_n(t)),o},t,n,i)}for(var u=[],c=[],f=0,d=a.length;f<d;f++)u[f]=l,c[f]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;n<i;n++){var s=a[n](e);(t||(t=!l(s,u[n],a[n].isPure)))&&(c[n]=s,u[n]=s&&_n(s))}return t&&(o=r(e,void 0,void 0,c)),o},t,n,i)}function c(e,t,n,r,i){function o(e){return r(e)}function a(e,n,r){l=e,T(t)&&t(e,n,r),E(e)&&r.$$postDigest(function(){E(l)&&s()})}var s,l;return s=r.inputs?u(e,a,n,r,i):e.$watch(o,a,n)}function f(e,t,n,r){function i(e){var t=!0;return o(e,function(e){E(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,T(t)&&t(e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function d(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==f&&n!==c,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return E(a)?s:a};return r=!e.inputs,n&&n!==u?(o.$$watchDelegate=n,o.inputs=e.inputs):t.$stateful||(o.$$watchDelegate=u,o.inputs=e.inputs?e.inputs:[e]),o.inputs&&(o.inputs=o.inputs.map(function(e){return e.isPure===Go?function(t){return e(t)}:e})),o}var h=_i().noUnsafeEval,m={csp:h,literals:H(r),isIdentifierStart:T(e)&&e,isIdentifierContinue:T(t)&&t};return a.$$getAst=s,a}]}function An(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return kn(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return E(t)?(e=t,this):e}}function On(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return kn(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return E(t)?(e=t,this):e}}function kn(e,t,n){function i(){return new a}function a(){var e=this.promise=new s;this.resolve=function(t){d(e,t)},this.reject=function(t){h(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function l(r){var i,o,a;a=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var s=0,l=a.length;s<l;++s){Dn(r),o=a[s][0],i=a[s][r.status];try{T(i)?d(o,i(r.value)):1===r.status?d(o,r.value):h(o,r.value)}catch(c){h(o,c),c&&c.$$passToExceptionHandler===!0&&t(c)}}}finally{--A,n&&0===A&&e(u)}}function u(){for(;!A&&O.length;){var e=O.shift();if(!Nn(e)){Dn(e);var n="Possibly unhandled rejection: "+Se(e.value);_(e.value)?t(e.value,n):t(n)}}}function c(t){!n||t.pending||2!==t.status||Nn(t)||(0===A&&0===O.length&&e(u),O.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++A,e(function(){l(t)}))}function d(e,t){e.$$state.status||(t===e?g(e,S("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):p(e,t))}function p(e,t){function n(t){a||(a=!0,p(e,t))}function r(t){a||(a=!0,g(e,t))}function i(t){m(e,t)}var o,a=!1;try{($(t)||T(t))&&(o=t.then),T(o)?(e.$$state.status=-1,o.call(t,n,r,i)):(e.$$state.value=t,e.$$state.status=1,c(e.$$state))}catch(s){r(s)}}function h(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,c(e.$$state)}function m(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&e(function(){for(var e,n,o=0,a=i.length;o<a;o++){n=i[o][0],e=i[o][3];try{m(n,T(e)?e(r):r)}catch(s){t(s)}}})}function v(e){var t=new s;return h(t,e),t}function b(e,t,n){var r=null;try{T(n)&&(r=n())}catch(i){return v(i)}return I(r)?r.then(function(){return t(e)},v):t(e)}function E(e,t,n,r){var i=new s;return d(i,e),i.then(t,n,r)}function w(e){var t=new s,n=0,r=wi(e)?[]:{};return o(e,function(e,i){n++,E(e).then(function(e){r[i]=e,--n||d(t,r)},function(e){h(t,e)})}),0===n&&d(t,r),t}function x(e){var t=i();return o(e,function(e){E(e).then(t.resolve,t.reject)}),t.promise}function C(e){function t(e){d(r,e)}function n(e){h(r,e)}if(!T(e))throw S("norslvr","Expected resolverFn, got '{0}'",e);var r=new s;return e(t,n),r}var S=r("$q",TypeError),A=0,O=[];f(s.prototype,{then:function(e,t,n){if(y(e)&&y(t)&&y(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&c(this.$$state),r},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return b(t,k,e)},function(t){return b(t,v,e)},t)}});var k=E;return C.prototype=s.prototype,C.defer=i,C.reject=v,C.when=E,C.resolve=k,C.all=w,C.race=x,C}function Nn(e){return!!e.pur}function Dn(e){e.pur=!0}function Rn(e){Dn(e.$$state)}function Mn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function In(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(r,u,c){function f(e){e.currentScope.$$destroyed=!0}function d(e){9===ui&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=e}function m(){C.$$phase=null}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function E(){}function w(){for(;A.length;)try{A.shift()()}catch(e){r(e)}s=null}function x(){null===s&&(s=c.defer(function(){C.$apply(w)}))}p.prototype={constructor:p,$new:function(t,n){var r;return n=n||this,t?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!==this)&&r.$on("$destroy",f),r},$watch:function(e,t,n,r){var i=u(e),o=T(t)?t:g;if(i.$$watchDelegate)return i.$$watchDelegate(this,o,n,i,e);var s=this,l=s.$$watchers,c={fn:o,last:E,get:i,exp:r||e,eq:!!n};return a=null,l||(l=s.$$watchers=[],l.$$digestWatchIndex=-1),l.unshift(c),l.$$digestWatchIndex++,v(this,1),function(){var e=K(l,c);e>=0&&(v(s,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),a=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s,l;if(!y(o)){if($(o))if(i(o)){a!==p&&(a=p,m=a.length=0,f++),t=o.length,m!==t&&(f++,a.length=m=t);for(var u=0;u<t;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(f++,a[u]=s)}else{a!==h&&(a=h={},m=0,f++),t=0;for(n in o)ii.call(o,n)&&(t++,s=o[n],l=a[n],n in a?(r=l!==l&&s!==s,r||l===s||(f++,a[n]=s)):(m++,a[n]=s,f++));if(m>t){f++;for(n in a)ii.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if(g?(g=!1,t(o,o,l)):t(o,s,l),c)if($(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)ii.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,c=t.length>1,f=0,d=u(e,n),p=[],h={},g=!0,m=0;return this.$watch(d,r)},$digest:function(){var e,i,o,l,u,f,d,p,g,v,b,y=t,$=this,x=[];h("$digest"),c.$$checkUrlChange(),this===C&&null!==s&&(c.defer.cancel(s),w()),a=null;do{d=!1,g=$;for(var A=0;A<S.length;A++){try{b=S[A],l=b.fn,l(b.scope,b.locals)}catch(k){r(k)}a=null}S.length=0;e:do{if(f=!g.$$suspended&&g.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(e=f[f.$$digestWatchIndex])if(u=e.get,(i=u(g))===(o=e.last)||(e.eq?V(i,o):$i(i)&&$i(o))){if(e===a){d=!1;break e}}else d=!0,a=e,e.last=e.eq?H(i,null):i,l=e.fn,l(i,o===E?i:o,g),y<5&&(v=4-y,x[v]||(x[v]=[]),x[v].push({msg:T(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:i,oldVal:o}))}catch(k){r(k)}if(!(p=!g.$$suspended&&g.$$watchersCount&&g.$$childHead||g!==$&&g.$$nextSibling))for(;g!==$&&!(p=g.$$nextSibling);)g=g.$parent}while(g=p);if((d||S.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,x)}while(d||S.length);for(m();O<_.length;)try{_[O++]()}catch(k){r(k)}_.length=O=0,c.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&c.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){C.$$phase||S.length||c.defer(function(){S.length&&C.$digest()}),S.push({scope:this,fn:u(e),locals:t})},$$postDigest:function(e){_.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{m()}}catch(t){r(t)}finally{try{C.$digest()}catch(t){throw r(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&A.push(t),e=u(e),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);r!==-1&&(delete n[r],b(i,1,e))}},$emit:function(e,t){var n,i,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=z([u],arguments,1);do{for(n=s.$$listeners[e]||a,u.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,c)}catch(f){r(f)}else n.splice(i,1),i--,o--;if(l)break;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,i=n,o=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,l,u,c=z([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[e]||[],l=0,u=s.length;l<u;l++)if(s[l])try{s[l].apply(null,c)}catch(f){r(f)}else s.splice(l,1),l--,u--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var C=new p,S=C.$$asyncQueue=[],_=C.$$postDigestQueue=[],A=C.$$applyAsyncQueue=[],O=0;return C}]}function Fn(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return E(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return E(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=zn(n&&n.trim()).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Ln(e){return e.replace(Qo,Oe)}function Pn(e){if("self"===e)return e;if(x(e)){if(e.indexOf("***")>-1)throw Yo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Si(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(A(e))return new RegExp("^"+e.source+"$");throw Yo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Bn(e){var t=[];return E(e)&&o(e,function(e){t.push(Pn(e))}),t}function jn(){this.SCE_CONTEXTS=Xo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Bn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Bn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Wn(t):!!e.exec(t.href)}function i(n){var i,o,a=zn(n.toString()),s=!1;for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=f.hasOwnProperty(e)?f[e]:null;if(!n)throw Yo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||y(t)||""===t)return t;if("string"!=typeof t)throw Yo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||y(t)||""===t)return t;var n=f.hasOwnProperty(e)?f[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Xo.RESOURCE_URL){if(i(t))return t;throw Yo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Xo.HTML)return u(t);throw Yo("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw Yo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),f={};return f[Xo.HTML]=o(c),f[Xo.CSS]=o(c),f[Xo.URL]=o(c),f[Xo.JS]=o(c),f[Xo.RESOURCE_URL]=o(f[Xo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function Un(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&ui<8)throw Yo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=xe(Xo);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=m),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(Xo,function(e,t){var n=oi(t);r[Ln("parse_as_"+n)]=function(t){return i(e,t)},r[Ln("get_trusted_"+n)]=function(t){return a(e,t)},r[Ln("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Kn(){this.$get=["$window","$document",function(e,t){var n={},r=e.nw&&e.nw.process,i=!r&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),o=!i&&e.history&&e.history.pushState,a=p((/android (\d+)/.exec(oi((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),l=t[0]||{},u=l.body&&l.body.style,c=!1,f=!1;return u&&(c=!!("transition"in u||"webkitTransition"in u),f=!!("animation"in u||"webkitAnimation"in u)),{history:!(!o||a<4||s),hasEvent:function(e){if("input"===e&&ui)return!1;if(y(n[e])){var t=l.createElement("div");n[e]="on"+e in t}return n[e]},csp:_i(),transitions:c,animations:f,android:a}}]}function Hn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function a(s,l){function u(e){return l||(e=Jo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e)),i.reject(e)}a.totalPendingRequests++,x(s)&&!y(n.get(s))||(s=o.getTrustedResourceUrl(s));var c=r.defaults&&r.defaults.transformResponse;return wi(c)?c=c.filter(function(e){return e!==Ft}):c===Ft&&(c=null),r.get(s,f({cache:n,transformResponse:c},e))["finally"](function(){a.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},u)}return a.totalPendingRequests=0,a}]}function qn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=yi.element(e).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+Si(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else r.indexOf(t)!==-1&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Vn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){T(o)||(l=s,s=o,o=g);var u,c=W(arguments,3),f=E(l)&&!l,d=(f?r:n).defer(),p=d.promise;return u=t.defer(function(){try{d.resolve(o.apply(null,c))}catch(t){d.reject(t),i(t)}finally{delete a[p.$$timeoutId]}f||e.$apply()},s),p.$$timeoutId=u,a[u]=d,p}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(Rn(a[e.$$timeoutId].promise),a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function zn(e){if(!x(e))return e;var t=e;return ui&&(Zo.setAttribute("href",t),t=Zo.href),Zo.setAttribute("href",t),{href:Zo.href,protocol:Zo.protocol?Zo.protocol.replace(/:$/,""):"",host:Zo.host,search:Zo.search?Zo.search.replace(/^\?/,""):"",hash:Zo.hash?Zo.hash.replace(/^#/,""):"",hostname:Zo.hostname,port:Zo.port,pathname:"/"===Zo.pathname.charAt(0)?Zo.pathname:"/"+Zo.pathname}}function Wn(e){return Yn(e,ea)}function Gn(e){var t=[ea].concat(e.map(zn));return function(e){var n=zn(e);return t.some(Yn.bind(null,n))}}function Yn(e,t){return e=zn(e),t=zn(t),e.protocol===t.protocol&&e.host===t.host}function Xn(){this.$get=v(e)}function Qn(e){function t(e){try{return e.cookie||""}catch(t){return""}}function n(e){try{return decodeURIComponent(e)}catch(t){return e}}var r=e[0]||{},i={},o="";return function(){var e,a,s,l,u,c=t(r);if(c!==o)for(o=c,e=o.split("; "),i={},s=0;s<e.length;s++)a=e[s],l=a.indexOf("="),l>0&&(u=n(a.substring(0,l)),y(i[u])&&(i[u]=n(a.substring(l+1))));return i}}function Jn(){this.$get=Qn}function Zn(e){function t(r,i){if($(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",ir),t("date",yr),t("filter",er),t("json",Er),t("limitTo",$r),t("lowercase",sa),t("number",or),t("orderBy",xr),t("uppercase",la)}function er(){return function(e,t,n,o){if(!i(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var a,s,l=rr(t);switch(l){case"function":a=t;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=tr(t,n,o,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function tr(e,t,n,r){var i,o=$(e)&&n in e;return t===!0?t=V:T(t)||(t=function(e,t){return!y(e)&&(null===e||null===t?e===t:!($(t)||$(e)&&!b(e))&&(e=oi(""+e),t=oi(""+t),e.indexOf(t)!==-1))}),i=function(i){return o&&!$(i)?nr(i,e[n],t,n,!1):nr(i,e,t,n,r)}}function nr(e,t,n,r,i,o){var a=rr(e),s=rr(t);if("string"===s&&"!"===t.charAt(0))return!nr(e,t.substring(1),n,r,i);if(wi(e))return e.some(function(e){return nr(e,t,n,r,i)});switch(a){case"object":var l;if(i){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&nr(e[l],t,n,r,!0))return!0;return!o&&nr(e,t,n,r,!1)}if("object"===s){for(l in t){var u=t[l];if(!T(u)&&!y(u)){var c=l===r,f=c?e:e[l];if(!nr(f,u,n,r,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function rr(e){return null===e?"null":typeof e}function ir(e){var t=e.NUMBER_FORMATS;return function(e,n,r){y(n)&&(n=t.CURRENCY_SYM),y(r)&&(r=t.PATTERNS[1].maxFrac);var i=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:lr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(i,n)}}function or(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:lr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function ar(e){var t,n,r,i,o,a=0;for((n=e.indexOf(na))>-1&&(e=e.replace(na,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===ra;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===ra;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>ta&&(t=t.splice(0,ta-1),a=n-1,n=1),{d:t,e:a,i:n}}function sr(e,t,n,r){var i=e.d,o=i.length-e.i;t=y(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var l=a;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var u=1;u<a;u++)i[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var f=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);f&&(i.unshift(f),e.i++)}function lr(e,t,n,r,i){if(!x(e)&&!C(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="∞";else{o=ar(l),sr(o,i,t.minFrac,t.maxFrac);var c=o.d,f=o.i,d=o.e,p=[];for(s=c.reduce(function(e,t){return e&&!t},!0);f<0;)c.unshift(0),f++;f>0?p=c.splice(f,c.length):(p=c,c=[0]);var h=[];for(c.length>=t.lgSize&&h.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)h.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&h.unshift(c.join("")),u=h.join(n),p.length&&(u+=r+p.join("")),d&&(u+="e+"+d)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function ur(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=ra+e;return n&&(e=e.substr(e.length-t)),i+e}function cr(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&n===-12&&(a=12),ur(a,t,r,i)}}function fr(e,t,n){return function(r,i){var o=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=ai(a+e);return i[s][o]}}function dr(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=ur(Math[r>0?"floor":"ceil"](r/60),2)+ur(Math.abs(r%60),2)}function pr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function hr(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function gr(e){return function(t){var n=pr(t.getFullYear()),r=hr(t),i=+r-+n,o=1+Math.round(i/6048e5);return ur(o,e)}}function mr(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function vr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function br(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function yr(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=p(t[9]+t[10]),o=p(t[9]+t[11])),a.call(r,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-i,u=p(t[5]||0)-o,c=p(t[6]||0),f=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,f),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,x(n)&&(n=aa.test(n)?p(n):t(n)),C(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;r;)s=oa.exec(r),s?(u=z(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=J(i,c),n=ee(n,i,!0)),o(u,function(t){a=ia[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Er(){return function(e,t){return y(t)&&(t=2),X(e,t)}}function $r(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):p(t),$i(t)?e:(C(e)&&(e=e.toString()),i(e)?(n=!n||isNaN(n)?0:p(n),n=n<0?Math.max(0,e.length+n):n,t>=0?wr(e,n,n+t):0===n?wr(e,t,e.length):wr(e,Math.max(0,n+t),n)):e)}}function wr(e,t,n){return x(e)?e.slice(t,n):pi.call(e,t,n)}function xr(e){function t(t){return t.map(function(t){var n=1,r=m;if(T(t))r=t;else if(x(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return T(e.valueOf)&&(e=e.valueOf(),n(e))?e:b(e)&&(e=e.toString(),n(e))?e:e}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&($(o)&&(o=e.index),$(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(e,n,o,l){function u(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:f.map(function(n){return a(n.get(e),t)})}}function c(e,t){for(var n=0,r=f.length;n<r;n++){var i=p(e.predicateValues[n],t.predicateValues[n]);if(i)return i*f[n].descending*d}return(p(e.tieBreaker,t.tieBreaker)||s(e.tieBreaker,t.tieBreaker))*d}if(null==e)return e;if(!i(e))throw r("orderBy")("notarray","Expected array but received: {0}",e);wi(n)||(n=[n]),0===n.length&&(n=["+"]);var f=t(n),d=o?-1:1,p=T(l)?l:s,h=Array.prototype.map.call(e,u);return h.sort(c),e=h.map(function(e){return e.value})}}function Cr(e){return T(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function Sr(e,t){e.$name=t}function _r(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=fa,this.$$element=e,this.$$animate=r,Tr(this)}function Tr(e){e.$$classCache={},e.$$classCache[Ya]=!(e.$$classCache[Ga]=e.$$element.hasClass(Ga))}function Ar(e){function t(e,t,n,r){e[t]||(e[t]={}),a(e[t],n,r)}function n(e,t,n,r){e[t]&&s(e[t],n,r),Or(e[t])&&(e[t]=void 0)}function r(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function i(e,t,n){t=t?"-"+pe(t,"-"):"",r(e,Ga+t,n===!0),r(e,Ya+t,n===!1)}var o=e.clazz,a=e.set,s=e.unset;o.prototype.$setValidity=function(e,o,l){y(o)?t(this,"$pending",e,l):n(this,"$pending",e,l),M(o)?o?(s(this.$error,e,l),a(this.$$success,e,l)):(a(this.$error,e,l),s(this.$$success,e,l)):(s(this.$error,e,l),s(this.$$success,e,l)),this.$pending?(r(this,da,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,da,!1),this.$valid=Or(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var u;u=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),i(this,e,u),this.$$parentForm.$setValidity(e,u,this)}}function Or(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function kr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Nr(e,t,n,r,i,o){Dr(e,t,n,r,i,o),kr(r)}function Dr(e,t,n,r,i,o){var a=oi(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionupdate",function(e){(y(e.data)||""===e.data)&&(s=!1)}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Ci(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut drop",c)}t.on("change",u),Ta[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(_a,function(e){if(!l){var t=this[ri],n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function Rr(e,t){if(S(e))return e;if(x(e)){xa.lastIndex=0;var n=xa.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=pr(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return NaN}function Mr(e,t){return function(n,r){var i,a;if(S(n))return n;if(x(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),va.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Ir(e,t,n,r){return function(i,o,a,s,l,u,c){function f(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function d(e){return E(e)&&!S(e)?p(e)||void 0:e}function p(e,t){var r=s.$options.getOption("timezone");g&&g!==r&&(t=Z(t,J(g)));var i=n(e,t);return!isNaN(i)&&r&&(i=ee(i,r)),i}Fr(i,o,a,s),Dr(i,o,a,s,l,u);var h,g;if(s.$$parserName=e,s.$parsers.push(function(e){return s.$isEmpty(e)?null:t.test(e)?p(e,h):void 0}),s.$formatters.push(function(e){if(e&&!S(e))throw ns("datefmt","Expected `{0}` to be a date",e);if(f(e)){h=e;var t=s.$options.getOption("timezone");return t&&(g=t,h=ee(h,t,!0)),c("date")(e,r,t)}return h=null,g=null,""}),E(a.min)||a.ngMin){var m;s.$validators.min=function(e){return!f(e)||y(m)||n(e)>=m},a.$observe("min",function(e){m=d(e),s.$validate()})}if(E(a.max)||a.ngMax){var v;s.$validators.max=function(e){return!f(e)||y(v)||n(e)<=v},a.$observe("max",function(e){v=d(e),s.$validate()})}}}function Fr(e,t,n,r){var i=t[0],o=r.$$hasNativeValidators=$(i.validity);o&&r.$parsers.push(function(e){var n=t.prop(ri)||{};return n.badInput||n.typeMismatch?void 0:e})}function Lr(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:Ea.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!C(t))throw ns("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function Pr(e){return E(e)&&!C(e)&&(e=parseFloat(e)),
$i(e)?void 0:e}function Br(e){return(0|e)===e}function jr(e){var t=e.toString(),n=t.indexOf(".");if(n===-1){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function Ur(e,t,n){var r=Number(e),i=!Br(r),o=!Br(t),a=!Br(n);if(i||o||a){var s=i?jr(r):0,l=o?jr(t):0,u=a?jr(n):0,c=Math.max(s,l,u),f=Math.pow(10,c);r*=f,t*=f,n*=f,i&&(r=Math.round(r)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(r-t)%n===0}function Kr(e,t,n,r,i,o){Fr(e,t,n,r),Lr(r),Dr(e,t,n,r,i,o);var a,s;if((E(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||y(a)||e>=a},n.$observe("min",function(e){a=Pr(e),r.$validate()})),(E(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||y(s)||e<=s},n.$observe("max",function(e){s=Pr(e),r.$validate()})),E(n.step)||n.ngStep){var l;r.$validators.step=function(e,t){return r.$isEmpty(t)||y(l)||Ur(t,a||0,l)},n.$observe("step",function(e){l=Pr(e),r.$validate()})}}function Hr(e,t,n,r,i,o){function a(e,r){t.attr(e,n[e]),n.$observe(e,r)}function s(e){if(f=Pr(e),!$i(r.$modelValue))if(c){var n=t.val();f>n&&(n=f,t.val(n)),r.$setViewValue(n)}else r.$validate()}function l(e){if(d=Pr(e),!$i(r.$modelValue))if(c){var n=t.val();d<n&&(t.val(d),n=d<f?f:d),r.$setViewValue(n)}else r.$validate()}function u(e){p=Pr(e),$i(r.$modelValue)||(c&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate())}Fr(e,t,n,r),Lr(r),Dr(e,t,n,r,i,o);var c=r.$$hasNativeValidators&&"range"===t[0].type,f=c?0:void 0,d=c?100:void 0,p=c?1:void 0,h=t[0].validity,g=E(n.min),m=E(n.max),v=E(n.step),b=r.$render;r.$render=c&&E(h.rangeUnderflow)&&E(h.rangeOverflow)?function(){b(),r.$setViewValue(t.val())}:b,g&&(r.$validators.min=c?function(){return!0}:function(e,t){return r.$isEmpty(t)||y(f)||t>=f},a("min",s)),m&&(r.$validators.max=c?function(){return!0}:function(e,t){return r.$isEmpty(t)||y(d)||t<=d},a("max",l)),v&&(r.$validators.step=c?function(){return!h.stepMismatch}:function(e,t){return r.$isEmpty(t)||y(p)||Ur(t,f||0,p)},a("step",u))}function qr(e,t,n,r,i,o){Dr(e,t,n,r,i,o),kr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||ba.test(n)}}function Vr(e,t,n,r,i,o){Dr(e,t,n,r,i,o),kr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||ya.test(n)}}function zr(e,t,n,r){var i=!n.ngTrim||"false"!==Ci(n.ngTrim);y(n.name)&&t.attr("name",l());var o=function(e){var o;t[0].checked&&(o=n.value,i&&(o=Ci(o)),r.$setViewValue(o,e&&e.type))};t.on("click",o),r.$render=function(){var e=n.value;i&&(e=Ci(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)}function Wr(e,t,n,r,i){var o;if(E(r)){if(o=e(r),!o.constant)throw ns("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function Gr(e,t,n,r,i,o,a,s){var l=Wr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Wr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return V(e,l)}),r.$parsers.push(function(e){return e?l:u})}function Yr(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function r(e){return e&&e.split(" ")}function i(e){var t=e;return wi(e)?t=e.map(i).join(" "):$(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function a(e){var t=e;if(wi(e))t=e.map(a);else if($(e)){var n=!1;t=Object.keys(e).filter(function(t){var r=e[t];return!n&&y(r)&&(n=!0),r}),n&&t.push(void 0)}return t}e="ngClass"+e;var s;return["$parse",function(l){return{restrict:"AC",link:function(u,c,f){function d(e){e=g(r(e),1),f.$addClass(e)}function p(e){e=g(r(e),-1),f.$removeClass(e)}function h(e,t){var i=r(e),o=r(t),a=n(i,o),s=n(o,i),l=g(a,-1),u=g(s,1);f.$addClass(u),f.$removeClass(l)}function g(e,t){var n=[];return o(e,function(e){(t>0||S[e])&&(S[e]=(S[e]||0)+t,S[e]===+(t>0)&&n.push(e))}),n.join(" ")}function m(e){e===t?d(y):p(y),_=e}function v(e){var t=i(e);t!==y&&b(t)}function b(e){_===t&&h(y,e),y=e}var y,E=f[e].trim(),$=":"===E.charAt(0)&&":"===E.charAt(1),w=$?a:i,x=l(E,w),C=$?v:b,S=c.data("$classCounts"),_=!0;S||(S=Ee(),c.data("$classCounts",S)),"ngClass"!==e&&(s||(s=l("$index",function(e){return 1&e})),u.$watch(s,m)),u.$watch(x,C,$)}}}]}function Xr(e,t,n,r,i,o,a,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=fa,this.$options=rs,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,Tr(this),Qr(this)}function Qr(e){e.$$scope.$watch(function(t){var n=e.$$ngModelGet(t);return n===e.$modelValue||e.$modelValue!==e.$modelValue&&n!==n||e.$$setModelValue(n),n})}function Jr(e){this.$$options=e}function Zr(e,t){o(t,function(t,n){E(e[n])||(e[n]=t)})}function ei(e,t){e.prop("selected",t),e.attr("selected",t)}var ti={objectMaxDepth:5},ni=/^\/(.+)\/([a-z]*)$/,ri="validity",ii=Object.prototype.hasOwnProperty,oi=function(e){return x(e)?e.toLowerCase():e},ai=function(e){return x(e)?e.toUpperCase():e},si=function(e){return x(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},li=function(e){return x(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(oi=si,ai=li);var ui,ci,fi,di,pi=[].slice,hi=[].splice,gi=[].push,mi=Object.prototype.toString,vi=Object.getPrototypeOf,bi=r("ng"),yi=e.angular||(e.angular={}),Ei=0;ui=e.document.documentMode;var $i=Number.isNaN||function(e){return e!==e};g.$inject=[],m.$inject=[];var wi=Array.isArray,xi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Ci=function(e){return x(e)?e.trim():e},Si=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},_i=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!E(_i.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");_i.rules={noUnsafeEval:!r||r.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!r||r.indexOf("no-inline-style")!==-1}}else _i.rules={noUnsafeEval:t(),noInlineStyle:!1}}return _i.rules},Ti=function(){if(E(Ti.name_))return Ti.name_;var t,n,r,i,o=Oi.length;for(n=0;n<o;++n)if(r=Oi[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return Ti.name_=i},Ai=/:/g,Oi=["ng-","data-ng-","ng:","x-ng-"],ki=le(e.document),Ni=/[A-Z]/g,Di=!1,Ri=1,Mi=2,Ii=3,Fi=8,Li=9,Pi=11,Bi={full:"1.6.10",major:1,minor:6,dot:10,codeName:"crystalline-persuasion"};Le.expando="ng339";var ji=Le.cache={},Ui=1;Le._data=function(e){return this.cache[e[this.expando]]||{}};var Ki=/-([a-z])/g,Hi=/^-ms-/,qi={mouseleave:"mouseout",mouseenter:"mouseover"},Vi=r("jqLite"),zi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Wi=/<|&#?\w+;/,Gi=/<([\w:-]+)/,Yi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Xi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xi.optgroup=Xi.option,Xi.tbody=Xi.tfoot=Xi.colgroup=Xi.caption=Xi.thead,Xi.th=Xi.td;var Qi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ji=Le.prototype={ready:Ze,toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return ci(e>=0?this[e]:this[this.length+e])},length:0,push:gi,sort:[].sort,splice:[].splice},Zi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Zi[oi(e)]=e});var eo={};o("input,select,option,textarea,button,form,details".split(","),function(e){eo[e]=!0});var to={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:He,removeData:Ue,hasData:Re,cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Ue(e[t])}},function(e,t){Le[t]=e}),o({data:He,inheritedData:Ye,scope:function(e){return ci.data(e,"$scope")||Ye(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return ci.data(e,"$isolateScope")||ci.data(e,"$isolateScopeNoTemplate")},controller:Ge,injector:function(e){return Ye(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:qe,css:function(e,t,n){return t=Ae(t),E(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r,i=e.nodeType;if(i!==Ii&&i!==Mi&&i!==Fi&&e.getAttribute){var o=oi(t),a=Zi[o];return E(n)?void(null===n||n===!1&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)):(r=e.getAttribute(t),a&&null!==r&&(r=o),null===r?void 0:r)}},prop:function(e,t,n){return E(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(y(t)){var n=e.nodeType;return n===Ri||n===Ii?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(y(t)){if(e.multiple&&"select"===j(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){return y(t)?e.innerHTML:(Be(e,!0),void(e.innerHTML=t))},empty:Xe},function(e,t){Le.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Xe&&y(2===e.length&&e!==qe&&e!==Ge?t:n)){if($(t)){for(r=0;r<o;r++)if(e===He)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=y(a)?Math.min(o,1):o,l=0;l<s;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(r=0;r<o;r++)e(this[r],t,n);return this}}),o({removeData:Ue,on:function(e,t,n,r){if(E(r))throw Vi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(De(e)){var i=Ke(e,!0),o=i.events,a=i.handle;a||(a=i.handle=nt(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,r,i){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||e.addEventListener(t,a)),s.push(n)};l--;)t=s[l],qi[t]?(u(qi[t],it),u(t,void 0,!0)):u(t)}},off:je,one:function(e,t,n){e=ci(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Be(e),o(new Le(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===Ri&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Ri||n===Pi){t=new Le(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===Ri){var n=e.firstChild;o(new Le(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Fe(e,ci(t).eq(0).clone()[0])},remove:Qe,detach:function(e){Qe(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r){t=new Le(t);for(var i=0,o=t.length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:ze,removeClass:Ve,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;y(r)&&(r=!qe(e,t)),(r?ze:Ve)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Pi?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Pe,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,l=Ke(e),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:e},t.type&&(r=f(r,t)),i=xe(c),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Le.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)y(i)?(i=e(this[o],t,n,r),E(i)&&(i=ci(i))):We(i,e(this[o],t,n,r));return E(i)?i:this}}),Le.prototype.bind=Le.prototype.on,Le.prototype.unbind=Le.prototype.off;var no=Object.create(null);st.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e),this._lastIndex)},_transformKey:function(e){return $i(e)?no:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(t!==-1)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);n===-1&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},"delete":function(e){e=this._transformKey(e);var t=this._idx(e);return t!==-1&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var ro=st,io=[function(){this.$get=[function(){return ro}]}],oo=/^([^(]+?)=>/,ao=/^[^(]*\(\s*([^)]*)\)/m,so=/,/,lo=/^\s*(_?)(\S+?)\1\s*$/,uo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,co=r("$injector");dt.$$annotate=ft;var fo=r("$animate"),po=1,ho="ng-animate",go=function(){this.$get=g},mo=function(){var e=new ro,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(e,t,n){var r=!1;return t&&(t=x(t)?t.split(" "):wi(t)?t:[],o(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){o(t,function(t){var n=e.get(t);if(n){var r=mt(t.attr("class")),i="",a="";o(n,function(e,t){var n=!!r[t];e!==n&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&ze(e,i),a&&Ve(e,a)}),e["delete"](t)}}),t.length=0}function s(n,o,s){var l=e.get(n)||{},u=i(l,o,!0),c=i(l,s,!1);(u||c)&&(e.set(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:g,on:g,off:g,pin:g,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},vo=["$provide",function(e){var t=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw fo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.customFilter=function(e){return 1===arguments.length&&(r=T(e)?e:null),r},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){var t=new RegExp("[(\\s|\\/)]"+ho+"[(\\s|\\/)]");if(t.test(n.toString()))throw n=null,fo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ho)}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=gt(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&ci(r),i=i&&ci(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",vt(o))},move:function(n,r,i,o){return r=r&&ci(r),i=i&&ci(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",vt(o))},leave:function(t,n){return e.push(t,"leave",vt(n),function(){t.remove()})},addClass:function(t,n,r){return r=vt(r),r.addClass=ht(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=vt(r),r.removeClass=ht(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=vt(i),i.addClass=ht(i.addClass,n),i.removeClass=ht(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=vt(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=ht(o.tempClasses,i),e.push(t,"animate",o)}}}]}],bo=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},yo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function a(e){this.setHost(e);var t=n(),o=function(e){i(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){r()?o(e):t(e)},this._state=0}var s=0,l=1,u=2;return a.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},a.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;o(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===u?e():this._doneCallbacks.push(e)},progress:g,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==u&&(o(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=u)}},a}]},Eo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=H(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:i,end:i}}}]},$o=r("$compile"),wo=new wt;xt.$inject=["$provide","$$sanitizeUriProvider"],Ct.prototype.isFirstChange=function(){return this.previousValue===wo};var xo=/^((?:x|data)[:\-_])/i,Co=/[:\-_]+(.)/g,So=r("$controller"),_o=/^(\S+)(\s+as\s+([\w$]+))?$/,To=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof ci&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Ao="application/json",Oo={"Content-Type":Ao+";charset=utf-8"},ko=/^\[|^\{(?!\{)/,No={"[":/]$/,"{":/}$/},Do=/^\)]\}',?\n/,Ro=r("$http"),Mo=yi.$interpolateMinErr=r("$interpolate");Mo.throwNoconcat=function(e){throw Mo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Mo.interr=function(e,t){return Mo("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Io=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=yi.callbacks,n={};return{createCallback:function(r){var i="_"+(t.$$counter++).toString(36),o="angular.callbacks."+i,a=e(i);return n[o]=t[i]=a,o},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){var r=n[e];delete t[r.id],delete n[e]}}}},Fo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Lo={http:80,https:443,ftp:21},Po=r("$location"),Bo=/^\s*[\\/]{2,}/,jo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:ln("$$absUrl"),url:function(e){if(y(e))return this.$$url;var t=Fo.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:ln("$$protocol"),host:ln("$$host"),port:ln("$$port"),path:un("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(x(e)||C(e))e=e.toString(),this.$$search=re(e);else{if(!$(e))throw Po("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=H(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:un("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([sn,an,on],function(e){e.prototype=Object.create(jo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==on||!this.$$html5)throw Po("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var Uo=r("$parse"),Ko={}.constructor.prototype.valueOf,Ho=Ee();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Ho[e]=!0});var qo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Vo=function(e){this.options=e};Vo.prototype={constructor:Vo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Ho[t],o=Ho[n],a=Ho[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=E(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Uo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=oi(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=qo[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var zo=function(e,t){this.lexer=e,this.options=t};zo.Program="Program",zo.ExpressionStatement="ExpressionStatement",zo.AssignmentExpression="AssignmentExpression",zo.ConditionalExpression="ConditionalExpression",zo.LogicalExpression="LogicalExpression",zo.BinaryExpression="BinaryExpression",zo.UnaryExpression="UnaryExpression",zo.CallExpression="CallExpression",zo.MemberExpression="MemberExpression",zo.Identifier="Identifier",zo.Literal="Literal",zo.ArrayExpression="ArrayExpression",zo.Property="Property",zo.ObjectExpression="ObjectExpression",zo.ThisExpression="ThisExpression",zo.LocalsExpression="LocalsExpression",zo.NGValueParameter="NGValueParameter",zo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:zo.Program,body:e}},expressionStatement:function(){return{type:zo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!yn(e))throw Uo("lval","Trying to assign a value to a non l-value");e={type:zo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:zo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:zo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:zo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:zo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:zo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:zo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:zo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:zo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=H(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:zo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:zo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:zo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:zo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:zo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:zo.Identifier,name:e.text}},constant:function(){return{type:zo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:zo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:zo.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:zo.ObjectExpression,properties:t}},throwError:function(e,t){throw Uo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Uo("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Uo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{"this":{type:zo.ThisExpression},$locals:{type:zo.LocalsExpression}}};var Wo=1,Go=2;xn.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},vn(e,t.$filter);var n,r="";if(this.stage="assign",n=En(e)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=bn(e.body);t.stage="inputs",o(a,function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push({name:r,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,dn,pn,hn);return this.state=this.stage=void 0,l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;
return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,a){var s,l,u,c,f,d=this;if(r=r||g,!a&&E(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case zo.Program:o(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?d.current().body.push(l,";"):d.return_(l)});break;case zo.Literal:c=this.escape(e.value),this.assign(t,c),r(t||c);break;case zo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),r(c);break;case zo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),r(c);break;case zo.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),r(t);break;case zo.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),r(t);break;case zo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){i&&1!==i&&d.if_(d.isNull(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),r(t);break;case zo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,s,void 0,function(){d.if_(d.notNull(s),function(){e.computed?(l=d.nextId(),d.recurse(e.property,l),d.getStringValue(l),i&&1!==i&&d.if_(d.not(d.computedMember(s,l)),d.lazyAssign(d.computedMember(s,l),"{}")),c=d.computedMember(s,l),d.assign(t,c),n&&(n.computed=!0,n.name=l)):(i&&1!==i&&d.if_(d.isNull(d.nonComputedMember(s,e.property.name)),d.lazyAssign(d.nonComputedMember(s,e.property.name),"{}")),c=d.nonComputedMember(s,e.property.name),d.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),r(t)},!!i);break;case zo.CallExpression:t=t||this.nextId(),e.filter?(l=d.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",d.assign(t,c),r(t)):(l=d.nextId(),s={},u=[],d.recurse(e.callee,l,s,function(){d.if_(d.notNull(l),function(){o(e.arguments,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){u.push(e)})}),c=s.name?d.member(s.context,s.name,s.computed)+"("+u.join(",")+")":l+"("+u.join(",")+")",d.assign(t,c)},function(){d.assign(t,"undefined")}),r(t)}));break;case zo.AssignmentExpression:l=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){d.if_(d.notNull(s.context),function(){d.recurse(e.right,l),c=d.member(s.context,s.name,s.computed)+e.operator+l,d.assign(t,c),r(t||c)})},1);break;case zo.ArrayExpression:u=[],o(e.elements,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),r(t||c);break;case zo.ObjectExpression:u=[],f=!1,o(e.properties,function(e){e.computed&&(f=!0)}),f?(t=t||this.nextId(),this.assign(t,"{}"),o(e.properties,function(e){e.computed?(s=d.nextId(),d.recurse(e.key,s)):s=e.key.type===zo.Identifier?e.key.name:""+e.key.value,l=d.nextId(),d.recurse(e.value,l),d.assign(d.member(t,s,e.computed),l)})):(o(e.properties,function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,function(e){u.push(d.escape(t.key.type===zo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(t,c)),r(t||c);break;case zo.ThisExpression:this.assign(t,"s"),r(t||"s");break;case zo.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case zo.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(x(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Uo("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Cn.prototype={compile:function(e){var t=this;vn(e,t.$filter);var n,r;(n=En(e))&&(r=this.recurse(n));var i,a=bn(e.body);a&&(i=[],o(a,function(e,n){var r=t.recurse(e);r.isPure=e.isPure,e.input=r,i.push(r),e.watchId=n}));var s=[];o(e.body,function(e){s.push(t.recurse(e.expression))});var l=0===e.body.length?g:1===e.body.length?s[0]:function(e,t){var n;return o(s,function(r){n=r(e,t)}),n};return r&&(l.assign=function(e,t,n){return r(e,n,t)}),i&&(l.inputs=i),l},recurse:function(e,t,n){var r,i,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case zo.Literal:return this.value(e.value,t);case zo.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case zo.BinaryExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case zo.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case zo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case zo.Identifier:return s.identifier(e.name,t,n);case zo.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case zo.CallExpression:return a=[],o(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,o){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,r,o));var u=i.apply(void 0,s,o);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,o){var s,l=i(e,n,r,o);if(null!=l.value){for(var u=[],c=0;c<a.length;++c)u.push(a[c](e,n,r,o));s=l.value.apply(l.context,u)}return t?{value:s}:s};case zo.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,a){var s=r(e,n,o,a),l=i(e,n,o,a);return s.context[s.name]=l,t?{value:l}:l};case zo.ArrayExpression:return a=[],o(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case zo.ObjectExpression:return a=[],o(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===zo.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,r,i)]=a[s].value(e,n,r,i):o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case zo.ThisExpression:return function(e){return t?{value:e}:e};case zo.LocalsExpression:return function(e,n){return t?{value:n}:n};case zo.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=E(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=E(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=hn(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=(E(s)?s:0)-(E(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,o,a){var s=i&&e in i?i:r;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,r){return function(i,o,a,s){var l,u,c=e(i,o,a,s);return null!=c&&(l=t(i,o,a,s),l=dn(l),r&&1!==r&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s);r&&1!==r&&l&&null==l[t]&&(l[t]={});var u=null!=l?l[t]:void 0;return n?{context:l,name:t,value:u}:u}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}},Sn.prototype={constructor:Sn,parse:function(e){var t=this.getAst(e),n=this.astCompiler.compile(t.ast);return n.literal=$n(t.ast),n.constant=wn(t.ast),n.oneTime=t.oneTime,n},getAst:function(e){var t=!1;return e=e.trim(),":"===e.charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Yo=r("$sce"),Xo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Qo=/_([a-z])/g,Jo=r("$compile"),Zo=e.document.createElement("a"),ea=zn(e.location.href);Qn.$inject=["$document"],Zn.$inject=["$provide"];var ta=22,na=".",ra="0";ir.$inject=["$locale"],or.$inject=["$locale"];var ia={yyyy:cr("FullYear",4,0,!1,!0),yy:cr("FullYear",2,0,!0,!0),y:cr("FullYear",1,0,!1,!0),MMMM:fr("Month"),MMM:fr("Month",!0),MM:cr("Month",2,1),M:cr("Month",1,1),LLLL:fr("Month",!1,!0),dd:cr("Date",2),d:cr("Date",1),HH:cr("Hours",2),H:cr("Hours",1),hh:cr("Hours",2,-12),h:cr("Hours",1,-12),mm:cr("Minutes",2),m:cr("Minutes",1),ss:cr("Seconds",2),s:cr("Seconds",1),sss:cr("Milliseconds",3),EEEE:fr("Day"),EEE:fr("Day",!0),a:mr,Z:dr,ww:gr(2),w:gr(1),G:vr,GG:vr,GGG:vr,GGGG:br},oa=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,aa=/^-?\d+$/;yr.$inject=["$locale"];var sa=v(oi),la=v(ai);xr.$inject=["$parse"];var ua=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===mi.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),ca={};o(Zi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!==e){var r=St("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),ca[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(to,function(e,t){ca[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(ni);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=St("ng-"+e);ca[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===mi.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(ui&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var fa={$addControl:g,$$renameControl:Sr,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},da="ng-pending",pa="ng-submitted";_r.$inject=["$element","$attrs","$scope","$animate","$interpolate"],_r.prototype={$rollbackViewValue:function(){o(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){ve(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],o(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),o(this.$error,function(t,n){this.$setValidity(n,null,e)},this),o(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),K(this.$$controls,e),e.$$parentForm=fa},$setDirty:function(){this.$$animate.removeClass(this.$$element,Xa),this.$$animate.addClass(this.$$element,Qa),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Xa,Qa+" "+pa),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,pa),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Ar({clazz:_r,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(K(r,n),0===r.length&&delete e[t])}});var ha=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||g}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:_r,compile:function(n,i){n.addClass(Xa).addClass(Ga);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}var u=a[1]||s.$$parentForm;u.$addControl(s);var c=o?r(s.$name):g;o&&(c(e,s),i.$observe(o,function(t){s.$name!==t&&(c(e,void 0),s.$$parentForm.$$renameControl(s,t),(c=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(e,void 0),f(s,fa)})}}}};return i}]},ga=ha(),ma=ha(!0),va=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ba=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ya=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Ea=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,$a=/^(\d{4,})-(\d{2})-(\d{2})$/,wa=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,xa=/^(\d{4,})-W(\d\d)$/,Ca=/^(\d{4,})-(\d\d)$/,Sa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,_a="keydown wheel mousedown",Ta=Ee();o("date,datetime-local,month,time,week".split(","),function(e){Ta[e]=!0});var Aa={text:Nr,date:Ir("date",$a,Mr($a,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ir("datetimelocal",wa,Mr(wa,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ir("time",Sa,Mr(Sa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ir("week",xa,Rr,"yyyy-Www"),month:Ir("month",Ca,Mr(Ca,["yyyy","MM"]),"yyyy-MM"),number:Kr,url:qr,email:Vr,radio:zr,range:Hr,checkbox:Gr,hidden:g,button:g,submit:g,reset:g,file:g},Oa=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Aa[oi(a.type)]||Aa.text)(i,o,a,s[0],t,e,n,r)}}}}],ka=/^(true|false|\d+)$/,Na=function(){function e(e,t,n){var r=E(n)?n:9===ui?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return ka.test(n.ngValue)?function(t,n,r){var i=t.$eval(r.ngValue);e(n,r,i)}:function(t,n,r){t.$watch(r.ngValue,function(t){e(n,r,t)})}}}},Da=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=$e(e)})}}}}],Ra=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=y(e)?"":e})}}}}],Ma=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],Ia=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Fa=Yr("",!0),La=Yr("Odd",0),Pa=Yr("Even",1),Ba=Cr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),ja=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ua={},Ka={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=St("ng-"+e);Ua[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t]);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};Ka[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Ha=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=ye(s.clone),e.leave(u).done(function(e){e!==!1&&(u=null)}),s=null))})}}}],qa=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:yi.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var f,d,p,h=0,g=function(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).done(function(e){e!==!1&&(d=null)}),d=p,p=null)};r.$watch(o,function(o){var l=function(e){e===!1||!E(s)||s&&!r.$eval(s)||t()},d=++h;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&d===h){var t=r.$new();u.template=e;var s=c(t,function(e){g(),n.enter(e,null,i).done(l)});f=t,p=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||d===h&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],Va=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return mi.call(r[0]).match(/SVG/)?(r.empty(),void t(Me(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],za=Cr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Wa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?Ci(i):i,l=function(e){if(!y(e)){var t=[];return e&&o(e.split(s),function(e){e&&t.push(a?Ci(e):e)}),t}};r.$parsers.push(l),r.$formatters.push(function(e){if(wi(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}},Ga="ng-valid",Ya="ng-invalid",Xa="ng-pristine",Qa="ng-dirty",Ja="ng-untouched",Za="ng-touched",es="ng-empty",ts="ng-not-empty",ns=r("ngModel");Xr.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Xr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return T(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){T(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw ns("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,te(this.$$element))},$render:g,$isEmpty:function(e){return y(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,ts),this.$$animate.addClass(this.$$element,es)):(this.$$animate.removeClass(this.$$element,es),this.$$animate.addClass(this.$$element,ts))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Qa),this.$$animate.addClass(this.$$element,Xa)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Xa),this.$$animate.addClass(this.$$element,Qa),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Ja,Za)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Za,Ja)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!$i(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function r(){var e=c.$$parserName||"parse";return y(c.$$parserValid)?(s(e,null),!0):(c.$$parserValid||(o(c.$validators,function(e,t){s(t,null)}),o(c.$asyncValidators,function(e,t){s(t,null)})),s(e,c.$$parserValid),c.$$parserValid)}function i(){var n=!0;return o(c.$validators,function(r,i){var o=Boolean(r(e,t));n=n&&o,s(i,o)}),!!n||(o(c.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],r=!0;o(c.$asyncValidators,function(i,o){var a=i(e,t);if(!I(a))throw ns("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?c.$$q.all(n).then(function(){l(r)},g):l(!0)}function s(e,t){u===c.$$currentValidationRunId&&c.$setValidity(e,t)}function l(e){u===c.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var u=this.$$currentValidationRunId,c=this;return r()&&i()?void a():void l(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){r.$modelValue!==o&&r.$$writeModelToScope()}var t=this.$$lastCommittedViewValue,n=t,r=this;if(this.$$parserValid=!y(n)||void 0,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(n=this.$parsers[i](n),y(n)){this.$$parserValid=!1;break}$i(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,e()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(t){a||(r.$modelValue=t?n:void 0,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(e){try{e()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");C(t[e])?t=t[e]:C(t["default"])&&(t=t["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,g))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},Ar({clazz:Xr,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var rs,is=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Xr,priority:1,compile:function(t){return t.addClass(Xa).addClass(Ja).addClass(Ga),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$$setUpdateOnEvents(),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))})}}}}}],os=/(\s+|^)default(\s+|$)/;Jr.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=f({},e),o(e,function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=Ci(n.replace(os,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],Zr(e,this.$$options)),Zr(e,rs.$$options),new Jr(e)}},rs=new Jr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var as=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:rs,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},ss=Cr({terminal:!0,priority:1e3}),ls=r("ngOptions"),us=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,cs=["$compile","$document","$parse",function(t,n,r){function a(e,t,n){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(us);if(!s)throw ls("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,te(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],f=s[9],d=r(s[2]?s[1]:l),p=c&&r(c),h=p||d,g=f&&r(f),m=f?function(e,t){return g(n,t)}:function(e){return at(e)},v=function(e,t){return m(e,x(e,t))},b=r(s[2]||s[1]),y=r(s[3]||""),E=r(s[4]||""),$=r(s[8]),w={},x=u?function(e,t){return w[u]=t,w[l]=e,w}:function(e){return w[l]=e,w};return{trackBy:f,getTrackByValue:v,getWatchables:r($,function(e){var t=[];e=e||[];for(var r=a(e),i=r.length,o=0;o<i;o++){var l=e===r?o:r[o],u=e[l],c=x(u,l),f=m(u,c);if(t.push(f),s[2]||s[1]){var d=b(n,c);t.push(d)}if(s[4]){var p=E(n,c);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},r=$(n)||[],i=a(r),s=i.length,l=0;l<s;l++){var u=r===i?l:i[l],c=r[u],d=x(c,u),p=h(n,d),g=m(p,d),w=b(n,d),C=y(n,d),S=E(n,d),_=new o(g,p,w,C,S);e.push(_),t[g]=_}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return f?H(e.viewValue):e.viewValue}}}}}function s(e,r,i,s){function c(e,t){var n=l.cloneNode(!1);t.appendChild(n),d(e,n)}function f(e){var t=x.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function p(){var e=x&&h.readValue();if(x)for(var t=x.items.length-1;t>=0;t--){var n=x.items[t];Qe(E(n.group)?n.element.parentNode:n.element)}x=C.getOptions();var i={};if(x.items.forEach(function(e){var t;E(e.group)?(t=i[e.group],t||(t=u.cloneNode(!1),S.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),c(e,t)):c(e,S)}),r[0].appendChild(S),g.$render(),!g.$isEmpty(e)){var o=h.readValue(),a=C.trackBy||m;(a?V(e,o):e===o)||(g.$setViewValue(o),g.$render())}}for(var h=s[0],g=s[1],m=i.multiple,v=0,b=r.children(),y=b.length;v<y;v++)if(""===b[v].value){h.hasEmptyOption=!0,h.emptyOption=b.eq(v);break}r.empty();var $=!!h.emptyOption,w=ci(l.cloneNode(!1));w.val("?");var x,C=a(i.ngOptions,r,e),S=n[0].createDocumentFragment();h.generateUnknownOptionValue=function(e){return"?"},m?(h.writeValue=function(e){if(x){var t=e&&e.map(f)||[];x.items.forEach(function(e){e.element.selected&&!U(t,e)&&(e.element.selected=!1)})}},h.readValue=function(){var e=r.val()||[],t=[];return o(e,function(e){var n=x.selectValueMap[e];n&&!n.disabled&&t.push(x.getViewValueFromOption(n));
}),t},C.trackBy&&e.$watchCollection(function(){if(wi(g.$viewValue))return g.$viewValue.map(function(e){return C.getTrackByValue(e)})},function(){g.$render()})):(h.writeValue=function(e){if(x){var t=r[0].options[r[0].selectedIndex],n=x.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(h.removeUnknownOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):h.selectUnknownOrEmptyOption(e)}},h.readValue=function(){var e=x.selectValueMap[r.val()];return e&&!e.disabled?(h.unselectEmptyOption(),h.removeUnknownOption(),x.getViewValueFromOption(e)):null},C.trackBy&&e.$watch(function(){return C.getTrackByValue(g.$viewValue)},function(){g.$render()})),$&&(t(h.emptyOption)(e),r.prepend(h.emptyOption),h.emptyOption[0].nodeType===Fi?(h.hasEmptyOption=!1,h.registerOption=function(e,t){""===t.val()&&(h.hasEmptyOption=!0,h.emptyOption=t,h.emptyOption.removeClass("ng-scope"),g.$render(),t.on("$destroy",function(){var e=h.$isEmptyOptionSelected();h.hasEmptyOption=!1,h.emptyOption=void 0,e&&g.$render()}))}):h.emptyOption.removeClass("ng-scope")),e.$watchCollection(C.getWatchables,p)}var l=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=g},post:s}}}],fs=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,f=l.count,d=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,h=a.$eval(d)||{},m={},v=t.startSymbol(),b=t.endSymbol(),E=v+f+"-"+p+b,$=yi.noop;o(l,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+oi(n[2]);h[r]=s.attr(l.$attr[t])}}),o(h,function(e,n){m[n]=t(e.replace(r,E))}),a.$watch(f,function(t){var r=parseFloat(t),i=$i(r);if(i||r in h||(r=e.pluralCat(r-p)),!(r===c||i&&$i(c))){$();var o=m[r];y(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+d),$=g,u()):$=a.$watch(o,u),c=r}})}}}],ds=["$parse","$animate","$compile",function(e,t,n){var a="$$NG_REMOVED",s=r("ngRepeat"),l=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,f){var d=f.ngRepeat,p=n.$$createComment("end ngRepeat",d),h=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var g=h[1],m=h[2],v=h[3],b=h[4];if(h=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!h)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var y=h[3]||h[1],E=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var $,w,x,C,S={$id:at};return b?$=e(b):(x=function(e,t){return at(t)},C=function(e){return e}),function(e,n,r,f,h){$&&(w=function(t,n,r){return E&&(S[E]=t),S[y]=n,S.$index=r,$(e,S)});var g=Ee();e.$watchCollection(m,function(r){var f,m,b,$,S,_,T,A,O,k,N,D,R=n[0],M=Ee();if(v&&(e[v]=r),i(r))O=r,A=w||x;else{A=w||C,O=[];for(var I in r)ii.call(r,I)&&"$"!==I.charAt(0)&&O.push(I)}for($=O.length,N=new Array($),f=0;f<$;f++)if(S=r===O?f:O[f],_=r[S],T=A(S,_,f),g[T])k=g[T],delete g[T],M[T]=k,N[f]=k;else{if(M[T])throw o(N,function(e){e&&e.scope&&(g[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,T,_);N[f]={id:T,scope:void 0,clone:void 0},M[T]=!0}for(var F in g){if(k=g[F],D=ye(k.clone),t.leave(D),D[0].parentNode)for(f=0,m=D.length;f<m;f++)D[f][a]=!0;k.scope.$destroy()}for(f=0;f<$;f++)if(S=r===O?f:O[f],_=r[S],k=N[f],k.scope){b=R;do b=b.nextSibling;while(b&&b[a]);u(k)!==b&&t.move(ye(k.clone),null,R),R=c(k),l(k.scope,f,y,_,E,S,$)}else h(function(e,n){k.scope=n;var r=p.cloneNode(!1);e[e.length++]=r,t.enter(e,null,R),R=r,k.clone=e,M[k.id]=k,l(k.scope,f,y,_,E,S,$)});g=M})}}}}],ps="ng-hide",hs="ng-hide-animate",gs=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ps,{tempClasses:hs})})}}}],ms=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ps,{tempClasses:hs})})}}}],vs=Cr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),bs=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],f=[],d=function(e,t){return function(n){n!==!1&&e.splice(t,1)}};n.$watch(s,function(n){for(var r,i;c.length;)e.cancel(c.pop());for(r=0,i=f.length;r<i;++r){var s=ye(u[r].clone);f[r].$destroy();var p=c[r]=e.leave(s);p.done(d(c,r))}u.length=0,f.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],ys=Cr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e});o(a,function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})})}}),Es=Cr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),$s=r("ngTransclude"),ws=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function a(e,n){e.length&&l(e)?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}function l(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==Ii||r.nodeValue.trim())return!0}}if(!o)throw $s("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",te(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var u=r.ngTransclude||r.ngTranscludeSlot;o(a,null,u),u&&!o.isSlotFilled(u)&&s()}}}}],xs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Cs={$setViewValue:g,$render:g},Ss=["$element","$scope",function(t,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),e&&o.ngModelCtrl.$render())}))}var o=this,a=new ro;o.selectValueMap={},o.ngModelCtrl=Cs,o.multiple=!1,o.unknownOption=ci(e.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(e){var n=o.generateUnknownOptionValue(e);o.unknownOption.val(n),t.prepend(o.unknownOption),ei(o.unknownOption,!0),t.val(n)},o.updateUnknownOption=function(e){var n=o.generateUnknownOptionValue(e);o.unknownOption.val(n),ei(o.unknownOption,!0),t.val(n)},o.generateUnknownOptionValue=function(e){return"? "+at(e)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(t.val(""),ei(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&ei(o.emptyOption,!1)},n.$on("$destroy",function(){o.renderUnknownOption=g}),o.readValue=function(){var e=t.val(),n=e in o.selectValueMap?o.selectValueMap[e]:e;return o.hasOption(n)?n:null},o.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&ei(ci(n),!1),o.hasOption(e)){o.removeUnknownOption();var r=at(e);t.val(r in o.selectValueMap?r:e);var i=t[0].options[t[0].selectedIndex];ei(ci(i),!0)}else o.selectUnknownOrEmptyOption(e)},o.addOption=function(e,t){if(t[0].nodeType!==Fi){ve(e,'"option value"'),""===e&&(o.hasEmptyOption=!0,o.emptyOption=t);var n=a.get(e)||0;a.set(e,n+1),r()}},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a["delete"](e),""===e&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(e,t-1))},o.hasOption=function(e){return!!a.get(e)},o.$hasEmptyOption=function(){return o.hasEmptyOption},o.$isUnknownOptionSelected=function(){return t[0].options[0]===o.unknownOption[0]},o.$isEmptyOptionSelected=function(){return o.hasEmptyOption&&t[0].options[t[0].selectedIndex]===o.emptyOption[0]},o.selectUnknownOrEmptyOption=function(e){null==e&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(e):o.renderUnknownOption(e)};var s=!1,l=!1;o.registerOption=function(e,t,n,a,s){if(n.$attr.ngValue){var l,u=NaN;n.$observe("value",function(e){var n,r=t.prop("selected");E(u)&&(o.removeOption(l),delete o.selectValueMap[u],n=!0),u=at(e),l=e,o.selectValueMap[u]=e,o.addOption(e,t),t.attr("value",u),n&&r&&i()})}else a?n.$observe("value",function(e){o.readValue();var n,r=t.prop("selected");E(l)&&(o.removeOption(l),n=!0),l=e,o.addOption(e,t),n&&r&&i()}):s?e.$watch(s,function(e,r){n.$set("value",e);var a=t.prop("selected");r!==e&&o.removeOption(r),o.addOption(e,t),r&&a&&i()}):o.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=o.readValue(),t=n.value;o.removeOption(t),r(),(o.multiple&&e&&e.indexOf(t)!==-1||e===t)&&i(!0)})}}],_s=function(){function e(e,t,n,r){var i=r[0],a=r[1];if(!a)return void(i.registerOption=g);if(i.ngModelCtrl=a,t.on("change",function(){i.removeUnknownOption(),e.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return o(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),e},i.writeValue=function(e){o(t.find("option"),function(t){var n=!!e&&(U(e,t.value)||U(e,i.selectValueMap[t.value])),r=t.selected;n!==r&&ei(ci(t),n)})};var s,l=NaN;e.$watch(function(){l!==a.$viewValue||V(s,a.$viewValue)||(s=xe(a.$viewValue),a.$render()),l=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ss,priority:1,link:{pre:e,post:t}}},Ts=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return E(n.ngValue)||(E(n.value)?r=e(n.value,!0):(i=e(t.text(),!0),i||n.$set("value",t.text()))),function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],As=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Os=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o,a=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(x(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,te(t));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||y(o)||o.test(t)}}}}},ks=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=p(e);i=$i(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},Ns=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=p(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load AngularJS more than once.")):(he(),_e(yi),yi.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r),o=(e*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void ci(function(){ue(e.document,ce)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e("#"===o?[]:o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target).closest(".btn");t.call(r,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=e(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=t(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=t(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t();
}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),f=o[0].offsetWidth,d=o[0].offsetHeight;if(u){var p=s,h=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+d>h.bottom?"top":"top"==s&&c.top-d<h.top?"bottom":"right"==s&&c.right+f>h.width?"left":"left"==s&&c.left-f<h.left?"right":s,o.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,c,f,d);this.applyPlacement(g,s);var m=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(t.top=t.top+o-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var f=/top|bottom/.test(n),d=f?2*c.left-i+l:2*c.top-o+u,p=f?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(d,r[0][p],f)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:t.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,l,a)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var u=t.left-o,c=t.left+o+n;u<a.left?i.left=a.left-u:c>a.right&&(i.left=a.left+a.width-c)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=e-r)&&"bottom";var s=null==this.affixed,l=s?i:o.top,u=s?a:t;return null!=n&&i<=n?"top":null!=r&&l+u>=e-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return H(new(H(function(){},{prototype:e})),t)}function i(e){return K(arguments,function(t){t!==e&&K(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return K(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function l(e,t,n,r){var i,l=o(n,r),u={},c=[];for(var f in l)if(l[f]&&l[f].params&&(i=a(l[f].params),i.length))for(var d in i)s(c,i[d])>=0||(c.push(i[d]),u[i[d]]=e[i[d]]);return H({},u,t)}function u(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return K(e,function(e){n[e]=t[e]}),n}function f(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return K(n,function(n){n in e&&(t[n]=e[n])}),t}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function p(e,t){var n=U(e),r=n?[]:{};return K(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function h(e,t){var n=U(e)?[]:{};return K(e,function(e,r){n[r]=t(e,r)}),n}function g(e,t){var r=1,o=2,l={},u=[],c=l,f=H(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(e,n){if(b[n]!==o){if(v.push(n),b[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=r,B(e))m.push(n,[function(){return t.get(e)}],u);else{var i=t.annotate(e);K(i,function(e){e!==n&&l.hasOwnProperty(e)&&p(l[e],e)}),m.push(n,e,i)}v.pop(),b[n]=o}}function h(e){return j(e)&&e.then&&e.$$promises}if(!j(l))throw new Error("'invocables' must be an object");var g=a(l||{}),m=[],v=[],b={};return K(l,p),l=v=b=null,function(r,o,a){function s(){--E||($||i(y,o.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,p.resolve(y))}function l(e){v.$$failure=e,p.reject(e)}function u(n,i,o){function u(e){f.reject(e),l(e)}function c(){if(!L(v.$$failure))try{f.resolve(t.invoke(i,a,y)),f.promise.then(function(e){y[n]=e,s()},u)}catch(e){u(e)}}var f=e.defer(),d=0;K(o,function(e){b.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(d++,b[e].then(function(t){y[e]=t,--d||c()},u))}),d||c(),b[n]=f.promise}if(h(r)&&a===n&&(a=o,o=r,r=null),r){if(!j(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!h(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=f;var p=e.defer(),v=p.promise,b=v.$$promises={},y=H({},r),E=1+m.length/3,$=!1;if(L(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&i(y,d(o.$$inheritedValues,g)),H(b,o.$$promises),o.$$values?($=i(y,d(o.$$values,g)),v.$$inheritedValues=d(o.$$values,g),s()):(o.$$inheritedValues&&(v.$$inheritedValues=d(o.$$inheritedValues,g)),o.then(s,l));for(var w=0,x=m.length;x>w;w+=3)r.hasOwnProperty(m[w])?s():u(m[w],m[w+1],m[w+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function m(e,t,n){this.fromConfig=function(e,t,n){return L(e.template)?this.fromString(e.template,t):L(e.templateUrl)?this.fromUrl(e.templateUrl,t):L(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return P(e)?e(t):e},this.fromUrl=function(n,r){return P(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,i){function o(t,n,r,i){if(m.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new z.Param(t,n,r,i),g[t]}function a(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:o=o.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function s(i,o){var a,s,l,u,c;return a=i[2]||i[3],c=t.params[a],l=e.substring(d,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),s&&(u=z.type(s)||r(z.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:l,type:u,cfg:c}}t=H({params:{}},j(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",d=0,p=this.segments=[],h=i?i.params:{},g=this.params=i?i.params.$$new():new z.ParamSet,m=[];this.source=e;for(var v,b,y;(l=u.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)b=o(v.id,v.type,v.cfg,"path"),f+=a(v.segment,b.type.pattern.source,b.squash,b.isOptional),p.push(v.segment),d=u.lastIndex;y=e.substring(d);var E=y.indexOf("?");if(E>=0){var $=this.sourceSearch=y.substring(E);if(y=y.substring(0,E),this.sourcePath=e.substring(0,d+E),$.length>0)for(d=0;l=c.exec($);)v=s(l,!0),b=o(v.id,v.type,v.cfg,"search"),d=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=a(y)+(t.strict===!1?"/?":"")+"$",p.push(y),this.regexp=new RegExp(f,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function b(e){H(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function i(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function o(){return{strict:g,caseInsensitive:d}}function l(e){return P(e)||U(e)&&P(e[e.length-1])}function u(){for(;w.length;){var e=w.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(E[e.name],f.invoke(e.def))}}function c(e){H(this,e||{})}z=this;var f,d=!1,g=!0,m=!1,E={},$=!0,w=[],x={string:{encode:e,decode:i,is:function(e){return null==e||!L(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return L(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return L(e)&&(d=e),d},this.strictMode=function(e){return L(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!L(e))return m;if(e!==!0&&e!==!1&&!B(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new v(e,H(o(),t))},this.isMatcher=function(e){if(!j(e))return!1;var t=!0;return K(v.prototype,function(n,r){P(n)&&(t=t&&L(e[r])&&P(e[r]))}),t},this.type=function(e,t,n){if(!L(t))return E[e];if(E.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return E[e]=new b(H({name:e},t)),n&&(w.push({name:e,def:n}),$||u()),this},K(x,function(e,t){E[t]=new b(H({name:t},e))}),E=r(E,{}),this.$get=["$injector",function(e){return f=e,$=!1,u(),K(x,function(e,t){E[t]||(E[t]=new b(e))}),this}],this.Param=function(e,r,i,o){function u(e){var t=j(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function c(n,r,i){if(n.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:n.type?t.isString(n.type)?E[n.type]:n.type instanceof b?n.type:new b(n.type):"config"===i?E.any:E.string}function d(){var t={array:"search"===o&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return H(t,n,i).array}function g(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!L(n)||null==n)return m;if(n===!0||B(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(e,t,r,i){var o,a,l=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=U(e.replace)?e.replace:[],B(i)&&o.push({from:i,to:n}),a=h(o,function(e){return e.from}),p(l,function(e){return-1===s(a,e.from)}).concat(o)}function y(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var e=f.invoke(i.$$fn);if(null!==e&&e!==n&&!x.type.is(e))throw new Error("Default value ("+e+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return e}function $(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(p(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),L(e)?x.type.$normalize(e):y()}function w(){return"{Param:"+e+" "+r+" squash: '"+_+"' optional: "+S+"}"}var x=this;i=u(i),r=c(i,r,o);var C=d();r=C?r.$asArray(C,"search"===o):r,"string"!==r.name||C||"path"!==o||i.value!==n||(i.value="");var S=i.value!==n,_=g(i,S),T=v(i,C,S,_);H(this,{id:e,type:r,location:o,array:C,squash:_,replace:T,isOptional:S,value:$,dynamic:n,config:i,toString:w})},c.prototype={$$new:function(){return r(this,H(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),K(t,function(t){K(a(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return K(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return K(r.$$keys(),function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var r,i,o,a,s,l=this.$$keys();for(r=0;r<l.length&&(i=this[l[r]],o=e[l[r]],o!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),t.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function E(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!L(r)||r}function s(r,i,o,a,s){function d(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function p(e){function t(e){var t=e(o,r);return!!t&&(B(t)&&r.replace().url(t),!0)}if(!e||!e.defaultPrevented){g&&r.url()===g,g=n;var i,a=u.length;for(i=0;a>i;i++)if(t(u[i]))return;c&&t(c)}}function h(){return l=l||i.$on("$locationChangeSuccess",p)}var g,m=a.baseHref(),v=r.url();return f||h(),{sync:function(){p()},listen:function(){return h()},update:function(e){return e?void(v=r.url()):void(r.url()!==v&&(r.url(v),r.replace()))},push:function(e,t,i){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),r.url(o),g=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&s.history;var l=n.format(i);if(o=o||{},a||null===l||(l="#"+e.hashPrefix()+l),null!==l&&i&&i["#"]&&(l+="#"+i["#"]),l=d(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,f=!1;this.rule=function(e){if(!P(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(B(e)){var t=e;e=function(){return t}}else if(!P(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=B(t);if(B(e)&&(e=r.compile(e)),!s&&!P(t)&&!U(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),H(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:B(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,
t=["$match",function(e){return o(n,e)}]),H(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:i(e)})}},u={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),f=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function $(e,i){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var r=B(e),i=r?e:e.name,a=o(i);if(a){if(!t)throw new Error("No reference point given for path '"+i+"'");t=d(t);for(var s=i.split("."),l=0,u=s.length,c=t;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var f=S[i];return!f||!r&&(r||f!==e&&f.self!==e)?n:f}function p(e,t){_[e]||(_[e]=[]),_[e].push(t)}function g(e){for(var t=_[e]||[];t.length;)m(t.shift())}function m(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!B(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):B(t.parent)?t.parent:j(t.parent)&&B(t.parent.name)?t.parent.name:"";if(i&&!S[i])return p(i,t.self);for(var o in A)P(A[o])&&(t[o]=A[o](t,A.$delegates[o]));return S[n]=t,!t[T]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){C.$current.navigable==t&&u(e,n)||C.transitionTo(t,e,{inherit:!0,location:!1})}]),g(n),t}function v(e){return e.indexOf("*")>-1}function b(e){for(var t=e.split("."),n=C.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function y(e,t){return B(e)&&!L(t)?A[e]:P(t)&&B(e)?(A[e]&&!A.$delegates[e]&&(A.$delegates[e]=A[e]),A[e]=t,this):this}function E(e,t){return j(e)?t=e:t.name=e,m(t),this}function $(e,i,o,s,f,p,g,m,y){function E(t,n,r,o){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return g.update(),O;if(!a.retry)return null;if(o.$retry)return g.update(),k;var s=C.transition=i.when(a.retry);return s.then(function(){return s!==C.transition?_:(t.options.$retry=!0,C.transitionTo(t.to,t.toParams,t.options))},function(){return O}),g.update(),s}function $(e,n,r,a,l,u){function d(){var n=[];return K(e.views,function(r,i){var a=r.resolve&&r.resolve!==e.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:l.globals,params:p,notify:u.notify})||""}],n.push(f.resolve(a,l.globals,l.resolve,e).then(function(n){if(P(r.controllerProvider)||U(r.controllerProvider)){var o=t.extend({},a,l.globals);n.$$controller=s.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,l[i]=n}))}),i.all(n).then(function(){return l.globals})}var p=r?n:c(e.params.$$keys(),n),h={$stateParams:p};l.resolve=f.resolve(e.resolve,h,l.resolve,e);var g=[l.resolve.then(function(e){l.globals=e})];return a&&g.push(a),i.all(g).then(d).then(function(e){return l})}var _=i.reject(new Error("transition superseded")),A=i.reject(new Error("transition prevented")),O=i.reject(new Error("transition aborted")),k=i.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},C={params:{},current:x.self,$current:x,transition:null},C.reload=function(e){return C.transitionTo(C.current,p,{reload:e||!0,inherit:!1,notify:!0})},C.go=function(e,t,n){return C.transitionTo(e,t,H({inherit:!0,relative:C.$current},n))},C.transitionTo=function(t,n,o){n=n||{},o=H({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=C.$current,f=C.params,h=u.path,m=d(t,o.relative),v=n["#"];if(!L(m)){var b={to:t,toParams:n,options:o},y=E(b,u.self,f,o);if(y)return y;if(t=b.to,n=b.toParams,o=b.options,m=d(t,o.relative),!L(m)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(m[T])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(p,n||{},C.$current,m)),!m.params.$$validates(n))return k;n=m.params.$$values(n),t=m;var S=t.path,O=0,N=S[O],D=x.locals,R=[];if(o.reload){if(B(o.reload)||j(o.reload)){if(j(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var M=o.reload===!0?h[0]:d(o.reload);if(o.reload&&!M)throw new Error("No such reload state '"+(B(o.reload)?o.reload:o.reload.name)+"'");for(;N&&N===h[O]&&N!==M;)D=R[O]=N.locals,O++,N=S[O]}}else for(;N&&N===h[O]&&N.ownParams.$$equals(n,f);)D=R[O]=N.locals,O++,N=S[O];if(w(t,n,u,f,D,o))return v&&(n["#"]=v),C.params=n,q(C.params,p),q(c(t.params.$$keys(),p),t.locals.globals.$stateParams),o.location&&t.navigable&&t.navigable.url&&(g.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),C.transition=null,i.when(C.current);if(n=c(t.params.$$keys(),n||{}),v&&(n["#"]=v),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,f,o).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,u.self,f),null==C.transition&&g.update(),A;for(var I=i.when(D),F=O;F<S.length;F++,N=S[F])D=R[F]=r(D),I=$(N,n,N===t,I,D,o);var P=C.transition=I.then(function(){var r,i,a;if(C.transition!==P)return _;for(r=h.length-1;r>=O;r--)a=h[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=O;r<S.length;r++)i=S[r],i.locals=R[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return C.transition!==P?_:(C.$current=t,C.current=t.self,C.params=n,q(C.params,p),C.transition=null,o.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,f),g.update(!0),C.current)},function(r){return C.transition!==P?_:(C.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,u.self,f,r),a.defaultPrevented||g.update(),i.reject(r))});return P},C.is=function(e,t,r){r=H({relative:C.$current},r||{});var i=d(e,r.relative);return L(i)?C.$current===i&&(!t||u(i.params.$$values(t),p)):n},C.includes=function(e,t,r){if(r=H({relative:C.$current},r||{}),B(e)&&v(e)){if(!b(e))return!1;e=C.$current.name}var i=d(e,r.relative);return L(i)?!!L(C.$current.includes[i.name])&&(!t||u(i.params.$$values(t),p,a(t))):n},C.href=function(e,t,r){r=H({lossy:!0,inherit:!0,absolute:!1,relative:C.$current},r||{});var i=d(e,r.relative);if(!L(i))return null;r.inherit&&(t=l(p,t||{},C.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?g.href(o.url,c(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},C.get=function(e,t){if(0===arguments.length)return h(a(S),function(e){return S[e].self});var n=d(e,t||C.$current);return n&&n.self?n.self:null},C}function w(e,t,n,r,i,o){function a(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),o=f.apply({},[e.params].concat(i)),a=new z.ParamSet(o);return a.$$equals(t,n)}return!(o.reload||e!==n||!(i===n.locals||e.self.reloadOnSearch===!1&&a(n,r,t)))||void 0}var x,C,S={},_={},T="abstract",A={parent:function(e){if(L(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):x},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=r(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(B(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||x).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new z.ParamSet;return K(e.params||{},function(e,n){t[n]||(t[n]=new z.Param(n,null,e,"config"))}),t},params:function(e){var t=f(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?H(e.parent.params.$$new(),t):new z.ParamSet},views:function(e){var t={};return K(L(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?H({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};x=m({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=y,this.state=E,this.$get=$,$.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function e(e,t){return{load:function(e,n){var r,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=H(i,n),n.view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function x(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function C(e,n,r,i){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,n){function r(e){return 1===W&&G>=4?!!u.enabled(e):1===W&&G>=2?!!u.enabled():!!l}var i={enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}};if(e.noanimation)return i;if(u)return{enter:function(e,n,o){r(e)?t.version.minor>2?u.enter(e,null,n).then(o):u.enter(e,null,n,o):i.enter(e,n,o)},leave:function(e,n){r(e)?t.version.minor>2?u.leave(e).then(n):u.leave(e,n):i.leave(e,n)}};if(l){var o=l&&l(n,e);return{enter:function(e,t,n){o.enter(e,null,t),n()},leave:function(e,t){o.leave(e),t()}}}return i}var s=o(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function u(){function e(){t&&t.remove(),n&&n.$destroy()}var t=f,n=p;n&&(n._willBeDestroyed=!0),d?(v.leave(d,function(){e(),f=null}),f=d):(e(),f=null),d=null,p=null}function c(a){var c,f=_(n,l,o,i),b=f&&e.$current&&e.$current.locals[f];if((a||b!==h)&&!n._willBeDestroyed){c=n.$new(),h=e.$current.locals[f],c.$emit("$viewContentLoading",f);var y=s(c,function(e){v.enter(e,o,function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&r(e)}),u()});d=y,p=c,p.$emit("$viewContentLoaded",f),p.$eval(g)}}var f,d,p,h,g=l.onload||"",m=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),c(!0)}}};return c}function S(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var l=n.$current,u=_(i,s,a,r),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var f=e(a.contents());if(c.$$controller){c.$scope=i,c.$element=a;var d=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=d),a.data("$ngControllerController",d),a.children().data("$ngControllerController",d)}f(i)}}}}}function _(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function T(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function A(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function O(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function k(e,t,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});o.preventDefault();var u=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function N(e,t){return{relative:A(e)||t.$current,inherit:!0}}function D(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){var s=T(o.uiSref,e.current.name),l={state:s.state,href:null,params:null},u=O(i),c=a[1]||a[0];l.options=H(N(i,e),o.uiSrefOpts?r.$eval(o.uiSrefOpts):{});var f=function(n){n&&(l.params=t.copy(n)),l.href=e.href(s.state,l.params,l.options),c&&c.$$addStateInfo(s.state,l.params),null!==l.href&&o.$set(u.attr,l.href)};s.paramExpr&&(r.$watch(s.paramExpr,function(e){e!==l.params&&f(e)},!0),l.params=t.copy(r.$eval(s.paramExpr))),f(),u.clickable&&i.bind("click",k(i,e,n,u,function(){return l}))}}}function R(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,o){function a(t){f.state=t[0],f.params=t[1],f.options=t[2],f.href=e.href(f.state,f.params,f.options),l&&l.$$addStateInfo(f.state,f.params),f.href&&i.$set(s.attr,f.href)}var s=O(r),l=o[1]||o[0],u=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],c="["+u.map(function(e){return e||"null"}).join(", ")+"]",f={state:null,params:null,options:null,href:null};n.$watch(c,a,!0),a(n.$eval(c)),s.clickable&&r.bind("click",k(r,e,t,s,function(){return f}))}}}function M(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,i,o){function a(t,n,i){var o=e.get(t,A(r)),a=s(t,n);g.push({state:o||{name:t},params:n,hash:a}),m[a]=i}function s(e,n){if(!B(e))throw new Error("state should be a string");return j(n)?e+V(n):(n=t.$eval(n),j(n)?e+V(n):e)}function l(){for(var e=0;e<g.length;e++)f(g[e].state,g[e].params)?u(r,m[g[e].hash]):c(r,m[g[e].hash]),d(g[e].state,g[e].params)?u(r,p):c(r,p)}function u(e,t){o(function(){e.addClass(t)})}function c(e,t){e.removeClass(t)}function f(t,n){return e.includes(t.name,n)}function d(t,n){return e.is(t.name,n)}var p,h,g=[],m={};p=n(i.uiSrefActiveEq||"",!1)(t);try{h=t.$eval(i.uiSrefActive)}catch(v){}h=h||n(i.uiSrefActive||"",!1)(t),j(h)&&K(h,function(n,r){if(B(n)){var i=T(n,e.current.name);a(i.state,t.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(e,t){j(h)&&g.length>0||(a(e,t,h),l())},t.$on("$stateChangeSuccess",l),l()}]}}function I(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function F(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}var L=t.isDefined,P=t.isFunction,B=t.isString,j=t.isObject,U=t.isArray,K=t.forEach,H=t.extend,q=t.copy,V=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var z;v.prototype.concat=function(e,t){var n={caseInsensitive:z.caseInsensitive(),strict:z.strictMode(),squash:z.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,H(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=h(r,t);return h(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var f,d;for(i=0;u>i;i++){for(a=s[i],f=this.params[a],d=r[i+1],o=0;o<f.replace.length;o++)f.replace[o].from===d&&(d=f.replace[o].to);d&&f.array===!0&&(d=n(d)),L(d)&&(d=f.type.decode(d)),c[a]=f.value(d)}for(;l>i;i++){for(a=s[i],c[a]=this.params[a].value(t[a]),f=this.params[a],d=t[a],o=0;o<f.replace.length;o++)f.replace[o].from===d&&(d=f.replace[o].to);L(d)&&(d=f.type.decode(d)),c[a]=f.value(d)}return c},v.prototype.parameters=function(e){return L(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=r.length,u=n[0];for(o=0;l>o;o++){var c=s>o,f=r[o],d=i[f],p=d.value(e[f]),g=d.isOptional&&d.type.equals(d.value(),p),m=!!g&&d.squash,v=d.type.encode(p);if(c){var b=n[o+1],y=o+1===s;if(m===!1)null!=v&&(u+=U(v)?h(v,t).join("-"):encodeURIComponent(v)),u+=b;else if(m===!0){var E=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=b.match(E)[1]}else B(m)&&(u+=m+b);y&&d.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==v||g&&m!==!1)continue;if(U(v)||(v=[v]),0===v.length)continue;v=h(v,encodeURIComponent).join("&"+f+"="),u+=(a?"&":"?")+(f+"="+v),a=!0}}return u},b.prototype.is=function(e,t){return!0},b.prototype.encode=function(e,t){return e},b.prototype.decode=function(e,t){return e},b.prototype.equals=function(e,t){return e==t},b.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},b.prototype.pattern=/.*/,b.prototype.toString=function(){return"{Type:"+this.name+"}"},b.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},b.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return U(e)?e:L(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){if(U(n)&&0===n.length)return n;n=i(n);var r=h(n,e);return t===!0?0===p(r,a).length:o(r)}}function l(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=l(r(e,"equals")),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),E.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",E),$.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",$),w.$inject=[],t.module("ui.router.state").provider("$view",w),t.module("ui.router.state").provider("$uiViewScroll",x);var W=t.version.major,G=t.version.minor;C.$inject=["$state","$injector","$uiViewScroll","$interpolate"],S.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",C),t.module("ui.router.state").directive("uiView",S),D.$inject=["$state","$timeout"],R.$inject=["$state","$timeout"],M.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",D).directive("uiSrefActive",M).directive("uiSrefActiveEq",M).directive("uiState",R),I.$inject=["$state"],F.$inject=["$state"],t.module("ui.router.state").filter("isState",I).filter("includedByState",F)}(window,window.angular),function(e,t){"use strict";function n(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var r=t.$$minErr("$resource"),i=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).info({angularVersion:"1.6.10"}).provider("$resource",function(){var e=/^https?:\/\/\[[^\]]*][^\/]*/,o=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,l,u){function c(e,t){this.template=e,this.defaults=p({},o.defaults,t),this.urlParams={}}var f=t.noop,d=t.forEach,p=t.extend,h=t.copy,g=t.isArray,m=t.isDefined,v=t.isFunction,b=t.isNumber,y=t.$$encodeUriQuery,E=t.$$encodeUriSegment;return c.prototype={setUrlParams:function(t,n,i){var o,a,s=this,l=i||s.template,u="",c=s.urlParams=Object.create(null);d(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw r("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(c[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(e,function(e){return u=e,""}),n=n||{},d(s.urlParams,function(e,t){o=n.hasOwnProperty(t)?n[t]:s.defaults[t],m(o)&&null!==o?(a=e.isQueryParamValue?y(o,!0):E(o),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return a+t})):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u+l.replace(/\/(\\|%5C)\./,"/."),d(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},function(e,y,E,$){function w(e,n){var o={};return n=p({},y,n),d(n,function(n,a){v(n)&&(n=n(e));var s;if(n&&n.charAt&&"@"===n.charAt(0)){s=e;var l=n.substr(1);if(null==l||""===l||"hasOwnProperty"===l||!i.test("."+l))throw r("badmember",l);for(var l=l.split("."),u=0,c=l.length;u<c&&t.isDefined(s);u++){var f=l[u];s=null!==s?s[f]:void 0}}else s=n;o[a]=s}),o}function x(e){return e.resource}function C(e){n(e||{},this)}var S=new c(e,$);return E=p({},o.defaults.actions,E),C.prototype.toJSON=function(){var e=p({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},d(E,function(e,t){var i=!0===e.hasBody||!1!==e.hasBody&&/^(POST|PUT|PATCH)$/i.test(e.method),o=e.timeout,c=m(e.cancellable)?e.cancellable:S.defaults.cancellable;o&&!b(o)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,o=null),C[t]=function(s,m,b,y){function E(e){P["catch"](f),null!==O&&O.resolve(e)}var $,_,T,A={};switch(arguments.length){case 4:T=y,_=b;case 3:case 2:if(!v(m)){A=s,$=m,_=b;break}if(v(s)){_=s,T=m;break}_=m,T=b;case 1:v(s)?_=s:i?$=s:A=s;break;case 0:break;default:throw r("badargs",arguments.length)}var O,k,N=this instanceof C,D=N?$:e.isArray?[]:new C($),R={},M=e.interceptor&&e.interceptor.response||x,I=e.interceptor&&e.interceptor.responseError||void 0,F=!!T,L=!!I;d(e,function(e,t){switch(t){default:R[t]=h(e);case"params":case"isArray":case"interceptor":case"cancellable":}}),!N&&c&&(O=l.defer(),R.timeout=O.promise,o&&(k=u(O.resolve,o))),i&&(R.data=$),S.setUrlParams(R,p({},w($,e.params||{}),A),e.url);var P=a(R).then(function(i){var o=i.data;if(o){if(g(o)!==!!e.isArray)throw r("badcfg",t,e.isArray?"array":"object",g(o)?"array":"object",R.method,R.url);if(e.isArray)D.length=0,d(o,function(e){"object"==typeof e?D.push(new C(e)):D.push(e)});else{var a=D.$promise;n(o,D),D.$promise=a}}return i.resource=D,i},function(e){return e.resource=D,l.reject(e)}),P=P["finally"](function(){D.$resolved=!0,!N&&c&&(D.$cancelRequest=f,u.cancel(k),O=k=R.timeout=null)}),P=P.then(function(e){var t=M(e);return(_||f)(t,e.headers,e.status,e.statusText),t},F||L?function(e){return F&&!L&&P["catch"](f),F&&T(e),L?I(e):l.reject(e)}:void 0);return N?P:(D.$promise=P,D.$resolved=!1,c&&(D.$cancelRequest=E),D)},C.prototype["$"+t]=function(e,n,r){return v(e)&&(r=n,n=e,e={}),e=C[t].call(this,e,this,n,r),e.$promise||e}}),C}}]})}(window,window.angular),!function(e,t){"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(e){"use strict";var t=e.module("ngDialog",[]),n=e.element,r=e.isDefined,i=(document.body||document.documentElement).style,o=r(i.animation)||r(i.WebkitAnimation)||r(i.MozAnimation)||r(i.MsAnimation)||r(i.OAnimation),a="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",s="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",l="ngdialog-disabled-animation",u={html:!1,body:!1},c={},f=[],d=!1,p=!1;return t.provider("ngDialog",function(){var t=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(e){u.html=e||!1},this.setForceBodyReload=function(e){u.body=e||!1},this.setDefaults=function(n){e.extend(t,n)},this.setOpenOnePerName=function(e){p=e||!1};var r,i=0,h=0,g={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(m,v,b,y,E,$,w,x,C,S){var _=[],T={onDocumentKeydown:function(e){27===e.keyCode&&A.close("$escape")},activate:function(e){var t=e.data("$ngDialogOptions");t.trapFocus&&(e.on("keydown",T.onTrapFocusKeydown),_.body.on("keydown",T.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",T.onTrapFocusKeydown),_.body.off("keydown",T.onTrapFocusKeydown)},deactivateAll:function(t){e.forEach(t,function(t){var n=e.element(t);T.deactivate(n)})},setBodyPadding:function(e){var t=parseInt(_.body.css("padding-right")||0,10);_.body.css("padding-right",t+e+"px"),_.body.data("ng-dialog-original-padding",t),$.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=_.body.data("ng-dialog-original-padding");e?_.body.css("padding-right",e+"px"):_.body.css("padding-right",""),$.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var n=e.data("$ngDialogOptions"),i=e.attr("id"),s=c[i];if(s){if("undefined"!=typeof x.Hammer){var l=s.hammerTime;l.off("tap",r),l.destroy&&l.destroy(),delete s.hammerTime}else e.unbind("click");1===h&&_.body.unbind("keydown",T.onDocumentKeydown),e.hasClass("ngdialog-closing")||(h-=1);var u=e.data("$ngDialogPreviousFocus");u&&u.focus&&u.focus(),$.$broadcast("ngDialog.closing",e,t),h=h<0?0:h,o&&!n.disableAnimation?(s.$destroy(),e.unbind(a).bind(a,function(){T.closeDialogElement(e,t)}).addClass("ngdialog-closing")):(s.$destroy(),T.closeDialogElement(e,t)),g[i]&&(g[i].resolve({id:i,value:t,$dialog:e,remainingDialogs:h}),delete g[i]),c[i]&&delete c[i],f.splice(f.indexOf(i),1),f.length||(_.body.unbind("keydown",T.onDocumentKeydown),d=!1)}},closeDialogElement:function(e,t){var n=e.data("$ngDialogOptions");e.remove(),0===h&&(_.html.removeClass(n.bodyClassName),_.body.removeClass(n.bodyClassName),T.resetBodyPadding()),$.$broadcast("ngDialog.closed",e,t)},closeDialog:function(t,n){var r=t.data("$ngDialogPreCloseCallback");if(r&&e.isFunction(r)){var i=r.call(t,n);if(e.isObject(i))i.closePromise?i.closePromise.then(function(){T.performCloseDialog(t,n)},function(){return!1}):i.then(function(){T.performCloseDialog(t,n)},function(){return!1});else{if(i===!1)return!1;T.performCloseDialog(t,n)}}else T.performCloseDialog(t,n)},onTrapFocusKeydown:function(t){var n,r=e.element(t.currentTarget);if(r.hasClass("ngdialog"))n=r;else if(n=T.getActiveDialog(),null===n)return;var i=9===t.keyCode,o=t.shiftKey===!0;i&&T.handleTab(n,t,o)},handleTab:function(e,t,n){var r=T.getFocusableElements(e);if(0===r.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var i=document.activeElement,o=Array.prototype.indexOf.call(r,i),a=o===-1,s=0===o,l=o===r.length-1,u=!1;n?(a||s)&&(r[r.length-1].focus(),u=!0):(a||l)&&(r[0].focus(),u=!0),u&&(t.preventDefault(),t.stopPropagation())},autoFocus:function(e){var t=e[0],r=t.querySelector("*[autofocus]");if(null===r||(r.focus(),document.activeElement!==r)){var i=T.getFocusableElements(e);if(i.length>0)return void i[0].focus();var o=T.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(o.length>0){var a=o[0];n(a).attr("tabindex","-1").css("outline","0"),a.focus()}}},getFocusableElements:function(e){var t=e[0],n=t.querySelectorAll(s),r=T.filterTabbableElements(n);return T.filterVisibleElements(r)},filterTabbableElements:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];"-1"!==n(i).attr("tabindex")&&t.push(i)}return t},filterVisibleElements:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];(r.offsetWidth>0||r.offsetHeight>0)&&t.push(r)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:n(e[e.length-1])},applyAriaAttributes:function(e,t){if(t.ariaAuto){if(!t.ariaRole){var n=T.getFocusableElements(e).length>0?"dialog":"alertdialog";t.ariaRole=n}t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")}t.ariaRole&&e.attr("role",t.ariaRole),T.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),T.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,r,i){if(r&&e.attr(t,r),i){var o=e.attr("id"),a=e[0].querySelector(i);if(!a)return;var s=o+"-"+t;return n(a).attr("id",s),e.attr(t,s),s}},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(t){return!1}},getRouterLocationEventName:function(){return T.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},A={__PRIVATE__:T,open:function(o){function a(t,n){var n=n||{};return n.headers=n.headers||{},e.extend(n.headers,{Accept:"text/html"}),$.$broadcast("ngDialog.templateLoading",t),E.get(t,n).then(function(e){return $.$broadcast("ngDialog.templateLoaded",t),e.data||""})}function s(t){return t?e.isString(t)&&m.plain?t:"boolean"!=typeof m.cache||m.cache?a(t,{cache:v}):a(t,{cache:!1}):"Empty template"}var u=null;if(o=o||{},!(p&&o.name&&(u=o.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(u)))){var m=e.copy(t),O=++i;u=u||"ngdialog"+O,f.push(u),"undefined"!=typeof m.data&&("undefined"==typeof o.data&&(o.data={}),o.data=e.merge(e.copy(m.data),o.data)),e.extend(m,o);var k;g[u]=k=y.defer();var N;c[u]=N=e.isObject(m.scope)?m.scope.$new():$.$new();var D,R,M,I=e.extend({},m.resolve);return e.forEach(I,function(t,n){I[n]=e.isString(t)?S.get(t):S.invoke(t,null,null,n)}),y.all({template:s(m.template||m.templateUrl),locals:y.all(I)}).then(function(t){var i=t.template,o=t.locals;m.showClose&&(i+='<div class="ngdialog-close"></div>');var a=m.overlay?"":" ngdialog-no-overlay";if(D=n('<div id="'+u+'" class="ngdialog'+a+'"></div>'),D.html(m.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+i+"</div>":'<div class="ngdialog-content" role="document">'+i+"</div>"),D.data("$ngDialogOptions",m),N.ngDialogId=u,m.data&&e.isString(m.data)){var s=m.data.replace(/^\s*/,"")[0];N.ngDialogData="{"===s||"["===s?e.fromJson(m.data):new String(m.data),N.ngDialogData.ngDialogId=u}else m.data&&e.isObject(m.data)&&(N.ngDialogData=m.data,N.ngDialogData.ngDialogId=u);if(m.className&&D.addClass(m.className),m.appendClassName&&D.addClass(m.appendClassName),m.width&&(M=D[0].querySelector(".ngdialog-content"),e.isString(m.width)?M.style.width=m.width:M.style.width=m.width+"px"),m.height&&(M=D[0].querySelector(".ngdialog-content"),e.isString(m.height)?M.style.height=m.height:M.style.height=m.height+"px"),m.disableAnimation&&D.addClass(l),R=m.appendTo&&e.isString(m.appendTo)?e.element(document.querySelector(m.appendTo)):_.body,T.applyAriaAttributes(D,m),m.preCloseCallback){
var c;e.isFunction(m.preCloseCallback)?c=m.preCloseCallback:e.isString(m.preCloseCallback)&&N&&(e.isFunction(N[m.preCloseCallback])?c=N[m.preCloseCallback]:N.$parent&&e.isFunction(N.$parent[m.preCloseCallback])?c=N.$parent[m.preCloseCallback]:$&&e.isFunction($[m.preCloseCallback])&&(c=$[m.preCloseCallback])),c&&D.data("$ngDialogPreCloseCallback",c)}if(N.closeThisDialog=function(e){T.closeDialog(D,e)},m.controller&&(e.isString(m.controller)||e.isArray(m.controller)||e.isFunction(m.controller))){var f;m.controllerAs&&e.isString(m.controllerAs)&&(f=m.controllerAs);var p=C(m.controller,e.extend(o,{$scope:N,$element:D}),!0,f);m.bindToController&&e.extend(p.instance,{ngDialogId:N.ngDialogId,ngDialogData:N.ngDialogData,closeThisDialog:N.closeThisDialog,confirm:N.confirm}),"function"==typeof p?D.data("$ngDialogControllerController",p()):D.data("$ngDialogControllerController",p)}if(w(function(){var e=document.querySelectorAll(".ngdialog");T.deactivateAll(e),b(D)(N);var t=x.innerWidth-_.body.prop("clientWidth");_.html.addClass(m.bodyClassName),_.body.addClass(m.bodyClassName);var n=t-(x.innerWidth-_.body.prop("clientWidth"));n>0&&T.setBodyPadding(n),R.append(D),T.activate(D),m.trapFocus&&T.autoFocus(D),m.name?$.$broadcast("ngDialog.opened",{dialog:D,name:m.name}):$.$broadcast("ngDialog.opened",D)}),d||(_.body.bind("keydown",T.onDocumentKeydown),d=!0),m.closeByNavigation){var g=T.getRouterLocationEventName();$.$on(g,function(e){T.closeDialog(D)===!1&&e.preventDefault()})}if(m.preserveFocus&&D.data("$ngDialogPreviousFocus",document.activeElement),r=function(e){var t=!!m.closeByDocument&&n(e.target).hasClass("ngdialog-overlay"),r=n(e.target).hasClass("ngdialog-close");(t||r)&&A.close(D.attr("id"),r?"$closeButton":"$document")},"undefined"!=typeof x.Hammer){var v=N.hammerTime=x.Hammer(D[0]);v.on("tap",r)}else D.bind("click",r);return h+=1,A}),{id:u,closePromise:k.promise,close:function(e){T.closeDialog(D,e)}}}},openConfirm:function(r){var i=y.defer(),o=e.copy(t);r=r||{},"undefined"!=typeof o.data&&("undefined"==typeof r.data&&(r.data={}),r.data=e.merge(e.copy(o.data),r.data)),e.extend(o,r),o.scope=e.isObject(o.scope)?o.scope.$new():$.$new(),o.scope.confirm=function(e){i.resolve(e);var t=n(document.getElementById(a.id));T.performCloseDialog(t,e)};var a=A.open(o);if(a)return a.closePromise.then(function(e){return e?i.reject(e.value):i.reject()}),i.promise},isOpen:function(e){var t=n(document.getElementById(e));return t.length>0},close:function(e,t){var r=n(document.getElementById(e));if(r.length)T.closeDialog(r,t);else if("$escape"===e){var i=f[f.length-1];r=n(document.getElementById(i)),r.data("$ngDialogOptions").closeByEscape&&T.closeDialog(r,"$escape")}else A.closeAll(t);return A},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),r=t.length-1;r>=0;r--){var i=t[r];T.closeDialog(n(i),e)}},getOpenDialogs:function(){return f},getDefaults:function(){return t}};return e.forEach(["html","body"],function(e){if(_[e]=m.find(e),u[e]){var t=T.getRouterLocationEventName();$.$on(t,function(){_[e]=m.find(e)})}}),A}]}),t.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,r,i){r.on("click",function(r){r.preventDefault();var o=e.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";e.isDefined(i.ngDialogClosePrevious)&&t.close(i.ngDialogClosePrevious);var a=t.getDefaults();t.open({template:i.ngDialog,className:i.ngDialogClass||a.className,appendClassName:i.ngDialogAppendClass,controller:i.ngDialogController,controllerAs:i.ngDialogControllerAs,bindToController:i.ngDialogBindToController,disableAnimation:i.ngDialogDisableAnimation,scope:o,data:i.ngDialogData,showClose:"false"!==i.ngDialogShowClose&&("true"===i.ngDialogShowClose||a.showClose),closeByDocument:"false"!==i.ngDialogCloseByDocument&&("true"===i.ngDialogCloseByDocument||a.closeByDocument),closeByEscape:"false"!==i.ngDialogCloseByEscape&&("true"===i.ngDialogCloseByEscape||a.closeByEscape),overlay:"false"!==i.ngDialogOverlay&&("true"===i.ngDialogOverlay||a.overlay),preCloseCallback:i.ngDialogPreCloseCallback||a.preCloseCallback,bodyClassName:i.ngDialogBodyClass||a.bodyClassName})})}}}]),t}),angular.module("froala",[]).value("froalaConfig",{}).directive("froala",["froalaConfig",function(e){"use strict";var t=0,n={immediateAngularModelUpdate:!1,angularIgnoreAttrs:null},r="innerHTML",i={froalaOptions:"=froala",initFunction:"&froalaInit"};e=e||{};var o="manual",a="automatic",s=["img","button","input","a"];return{restrict:"A",require:"ngModel",scope:i,link:function(i,l,u,c){var f=!1;s.indexOf(l.prop("tagName").toLowerCase())!=-1&&(f=!0);var d={editorInitialized:!1};if(i.initMode=u.froalaInit?o:a,d.init=function(){u.id||u.$set("id","froala-"+t++),i.initMode===a&&d.createEditor(),c.$render=function(){if(d.editorInitialized)if(f){var e=c.$modelValue;if(e){for(var t in e)e.hasOwnProperty(t)&&t!=r&&l.attr(t,e[t]);e.hasOwnProperty(r)&&(l[0].innerHTML=e[r])}}else l.froalaEditor("html.set",c.$viewValue||"",!0),l.froalaEditor("undo.reset"),l.froalaEditor("undo.saveStep")},c.$isEmpty=function(e){if(!e)return!0;var t=l.froalaEditor("node.isEmpty",jQuery("<div>"+e+"</div>").get(0));return t}},d.createEditor=function(t){if(d.listeningEvents=["froalaEditor"],!d.editorInitialized){t=t||{},d.options=angular.extend({},n,e,i.froalaOptions,t),d.options.immediateAngularModelUpdate&&d.listeningEvents.push("keyup");var r=function(){d.editorInitialized=!0,c.$render()};f?r():d.registerEventsWithCallbacks("froalaEditor.initialized",function(){r()});for(var o in d.options.events)d.options.events.hasOwnProperty(o)&&d.registerEventsWithCallbacks(o,d.options.events[o]);d.froalaElement=l.froalaEditor(d.options).data("froala.editor").$el,d.froalaEditor=angular.bind(l,l.froalaEditor),d.initListeners(),i.froalaOptions&&(i.froalaOptions.froalaEditor=d.froalaEditor)}},d.initListeners=function(){d.options.immediateAngularModelUpdate&&d.froalaElement.on("keyup",function(){i.$evalAsync(d.updateModelView)}),l.on("froalaEditor.contentChanged",function(){i.$evalAsync(d.updateModelView)}),l.bind("$destroy",function(){l.off(d.listeningEvents.join(" ")),l.froalaEditor("destroy"),l=null})},d.updateModelView=function(){var e=null;if(f){for(var t=l[0].attributes,n={},o=0;o<t.length;o++){var a=t[o].name;d.options.angularIgnoreAttrs&&d.options.angularIgnoreAttrs.indexOf(a)!=-1||(n[a]=t[o].value)}l[0].innerHTML&&(n[r]=l[0].innerHTML),e=n}else{var s=l.froalaEditor("html.get");angular.isString(s)&&(e=s)}c.$setViewValue(e),i.$root.$$phase||i.$apply()},d.registerEventsWithCallbacks=function(e,t){e&&t&&(d.listeningEvents.push(e),l.on(e,t))},i.initMode===o){var p=d,h={initialize:d.createEditor,destroy:function(){p.froalaEditor&&(p.froalaEditor("destroy"),p.editorInitialized=!1)},getEditor:function(){return p.froalaEditor?p.froalaEditor:null}};i.initFunction({initControls:h})}d.init()}}}]).directive("froalaView",["$sce",function(e){return{restrict:"ACM",scope:!1,link:function(t,n,r){n.addClass("fr-view"),t.$watch(r.froalaView,function(t){if(t||""===t){var r=e.trustAsHtml(t);n.html(r.toString())}})}}}]),angular.module("invitationsApp",["ui.router","ngResource","ngDialog","lbServices","angular-barcode","froala"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("app",{url:"/",views:{header:{templateUrl:"views/header.html",controller:"HeaderController"},content:{templateUrl:"views/home.html"},footer:{templateUrl:"views/footer.html",controller:"HeaderController"}}}).state("app.aboutus",{url:"aboutus",views:{"content@":{templateUrl:"views/aboutus.html"}}}).state("app.contactus",{url:"contactus",views:{"content@":{templateUrl:"views/contactus.html",controller:"ContactController"}}}).state("app.customers",{url:"Customers/:id",views:{"content@":{templateUrl:"views/customers.html",controller:"CustomersController"}}}).state("app.hosts",{url:"Customers/:id/hosts",views:{"content@":{templateUrl:"views/hosts.html",controller:"HostsController"}}}).state("app.events",{url:"Hosts/:id/events",views:{"content@":{templateUrl:"views/events.html",controller:"EventsController"}}}).state("app.guests",{url:"Events/:id/guests",views:{"content@":{templateUrl:"views/guests.html",controller:"GuestsController"}}}).state("app.confirmation",{url:"Guests/:id/confirmation",views:{"content@":{templateUrl:"views/confirmation.html",controller:"ConfirmationController"}}}).state("app.barcode",{url:"Guests/:id/barcode",views:{"content@":{templateUrl:"views/invitation.html",controller:"BarcodeController"}}}).state("app.presence",{url:"Events/:id/presence",views:{"content@":{templateUrl:"views/presence.html",controller:"PresenceController"}}}),t.otherwise("/")}]),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("angular-barcode",[],t):"object"==typeof exports?exports["angular-barcode"]=t():e["angular-barcode"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(43),o=r(i);t["default"]=angular.module("angular-barcode",[]).directive("angularBarcode",o["default"]),e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function i(e,t){n(this,i),this.data=e,this.text=t.text||e,this.options=t};t["default"]=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){n(this,e),this.startBin="101",this.endBin="101",this.middleBin="01010",this.Lbinary=["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],this.Gbinary=["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],this.Rbinary=["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"]}return e.prototype.encode=function(e,t,n){var r="";n=n||"";for(var i=0;i<e.length;i++)"L"==t[i]?r+=this.Lbinary[e[i]]:"G"==t[i]?r+=this.Gbinary[e[i]]:"R"==t[i]&&(r+=this.Rbinary[e[i]]),i<e.length-1&&(r+=n);return r},e}();t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){for(var n=0;n<t;n++)e="0"+e;return e}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=function(e){function t(n,r){return i(this,t),o(this,e.call(this,n,r))}return a(t,e),t.prototype.encode=function(){for(var e="110",t=0;t<this.data.length;t++){var n=parseInt(this.data[t]),r=n.toString(2);r=s(r,4-r.length);for(var i=0;i<r.length;i++)e+="0"==r[i]?"100":"110"}return e+="1001",{data:e,text:this.text}},t.prototype.valid=function(){return this.data.search(/^[0-9]+$/)!==-1},t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n.substring(1),r));a.bytes=[];for(var s=0;s<n.length;++s)a.bytes.push(n.charCodeAt(s));return a.encodings=[740,644,638,176,164,100,224,220,124,608,604,572,436,244,230,484,260,254,650,628,614,764,652,902,868,836,830,892,844,842,752,734,590,304,112,94,416,128,122,672,576,570,464,422,134,496,478,142,910,678,582,768,762,774,880,862,814,896,890,818,914,602,930,328,292,200,158,68,62,424,412,232,218,76,74,554,616,978,556,146,340,212,182,508,268,266,956,940,938,758,782,974,400,310,118,512,506,960,954,502,518,886,966,668,680,692,5379],a}return a(t,e),t.prototype.encode=function(){var e,t=this.bytes,n=t.shift()-105;if(103===n)e=this.nextA(t,1);else if(104===n)e=this.nextB(t,1);else{if(105!==n)throw new c;e=this.nextC(t,1)}return{text:this.text==this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:this.getEncoding(n)+e.result+this.getEncoding((e.checksum+n)%103)+this.getEncoding(106)}},t.prototype.getEncoding=function(e){return this.encodings[e]?(this.encodings[e]+1e3).toString(2):""},t.prototype.valid=function(){return this.data.search(/^[\x00-\x7F\xC8-\xD3]+$/)!==-1},t.prototype.nextA=function(e,t){if(e.length<=0)return{result:"",checksum:0};var n,r;if(e[0]>=200)r=e[0]-105,e.shift(),99===r?n=this.nextC(e,t+1):100===r?n=this.nextB(e,t+1):98===r?(e[0]=e[0]>95?e[0]-96:e[0],n=this.nextA(e,t+1)):n=this.nextA(e,t+1);else{var i=e[0];r=i<32?i+64:i-32,e.shift(),n=this.nextA(e,t+1)}var o=this.getEncoding(r),a=r*t;return{result:o+n.result,checksum:a+n.checksum}},t.prototype.nextB=function(e,t){if(e.length<=0)return{result:"",checksum:0};var n,r;e[0]>=200?(r=e[0]-105,e.shift(),99===r?n=this.nextC(e,t+1):101===r?n=this.nextA(e,t+1):98===r?(e[0]=e[0]<32?e[0]+96:e[0],n=this.nextB(e,t+1)):n=this.nextB(e,t+1)):(r=e[0]-32,e.shift(),n=this.nextB(e,t+1));var i=this.getEncoding(r),o=r*t;return{result:i+n.result,checksum:o+n.checksum}},t.prototype.nextC=function(e,t){if(e.length<=0)return{result:"",checksum:0};var n,r;e[0]>=200?(r=e[0]-105,e.shift(),n=100===r?this.nextB(e,t+1):101===r?this.nextA(e,t+1):this.nextC(e,t+1)):(r=10*(e[0]-48)+e[1]-48,e.shift(),e.shift(),n=this.nextC(e,t+1));var i=this.getEncoding(r),o=r*t;return{result:i+n.result,checksum:o+n.checksum}},t}(l["default"]),c=function(e){function t(){i(this,t);var n=o(this,e.call(this));return n.name="InvalidStartCharacterException",n.message="The encoding does not start with a start character.",n}return a(t,e),t}(Error);t["default"]=u},function(e,t){"use strict";function n(e){for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n]);t+=(n+e.length)%2===0?r:2*r%10+Math.floor(2*r/10)}return(10-t%10)%10}function r(e){for(var t=0,n=[2,3,4,5,6,7],r=0;r<e.length;r++){var i=parseInt(e[e.length-1-r]);t+=n[r%n.length]*i}return(11-t%11)%11}Object.defineProperty(t,"__esModule",{value:!0}),t.mod10=n,t.mod11=r},function(e,t){"use strict";function n(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&"undefined"!=typeof t[n]&&(r[n]=t[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(i,o){n(this,t);var a=r(this,e.call(this));return a.name="InvalidInputException",a.symbology=i,a.input=o,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return i(t,e),t}(Error),a=function(e){function t(){n(this,t);var i=r(this,e.call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return i(t,e),t}(Error),s=function(e){function t(){n(this,t);var i=r(this,e.call(this));return i.name="NoElementException",i.message="No element to render on.",i}return i(t,e),t}(Error);t.InvalidInputException=o,t.InvalidElementException=a,t.NoElementException=s},function(e,t){"use strict";function n(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&(n=t[n],"string"==typeof e[n]&&(e[n]=parseInt(e[n],10)));return"string"==typeof e.displayValue&&(e.displayValue="false"!=e.displayValue),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function o(e,t,n){if(n.displayValue&&t<e){if("center"==n.textAlign)return Math.floor((e-t)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(e-t)}return 0}function a(e,t,n){for(var r=0;r<e.length;r++){var a,s=e[r],l=(0,f["default"])(t,s.options);a=l.displayValue?u(s.text,l,n):0;var c=s.data.length*l.width;s.width=Math.ceil(Math.max(a,c)),s.height=i(s,l),s.barcodePadding=o(a,c,l)}}function s(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t}function l(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t}function u(e,t,n){var r;r="undefined"==typeof n?document.createElement("canvas").getContext("2d"):n,r.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var i=r.measureText(e).width;return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalWidthOfEncodings=t.calculateEncodingAttributes=t.getBarcodePadding=t.getEncodingHeight=t.getMaximumHeightOfEncodings=void 0;var c=n(6),f=r(c);t.getMaximumHeightOfEncodings=l,t.getEncodingHeight=i,t.getBarcodePadding=o,t.calculateEncodingAttributes=a,t.getTotalWidthOfEncodings=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){S.prototype[t]=S.prototype[t.toUpperCase()]=S.prototype[t.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){var a=(0,f["default"])(i._options,r);a=(0,y["default"])(a);var s=e[t],l=o(n,s,a);return i._encodings.push(l),i})}}function o(e,t,n){e=""+e;var r=new t(e,n);if(!r.valid())throw new w.InvalidInputException(r.constructor.name,e);var i=r.encode();i=(0,p["default"])(i);for(var o=0;o<i.length;o++)i[o].options=(0,f["default"])(n,i[o].options);return i}function a(){return u["default"].CODE128?"CODE128":Object.keys(u["default"])[0]}function s(e,t,n){t=(0,p["default"])(t);for(var r=0;r<t.length;r++)t[r].options=(0,f["default"])(n,t[r].options),(0,g["default"])(t[r].options);(0,g["default"])(n);var i=e.renderer,o=new i(e.element,t,n);o.render(),e.afterRender&&e.afterRender()}var l=n(33),u=r(l),c=n(6),f=r(c),d=n(39),p=r(d),h=n(36),g=r(h),m=n(38),v=r(m),b=n(8),y=r(b),E=n(35),$=r(E),w=n(7),x=n(9),C=r(x),S=function(){},_=function(e,t,n){var r=new S;if("undefined"==typeof e)throw Error("No element to render on was provided.");return r._renderProperties=(0,v["default"])(e),r._encodings=[],r._options=C["default"],r._errorHandler=new $["default"](r),"undefined"!=typeof t&&(n=n||{},n.format||(n.format=a()),r.options(n)[n.format](t,n).render()),r};_.getModule=function(e){return u["default"][e]};for(var T in u["default"])u["default"].hasOwnProperty(T)&&i(u["default"],T);S.prototype.options=function(e){return this._options=(0,f["default"])(this._options,e),this},S.prototype.blank=function(e){var t="0".repeat(e);return this._encodings.push({data:t}),this},S.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var n=(0,f["default"])(this._options,e.options);"auto"==n.format&&(n.format=a()),this._errorHandler.wrapBarcodeCall(function(){var t=n.value,r=u["default"][n.format.toUpperCase()],i=o(t,r,n);s(e,i,n)})}}},S.prototype.render=function(){if(!this._renderProperties)throw new w.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)s(this._renderProperties[e],this._encodings,this._options);else s(this._renderProperties,this._encodings,this._options);return this},S.prototype._defaults=C["default"],"undefined"!=typeof window&&(window.JsBarcode=_),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var n=[];return jQuery(this).each(function(){n.push(this)}),_(n,e,t)}),e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=r(s),u=function(e){function t(n,r){return i(this,t),o(this,e.call(this,String.fromCharCode(208)+n,r))}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[\x00-\x5F\xC8-\xCF]+$/)!==-1},t}(l["default"]);t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=r(s),u=function(e){function t(n,r){return i(this,t),o(this,e.call(this,String.fromCharCode(209)+n,r))}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[\x20-\x7F\xC8-\xCF]+$/)!==-1},t}(l["default"]);t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=r(s),u=function(e){function t(n,r){return i(this,t),o(this,e.call(this,String.fromCharCode(210)+n,r))}return a(t,e),t.prototype.valid=function(){return this.data.search(/^(\xCF*[0-9]{2}\xCF*)+$/)!==-1},t}(l["default"]);t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=e.match(/^[\x00-\x5F\xC8-\xCF]*/)[0].length,r=e.match(/^[\x20-\x7F\xC8-\xCF]*/)[0].length,i=e.match(/^(\xCF*[0-9]{2}\xCF*)*/)[0].length;return t=i>=2?String.fromCharCode(210)+c(e):n>r?String.fromCharCode(208)+l(e):String.fromCharCode(209)+u(e),t=t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(e,t){return String.fromCharCode(203)+t})}function l(e){var t=e.match(/^([\x00-\x5F\xC8-\xCF]+?)(([0-9]{2}){2,})([^0-9]|$)/);if(t)return t[1]+String.fromCharCode(204)+c(e.substring(t[1].length));var n=e.match(/^[\x00-\x5F\xC8-\xCF]+/);return n[0].length===e.length?e:n[0]+String.fromCharCode(205)+u(e.substring(n[0].length))}function u(e){var t=e.match(/^([\x20-\x7F\xC8-\xCF]+?)(([0-9]{2}){2,})([^0-9]|$)/);if(t)return t[1]+String.fromCharCode(204)+c(e.substring(t[1].length));var n=e.match(/^[\x20-\x7F\xC8-\xCF]+/);return n[0].length===e.length?e:n[0]+String.fromCharCode(206)+l(e.substring(n[0].length))}function c(e){var t=e.match(/^(\xCF*[0-9]{2}\xCF*)+/)[0],n=t.length;if(n===e.length)return e;e=e.substring(n);var r=e.match(/^[\x00-\x5F\xC8-\xCF]*/)[0].length,i=e.match(/^[\x20-\x7F\xC8-\xCF]*/)[0].length;return r>=i?t+String.fromCharCode(206)+l(e):t+String.fromCharCode(205)+u(e)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(4),d=r(f),p=function(e){function t(n,r){if(i(this,t),n.search(/^[\x00-\x7F\xC8-\xD3]+$/)!==-1)var a=o(this,e.call(this,s(n),r));else var a=o(this,e.call(this,n,r));return o(a)}return a(t,e),t}(d["default"]);t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CODE128C=t.CODE128B=t.CODE128A=t.CODE128=void 0;var i=n(15),o=r(i),a=n(12),s=r(a),l=n(13),u=r(l),c=n(14),f=r(c);t.CODE128=o["default"],t.CODE128A=s["default"],t.CODE128B=u["default"],t.CODE128C=f["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return l(c(e))}function l(e){return m[e].toString(2)}function u(e){return g[e]}function c(e){return g.indexOf(e)}function f(e){for(var t=0,n=0;n<e.length;n++)t+=c(e[n]);return t%=43}Object.defineProperty(t,"__esModule",{value:!0}),t.CODE39=void 0;var d=n(1),p=r(d),h=function(e){function t(n,r){return i(this,t),n=n.toUpperCase(),r.mod43&&(n+=u(f(n))),o(this,e.call(this,n,r))}return a(t,e),t.prototype.encode=function(){for(var e=s("*"),t=0;t<this.data.length;t++)e+=s(this.data[t])+"0";return e+=s("*"),{data:e,text:this.text}},t.prototype.valid=function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1},t}(p["default"]),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],m=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];t.CODE39=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=0;for(t=0;t<12;t+=2)n+=parseInt(e[t]);for(t=1;t<12;t+=2)n+=3*parseInt(e[t]);return(10-n%10)%10}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=r(l),c=n(1),f=r(c),d=function(e){function t(n,r){i(this,t),n.search(/^[0-9]{12}$/)!==-1&&(n+=s(n));var a=o(this,e.call(this,n,r));return!r.flat&&r.fontSize>10*r.width?a.fontSize=10*r.width:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a.lastChar=r.lastChar,a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{13}$/)!==-1&&this.data[12]==s(this.data)},t.prototype.encode=function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()},t.prototype.getStructure=function(){return["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},t.prototype.guardedEncoding=function(){var e=new u["default"],t=[],n=this.getStructure()[this.data[0]],r=this.data.substr(1,6),i=this.data.substr(7,6);return this.options.displayValue&&t.push({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),t.push({data:e.encode(r,n),text:this.text.substr(1,6),options:{fontSize:this.fontSize}}),t.push({data:"01010",options:{height:this.guardHeight}}),t.push({data:e.encode(i,"RRRRRR"),text:this.text.substr(7,6),options:{fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),this.options.lastChar&&this.options.displayValue&&(t.push({data:"00"}),t.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}})),t},t.prototype.flatEncoding=function(){var e=new u["default"],t="",n=this.getStructure()[this.data[0]];return t+="101",t+=e.encode(this.data.substr(1,6),n),t+="01010",t+=e.encode(this.data.substr(7,6),"RRRRRR"),t+="101",{data:t,text:this.text}},t}(f["default"]);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),u=n(1),c=r(u),f=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.structure=["LL","LG","GL","GG"],
a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{2}$/)!==-1},t.prototype.encode=function(){var e=new l["default"],t=this.structure[parseInt(this.data)%4],n="1011";return n+=e.encode(this.data,t,"01"),{data:n,text:this.text}},t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),u=n(1),c=r(u),f=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.structure=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{5}$/)!==-1},t.prototype.encode=function(){var e=new l["default"],t=this.checksum(),n="1011";return n+=e.encode(this.data,this.structure[t],"01"),{data:n,text:this.text}},t.prototype.checksum=function(){var e=0;return e+=3*parseInt(this.data[0]),e+=9*parseInt(this.data[1]),e+=3*parseInt(this.data[2]),e+=9*parseInt(this.data[3]),e+=3*parseInt(this.data[4]),e%10},t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=0;for(t=0;t<7;t+=2)n+=3*parseInt(e[t]);for(t=1;t<7;t+=2)n+=parseInt(e[t]);return(10-n%10)%10}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=r(l),c=n(1),f=r(c),d=function(e){function t(n,r){return i(this,t),n.search(/^[0-9]{7}$/)!==-1&&(n+=s(n)),o(this,e.call(this,n,r))}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{8}$/)!==-1&&this.data[7]==s(this.data)},t.prototype.encode=function(){var e=new u["default"],t="",n=this.data.substr(0,4),r=this.data.substr(4,4);return t+=e.startBin,t+=e.encode(n,"LLLL"),t+=e.middleBin,t+=e.encode(r,"RRRR"),t+=e.endBin,{data:t,text:this.text}},t}(f["default"]);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=0;for(t=1;t<11;t+=2)n+=parseInt(e[t]);for(t=0;t<11;t+=2)n+=3*parseInt(e[t]);return(10-n%10)%10}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=r(l),c=n(1),f=r(c),d=function(e){function t(n,r){i(this,t),n.search(/^[0-9]{11}$/)!==-1&&(n+=s(n));var a=o(this,e.call(this,n,r));return a.displayValue=r.displayValue,r.fontSize>10*r.width?a.fontSize=10*r.width:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==s(this.data)},t.prototype.encode=function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()},t.prototype.flatEncoding=function(){var e=new u["default"],t="";return t+="101",t+=e.encode(this.data.substr(0,6),"LLLLLL"),t+="01010",t+=e.encode(this.data.substr(6,6),"RRRRRR"),t+="101",{data:t,text:this.text}},t.prototype.guardedEncoding=function(){var e=new u["default"],t=[];return this.displayValue&&t.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101"+e.encode(this.data[0],"L"),options:{height:this.guardHeight}}),t.push({data:e.encode(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),t.push({data:"01010",options:{height:this.guardHeight}}),t.push({data:e.encode(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),t.push({data:e.encode(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),t},t}(f["default"]);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UPC=t.EAN2=t.EAN5=t.EAN8=t.EAN13=void 0;var i=n(18),o=r(i),a=n(21),s=r(a),l=n(20),u=r(l),c=n(19),f=r(c),d=n(22),p=r(d);t.EAN13=o["default"],t.EAN8=s["default"],t.EAN5=u["default"],t.EAN2=f["default"],t.UPC=p["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GenericBarcode=void 0;var s=n(1),l=r(s),u=function(e){function t(n,r){return i(this,t),o(this,e.call(this,n,r))}return a(t,e),t.prototype.encode=function(){return{data:"10101010101010101010101010101010101010101",text:this.text}},t.prototype.valid=function(){return!0},t}(l["default"]);t.GenericBarcode=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){for(var t=0,n=0;n<13;n++)t+=parseInt(e[n])*(3-n%2*2);return 10*Math.ceil(t/10)-t}Object.defineProperty(t,"__esModule",{value:!0}),t.ITF14=void 0;var l=n(1),u=r(l),c=function(e){function t(n,r){i(this,t),n.search(/^[0-9]{13}$/)!==-1&&(n+=s(n));var a=o(this,e.call(this,n,r));return a.binaryRepresentation={0:"00110",1:"10001",2:"01001",3:"11000",4:"00101",5:"10100",6:"01100",7:"00011",8:"10010",9:"01010"},a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{14}$/)!==-1&&this.data[13]==s(this.data)},t.prototype.encode=function(){for(var e="1010",t=0;t<14;t+=2)e+=this.calculatePair(this.data.substr(t,2));return e+="11101",{data:e,text:this.text}},t.prototype.calculatePair=function(e){for(var t="",n=this.binaryRepresentation[e[0]],r=this.binaryRepresentation[e[1]],i=0;i<5;i++)t+="1"==n[i]?"111":"1",t+="1"==r[i]?"000":"0";return t},t}(u["default"]);t.ITF14=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ITF=void 0;var s=n(1),l=r(s),u=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.binaryRepresentation={0:"00110",1:"10001",2:"01001",3:"11000",4:"00101",5:"10100",6:"01100",7:"00011",8:"10010",9:"01010"},a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^([0-9]{2})+$/)!==-1},t.prototype.encode=function(){for(var e="1010",t=0;t<this.data.length;t+=2)e+=this.calculatePair(this.data.substr(t,2));return e+="11101",{data:e,text:this.text}},t.prototype.calculatePair=function(e){for(var t="",n=this.binaryRepresentation[e[0]],r=this.binaryRepresentation[e[1]],i=0;i<5;i++)t+="1"==n[i]?"111":"1",t+="1"==r[i]?"000":"0";return t},t}(l["default"]);t.ITF=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=n(5),c=function(e){function t(n,r){return i(this,t),o(this,e.call(this,n+(0,u.mod10)(n),r))}return a(t,e),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=n(5),c=function(e){function t(n,r){return i(this,t),n+=(0,u.mod10)(n),n+=(0,u.mod10)(n),o(this,e.call(this,n,r))}return a(t,e),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=n(5),c=function(e){function t(n,r){return i(this,t),o(this,e.call(this,n+(0,u.mod11)(n),r))}return a(t,e),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=n(5),c=function(e){function t(n,r){return i(this,t),n+=(0,u.mod11)(n),n+=(0,u.mod10)(n),o(this,e.call(this,n,r))}return a(t,e),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MSI1110=t.MSI1010=t.MSI11=t.MSI10=t.MSI=void 0;var i=n(3),o=r(i),a=n(27),s=r(a),l=n(29),u=r(l),c=n(28),f=r(c),d=n(30),p=r(d);t.MSI=o["default"],t.MSI10=s["default"],t.MSI11=u["default"],t.MSI1010=f["default"],t.MSI1110=p["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.codabar=void 0;var s=n(1),l=r(s),u=function(e){function t(n,r){i(this,t),0===n.search(/^[0-9\-\$\:\.\+\/]+$/)&&(n="A"+n+"A");var a=o(this,e.call(this,n.toUpperCase(),r));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1},t.prototype.encode=function(){for(var e=[],t=this.getEncodings(),n=0;n<this.data.length;n++)e.push(t[this.data.charAt(n)]),n!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}},t.prototype.getEncodings=function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1010010011",C:"1001001011",D:"1010011001"}},t}(l["default"]);t.codabar=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(16),o=n(23),a=n(25),s=n(26),l=n(31),u=n(34),c=n(32),f=n(24);t["default"]={CODE39:r.CODE39,CODE128:i.CODE128,CODE128A:i.CODE128A,CODE128B:i.CODE128B,CODE128C:i.CODE128C,EAN13:o.EAN13,EAN8:o.EAN8,EAN5:o.EAN5,EAN2:o.EAN2,UPC:o.UPC,ITF14:a.ITF14,ITF:s.ITF,MSI:l.MSI,MSI10:l.MSI10,MSI11:l.MSI11,MSI1010:l.MSI1010,MSI1110:l.MSI1110,pharmacode:u.pharmacode,codabar:c.codabar,GenericBarcode:f.GenericBarcode}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.pharmacode=void 0;var s=n(1),l=r(s),u=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.number=parseInt(n,10),a}return a(t,e),t.prototype.encode=function(){for(var e=this.number,t="";!isNaN(e)&&0!=e;)e%2===0?(t="11100"+t,e=(e-2)/2):(t="100"+t,e=(e-1)/2);return t=t.slice(0,-2),{data:t,text:this.text}},t.prototype.valid=function(){return this.number>=3&&this.number<=131070},t}(l["default"]);t.pharmacode=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){n(this,e),this.api=t}return e.prototype.handleCatch=function(e){if("InvalidInputException"!==e.name)throw e;if(this.api._options.valid===this.api._defaults.valid)throw e.message;this.api._options.valid(!1),this.api.render=function(){}},e.prototype.wrapBarcodeCall=function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(e){return this.handleCatch(e),this.api}},e}();t["default"]=r},function(e,t){"use strict";function n(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t={};for(var n in l["default"])l["default"].hasOwnProperty(n)&&(e.hasAttribute("jsbarcode-"+n.toLowerCase())&&(t[n]=e.getAttribute("jsbarcode-"+n.toLowerCase())),e.hasAttribute("data-"+n.toLowerCase())&&(t[n]=e.getAttribute("data-"+n.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,a["default"])(t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),a=r(o),s=n(9),l=r(s);t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if("string"==typeof e)return o(e);if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(i(e[n]));return t}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLImageElement)return a(e);if("undefined"!=typeof SVGElement&&e instanceof SVGElement)return{element:e,options:(0,l["default"])(e),renderer:c["default"].SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)return{element:e,options:(0,l["default"])(e),renderer:c["default"].CanvasRenderer};if(e.getContext)return{element:e,renderer:c["default"].CanvasRenderer};throw new f.InvalidElementException}function o(e){var t=document.querySelectorAll(e);if(0!==t.length){for(var n=[],r=0;r<t.length;r++)n.push(i(t[r]));return n}}function a(e){var t=document.createElement("canvas");return{element:t,options:(0,l["default"])(e),renderer:c["default"].CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(37),l=r(s),u=n(41),c=r(u),f=n(7);t["default"]=i},function(e,t){"use strict";function n(e){function t(e){if(Array.isArray(e))for(var r=0;r<e.length;r++)t(e[r]);else e.text=e.text||"",e.data=e.data||"",n.push(e)}var n=[];return t(e),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=r(o),s=n(10),l=function(){function e(t,n,r){i(this,e),this.canvas=t,this.encodings=n,this.options=r}return e.prototype.render=function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,a["default"])(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()},e.prototype.prepareCanvas=function(){var e=this.canvas.getContext("2d");e.save(),(0,s.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,s.getTotalWidthOfEncodings)(this.encodings),n=(0,s.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)},e.prototype.drawCanvasBarcode=function(e,t){var n,r=this.canvas.getContext("2d"),i=t.data;n="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,r.fillStyle=e.lineColor;for(var o=0;o<i.length;o++){var a=o*e.width+t.barcodePadding;"1"===i[o]?r.fillRect(a,n,e.width,e.height):i[o]&&r.fillRect(a,n,e.width,e.height*i[o])}},e.prototype.drawCanvasText=function(e,t){var n=this.canvas.getContext("2d"),r=e.fontOptions+" "+e.fontSize+"px "+e.font;if(e.displayValue){var i,o;o="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,n.font=r,"left"==e.textAlign||t.barcodePadding>0?(i=0,n.textAlign="left"):"right"==e.textAlign?(i=t.width-1,n.textAlign="right"):(i=t.width/2,n.textAlign="center"),n.fillText(t.text,i,o)}},e.prototype.moveCanvasDrawing=function(e){var t=this.canvas.getContext("2d");t.translate(e.width,0)},e.prototype.restoreCanvas=function(){var e=this.canvas.getContext("2d");e.restore()},e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),o=r(i),a=n(42),s=r(a);t["default"]={CanvasRenderer:o["default"],SVGRenderer:s["default"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){var r=document.createElementNS(f,"g");return r.setAttribute("transform","translate("+e+", "+t+")"),n.appendChild(r),r}function a(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}function s(e,t,n,r,i){var o=document.createElementNS(f,"rect");return o.setAttribute("x",e),o.setAttribute("y",t),o.setAttribute("width",n),o.setAttribute("height",r),i.appendChild(o),o}Object.defineProperty(t,"__esModule",{value:!0});var l=n(6),u=r(l),c=n(10),f="http://www.w3.org/2000/svg",d=function(){function e(t,n,r){i(this,e),this.svg=t,this.encodings=n,this.options=r}return e.prototype.render=function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var n=this.encodings[t],r=(0,u["default"])(this.options,n.options),i=o(e,r.marginTop,this.svg);a(i,r),this.drawSvgBarcode(i,r,n),this.drawSVGText(i,r,n),e+=n.width}},e.prototype.prepareSVG=function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,c.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,c.getTotalWidthOfEncodings)(this.encodings),t=(0,c.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,t),this.options.background&&s(0,0,n,t,this.svg).setAttribute("style","fill:"+this.options.background+";")},e.prototype.drawSvgBarcode=function(e,t,n){var r,i=n.data;r="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var o=0,a=0,l=0;l<i.length;l++)a=l*t.width+n.barcodePadding,"1"===i[l]?o++:o>0&&(s(a-t.width*o,r,t.width*o,t.height,e),o=0);o>0&&s(a-t.width*(o-1),r,t.width*o,t.height,e)},e.prototype.drawSVGText=function(e,t,n){var r=document.createElementNS(f,"text");if(t.displayValue){var i,o;r.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),o="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||n.barcodePadding>0?(i=0,r.setAttribute("text-anchor","start")):"right"==t.textAlign?(i=n.width-1,r.setAttribute("text-anchor","end")):(i=n.width/2,r.setAttribute("text-anchor","middle")),r.setAttribute("x",i),r.setAttribute("y",o),r.appendChild(document.createTextNode(n.text)),e.appendChild(r)}},e.prototype.setSvgAttributes=function(e,t){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+t),n.setAttribute("xmlns",f),n.setAttribute("version","1.1"),n.style.transform="translate(0,0)"},e}();t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i);t["default"]=function(){"ngInject";return{replace:!0,restrict:"E",require:"ngModel",scope:{bcType:"@",bcClass:"@?",bcOptions:"="},template:"",link:function(e,t,n,r){var i=function(){var t=e.bcClass||"barcode",n="";switch(e.bcType){case"svg":n='<svg class="'+t+'"></svg>';break;case"img":n='<img class="'+t+'">';break;case"canvas":n='<canvas class="'+t+'"></canvas>';break;default:n='<img class="'+t+'">'}return n},a={format:"CODE128",lineColor:"#000000",width:2,height:100,displayValue:!1,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",margin:10,marginTop:10,marginBottom:10,marginLeft:10,marginRight:10,valid:function(){return!0}},s=function(e){return Object.keys(a).forEach(function(t){e.hasOwnProperty(t)?e[t]=e[t]||a[t]:e[t]=a[t]}),e},l=function(e){var n=angular.element(i()),a=r.$viewValue||"",s=(0,o["default"])(n[0],a,e);return angular.forEach(t.children(),function(e){return e.remove()}),t.append(n),s};l(s(e.hasOwnProperty("bcOptions")&&"undefined"!=typeof e.bcOptions?e.bcOptions:a)),e.$watch("bcOptions",function(e){l(e)},!0),r.$render=function(){l(e.bcOptions)}}}},e.exports=t["default"]}])}),angular.module("invitationsApp").controller("HeaderController",["$scope","$state","$location","$rootScope","ngDialog","AuthService",function(e,t,n,r,i,o){e.loggedIn=!1,e.username="",e.userId="",e.showJumbotron=!0,o.isAuthenticated()&&(e.loggedIn=!0,e.username=o.getUsername(),e.userId=o.getUserId()),e.openLogin=function(){i.open({template:"views/login.html",scope:e,className:"ngdialog-theme-default",controller:"LoginController"})},e.logOut=function(){o.logout(),e.loggedIn=!1,e.username="",e.userId="",n.path("/"),e.showJumbotron=!0},e.openHome=function(){e.showJumbotron=!0,t.go("app")},e.openAboutus=function(){e.showJumbotron=!0,t.go("app.aboutus")},e.openContactus=function(){e.showJumbotron=!0,t.go("app.contactus")},e.openCustomers=function(n){e.showJumbotron=!1,console.log(n),t.go("app.customers",{id:n.userId})},e.openHosts=function(n){e.showJumbotron=!1,console.log(n),t.go("app.hosts",{id:n.userId})},r.$on("login:Successful",function(){e.loggedIn=o.isAuthenticated(),e.username=o.getUsername(),e.userId=o.getUserId()}),r.$on("registration:Successful",function(){e.loggedIn=o.isAuthenticated(),e.username=o.getUsername(),e.userId=o.getUserId()}),e.stateis=function(e){return t.is(e)},e.showJumbotron=t.is("app")||t.is("app.aboutus")||t.is("app.contactus")}]).controller("LoginController",["$scope","ngDialog","$localStorage","AuthService",function(e,t,n,r){e.loginData=n.getObject("userinfo","{}"),e.doLogin=function(){e.rememberMe&&n.storeObject("userinfo",e.loginData),r.login(e.loginData),t.close()},e.openRegister=function(){t.open({template:"views/register.html",scope:e,className:"ngdialog-theme-default",controller:"RegisterController"})}}]).controller("RegisterController",["$scope","ngDialog","$localStorage","AuthService",function(e,t,n,r){e.register={},e.loginData={},e.doRegister=function(){r.register(e.registration),t.close()}}]).controller("ContactController",["$scope","$state",function(e,t){e.feedback={mychannel:"",firstName:"",lastName:"",agree:!1,email:""};var n=[{value:"tel",label:"Tel."},{value:"Email",label:"Email"}];e.channels=n,e.invalidChannelSelection=!1,e.sendFeedback=function(){e.feedback.agree&&""===e.feedback.mychannel?e.invalidChannelSelection=!0:(e.invalidChannelSelection=!1,e.feedback={mychannel:"",firstName:"",lastName:"",agree:!1,email:""},e.feedback.mychannel="",e.feedbackForm.$setPristine())}}]),angular.module("invitationsApp").controller("CustomersController",["$scope","Customer","$stateParams","$state","ngDialog",function(e,t,n,r,i){e.showCustomers=!1,e.message="Loading ...",e.customer=t.findById({id:n.id}).$promise.then(function(t){e.customer=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.editCustomer=function(t){e.customer=t},e.customers=t.find().$promise.then(function(t){e.customers=t,e.showCustomers=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.saveCustomer=function(){t.prototype$updateAttributes({id:e.customer.id,userName:e.customer.userName,email:e.customer.email,firstName:e.customer.firstName,lastName:e.customer.lastName,photo:e.customer.photo}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Customer Saved Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"}),r.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Customer not saved!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"})})},e.deleteCustomer=function(e){t.deleteById({id:e}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Customer Deleted Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"}),r.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Customer not deleted!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"})})}}]),angular.module("invitationsApp").controller("HostsController",["$scope","Host","Customer","$stateParams","$state","ngDialog","$location","$anchorScroll",function(e,t,n,r,i,o,a,s){e.showHosts=!1,e.message="Loading ...",t.find({filter:{where:{customerId:r.id},include:{relation:"customer"}}}).$promise.then(function(t){e.hosts=t,e.showHosts=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.editHost=function(t){e.host=t,a.hash("cadastro"),s()},e.saveHost=function(){e.host.customerId||(e.host.customerId=r.id),t.prototype$updateAttributes({customerId:e.host.customerId,id:e.host.id,name:e.host.name,email:e.host.email,address:e.host.address,phone:e.host.phone,photo:e.host.photo,contactName:e.host.contactName,contactTitle:e.host.contactTitle}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Host Saved Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"}),i.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Host not saved!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';
o.openConfirm({template:t,plain:"true"})})},e.deleteHost=function(n){e.host.customerId;t.deleteById({id:n}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Host Deleted Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"}),i.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Host not deleted!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"})})}}]),angular.module("invitationsApp").controller("EventsController",["$scope","Event","Host","$stateParams","$state","ngDialog","$location","$anchorScroll",function(e,t,n,r,i,o,a,s){e.showEvents=!1,e.message="Loading ...",n.findById({id:r.id,filter:{include:{relation:"customer"}}}).$promise.then(function(t){e.host=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),t.find({filter:{where:{hostId:r.id},include:{relation:"host"}}}).$promise.then(function(t){e.events=t,e.showEvents=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.editEvent=function(t){e.event=t,a.hash("cadastro"),s()},e.saveEvent=function(){e.event.hostId||(e.event.hostId=r.id),t.prototype$updateAttributes({hostId:e.event.hostId,id:e.event.id,name:e.event.name,address:e.event.address,startDate:e.event.startDate,endDate:e.event.endDate,confirmationDeadlineDate:e.event.confirmationDeadlineDate,description:e.event.description,photo:e.event.photo}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Event Saved Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"}),i.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Event not saved!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"})})},e.deleteEvent=function(n){e.event.hostId;t.deleteById({id:n}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Event Deleted Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"}),i.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Event not deleted!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"})})}}]),angular.module("invitationsApp").controller("GuestsController",["$scope","Guest","Event","$stateParams","$state","ngDialog","$location","$anchorScroll",function(e,t,n,r,i,o,a,s){e.showGuests=!1,e.message="Loading ...",n.findById({id:r.id,filter:{include:{relation:"host",scope:{include:{relation:"customer"}}}}}).$promise.then(function(t){e.event=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.guests=t.find({filter:{where:{eventId:r.id},include:{relation:"event"}}}).$promise.then(function(t){e.guests=t,e.showGuests=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.editGuest=function(t){e.guest=t,a.hash("cadastro"),s()},e.saveGuest=function(n){e.guest.eventId||(e.guest.eventId=r.id),t.prototype$updateAttributes({eventId:e.guest.eventId,id:e.guest.id,name:e.guest.name,email:e.guest.email,phone:e.guest.phone,photo:e.guest.photo,status:e.guest.status,invitationsConfirmed:e.guest.invitationsConfirmed}).$promise.then(function(e){if(n){var t='                <div class="ngdialog-message">                  <div><h3>Guest Saved Successfully</h3></div><div class="ngdialog-buttons">                      <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                  </div>';o.openConfirm({template:t,plain:"true"}),i.reload()}},function(e){if(n){var t='                <div class="ngdialog-message">                  <div><h3>Guest not saved!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                      <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                  </div>';o.openConfirm({template:t,plain:"true"})}})},e.deleteGuest=function(n){e.guest.eventId;t.deleteById({id:n}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Guest Deleted Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"}),i.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Guest not deleted!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"})})},e.inviteGuest=function(n,r){e.guest=n,e.guest.status="To Be Confirmed",e.saveGuest(r);var i={hostname:e.event.host.name,hostemail:e.event.host.email,guestname:e.guest.name,guestemail:e.guest.email,eventname:e.event.name,eventdescription:e.event.description,hostaddress:e.event.address,hostphone:e.event.host.phone,confirmationlink:"https://invitationsapp.herokuapp.com/#!/Guests/"+e.guest.id+"/confirmation",eventphoto:e.event.photo};t.sendEmail(i)},e.inviteAllGuests=function(){e.guests.forEach(function(t){e.inviteGuest(t,!1)})}}]),angular.module("invitationsApp").controller("ConfirmationController",["$scope","Guest","$stateParams","$state","ngDialog",function(e,t,n,r,i){e.message="Loading ...",t.findById({id:n.id,filter:{include:{relation:"event",scope:{include:{relation:"host"}}}}}).$promise.then(function(t){e.guest=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.submitConfirmation=function(){t.prototype$updateAttributes({eventId:e.guest.eventId,id:e.guest.id,name:e.guest.name,email:e.guest.email,phone:e.guest.phone,photo:e.guest.photo,status:"Confirmed",invitationsConfirmed:e.guest.invitationsConfirmed}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Guest confirmed Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"}),r.go("app.barcode",{id:n.id},{})},function(e){var t='              <div class="ngdialog-message">                <div><h3>Guest not confirmed!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"})})}}]),angular.module("invitationsApp").controller("BarcodeController",["$scope","Guest","$stateParams","$state","ngDialog",function(e,t,n,r,i){e.message="Loading ...",e.options={width:2,height:100,quite:10,displayValue:!0,font:"monospace",textAlign:"center",fontSize:12,backgroundColor:"",lineColor:"#000"},t.findById({id:n.id,filter:{include:{relation:"event",scope:{include:{relation:"host"}}}}}).$promise.then(function(t){e.guest=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.printConfirmation=function(){},e.bc={format:"CODE128",lineColor:"#000000",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",margin:0,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(e){}}}]),angular.module("invitationsApp").controller("PresenceController",["$scope","Guest","Event","$stateParams","$state","ngDialog",function(e,t,n,r,i,o){e.showGuests=!1,e.message="Loading ...",n.findById({id:r.id,filter:{include:{relation:"host",scope:{include:{relation:"customer"}}}}}).$promise.then(function(t){e.event=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.guests=t.find({filter:{where:{eventId:r.id},include:{relation:"event"}}}).$promise.then(function(t){e.guests=t,e.showGuests=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.confirmGuestPresence=function(n){t.find({filter:{where:{id:n}}}).$promise.then(function(t){e.guest=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.guest&&t.prototype$updateAttributes({eventId:e.guest.eventId,id:e.guest.id,name:e.guest.name,email:e.guest.email,phone:e.guest.phone,photo:e.guest.photo,status:"Presence Confirmed",invitationsConfirmed:e.guest.invitationsConfirmed}).$promise.then(function(e){var t='                <div class="ngdialog-message">                  <div><h3>Guest Confirmed Presence Successfully</h3></div><div class="ngdialog-buttons">                      <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                  </div>';o.openConfirm({template:t,plain:"true"}),i.reload()},function(e){var t='                <div class="ngdialog-message">                  <div><h3>Guest dont confirmed presence!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                      <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                  </div>';o.openConfirm({template:t,plain:"true"})})}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="lbServices"),function(e,t,n){"use strict";function r(e){var t=e.match(/^(?:https?:)?\/\/([^\/]+)/);return t?t[1]:null}var i="/api",o="authorization",a=r(i)||location.host,s=t.module("lbServices",["ngResource"]);s.factory("Customer",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var o=e(i+"/Customers/:id",{id:"@id"},{prototype$__findById__hosts:{params:{fk:"@fk"},url:i+"/Customers/:id/hosts/:fk",method:"GET"},prototype$__destroyById__hosts:{params:{fk:"@fk"},url:i+"/Customers/:id/hosts/:fk",method:"DELETE"},prototype$__updateById__hosts:{params:{fk:"@fk"},url:i+"/Customers/:id/hosts/:fk",method:"PUT"},prototype$__get__hosts:{isArray:!0,url:i+"/Customers/:id/hosts",method:"GET"},prototype$__create__hosts:{url:i+"/Customers/:id/hosts",method:"POST"},prototype$__delete__hosts:{url:i+"/Customers/:id/hosts",method:"DELETE"},prototype$__count__hosts:{url:i+"/Customers/:id/hosts/count",method:"GET"},create:{url:i+"/Customers",method:"POST"},createMany:{isArray:!0,url:i+"/Customers",method:"POST"},upsert:{url:i+"/Customers",method:"PUT"},replaceOrCreate:{url:i+"/Customers/replaceOrCreate",method:"POST"},upsertWithWhere:{url:i+"/Customers/upsertWithWhere",method:"POST"},findById:{url:i+"/Customers/:id",method:"GET"},replaceById:{url:i+"/Customers/:id/replace",method:"POST"},find:{isArray:!0,url:i+"/Customers",method:"GET"},updateAll:{url:i+"/Customers/update",method:"POST"},deleteById:{url:i+"/Customers/:id",method:"DELETE"},prototype$updateAttributes:{url:i+"/Customers/:id",method:"PUT"},login:{params:{include:"user"},interceptor:{response:function(e){var n=e.data;return t.setUser(n.id,n.userId,n.user),t.rememberMe=e.config.params.rememberMe!==!1,t.save(),e.resource}},url:i+"/Customers/login",method:"POST"},logout:{interceptor:{response:function(e){return t.clearUser(),t.clearStorage(),e.resource},responseError:function(e){return t.clearUser(),t.clearStorage(),e.resource}},url:i+"/Customers/logout",method:"POST"},confirm:{url:i+"/Customers/confirm",method:"GET"},"::get::Host::customer":{url:i+"/Hosts/:id/customer",method:"GET"},getCurrent:{url:i+"/Customers/:id",method:"GET",params:{id:function(){var e=t.currentUserId;return null===e&&(e="__anonymous__"),e}},interceptor:{response:function(e){return t.currentUserData=e.data,e.resource},responseError:function(e){return t.clearUser(),t.clearStorage(),r.reject(e)}},__isGetCurrentUser__:!0}});return o.patchOrCreate=o.upsert,o.updateOrCreate=o.upsert,o.patchOrCreateWithWhere=o.upsertWithWhere,o.update=o.updateAll,o.destroyById=o.deleteById,o.removeById=o.deleteById,o.patchAttributes=o.prototype$updateAttributes,o.getCachedCurrent=function(){var e=t.currentUserData;return e?new o(e):null},o.isAuthenticated=function(){return null!=this.getCurrentId()},o.getCurrentId=function(){return t.currentUserId},o.modelName="Customer",o.hosts=function(){var e=n.get("Host"),t=e["::get::Customer::hosts"];return t.apply(o,arguments)},o.hosts.count=function(){var e=n.get("Host"),t=e["::count::Customer::hosts"];return t.apply(o,arguments)},o.hosts.create=function(){var e=n.get("Host"),t=e["::create::Customer::hosts"];return t.apply(o,arguments)},o.hosts.createMany=function(){var e=n.get("Host"),t=e["::createMany::Customer::hosts"];return t.apply(o,arguments)},o.hosts.destroyAll=function(){var e=n.get("Host"),t=e["::delete::Customer::hosts"];return t.apply(o,arguments)},o.hosts.destroyById=function(){var e=n.get("Host"),t=e["::destroyById::Customer::hosts"];return t.apply(o,arguments)},o.hosts.findById=function(){var e=n.get("Host"),t=e["::findById::Customer::hosts"];return t.apply(o,arguments)},o.hosts.updateById=function(){var e=n.get("Host"),t=e["::updateById::Customer::hosts"];return t.apply(o,arguments)},o}]),s.factory("Host",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var o=e(i+"/Hosts/:id",{id:"@id"},{prototype$__get__customer:{url:i+"/Hosts/:id/customer",method:"GET"},prototype$__findById__events:{params:{fk:"@fk"},url:i+"/Hosts/:id/events/:fk",method:"GET"},prototype$__destroyById__events:{params:{fk:"@fk"},url:i+"/Hosts/:id/events/:fk",method:"DELETE"},prototype$__updateById__events:{params:{fk:"@fk"},url:i+"/Hosts/:id/events/:fk",method:"PUT"},prototype$__get__events:{isArray:!0,url:i+"/Hosts/:id/events",method:"GET"},prototype$__create__events:{url:i+"/Hosts/:id/events",method:"POST"},prototype$__delete__events:{url:i+"/Hosts/:id/events",method:"DELETE"},prototype$__count__events:{url:i+"/Hosts/:id/events/count",method:"GET"},create:{url:i+"/Hosts",method:"POST"},createMany:{isArray:!0,url:i+"/Hosts",method:"POST"},upsert:{url:i+"/Hosts",method:"PUT"},replaceOrCreate:{url:i+"/Hosts/replaceOrCreate",method:"POST"},upsertWithWhere:{url:i+"/Hosts/upsertWithWhere",method:"POST"},exists:{url:i+"/Hosts/:id/exists",method:"GET"},findById:{url:i+"/Hosts/:id",method:"GET"},replaceById:{url:i+"/Hosts/:id/replace",method:"POST"},find:{isArray:!0,url:i+"/Hosts",method:"GET"},findOne:{url:i+"/Hosts/findOne",method:"GET"},updateAll:{url:i+"/Hosts/update",method:"POST"},deleteById:{url:i+"/Hosts/:id",method:"DELETE"},count:{url:i+"/Hosts/count",method:"GET"},prototype$updateAttributes:{url:i+"/Hosts/:id",method:"PUT"},createChangeStream:{url:i+"/Hosts/change-stream",method:"POST"},"::findById::Customer::hosts":{params:{fk:"@fk"},url:i+"/Customers/:id/hosts/:fk",method:"GET"},"::destroyById::Customer::hosts":{params:{fk:"@fk"},url:i+"/Customers/:id/hosts/:fk",method:"DELETE"},"::updateById::Customer::hosts":{params:{fk:"@fk"},url:i+"/Customers/:id/hosts/:fk",method:"PUT"},"::get::Customer::hosts":{isArray:!0,url:i+"/Customers/:id/hosts",method:"GET"},"::create::Customer::hosts":{url:i+"/Customers/:id/hosts",method:"POST"},"::createMany::Customer::hosts":{isArray:!0,url:i+"/Customers/:id/hosts",method:"POST"},"::delete::Customer::hosts":{url:i+"/Customers/:id/hosts",method:"DELETE"},"::count::Customer::hosts":{url:i+"/Customers/:id/hosts/count",method:"GET"},"::get::Event::host":{url:i+"/Events/:id/host",method:"GET"}});return o.patchOrCreate=o.upsert,o.updateOrCreate=o.upsert,o.patchOrCreateWithWhere=o.upsertWithWhere,o.update=o.updateAll,o.destroyById=o.deleteById,o.removeById=o.deleteById,o.patchAttributes=o.prototype$updateAttributes,o.modelName="Host",o.customer=function(){var e=n.get("Customer"),t=e["::get::Host::customer"];return t.apply(o,arguments)},o.events=function(){var e=n.get("Event"),t=e["::get::Host::events"];return t.apply(o,arguments)},o.events.count=function(){var e=n.get("Event"),t=e["::count::Host::events"];return t.apply(o,arguments)},o.events.create=function(){var e=n.get("Event"),t=e["::create::Host::events"];return t.apply(o,arguments)},o.events.createMany=function(){var e=n.get("Event"),t=e["::createMany::Host::events"];return t.apply(o,arguments)},o.events.destroyAll=function(){var e=n.get("Event"),t=e["::delete::Host::events"];return t.apply(o,arguments)},o.events.destroyById=function(){var e=n.get("Event"),t=e["::destroyById::Host::events"];return t.apply(o,arguments)},o.events.findById=function(){var e=n.get("Event"),t=e["::findById::Host::events"];return t.apply(o,arguments)},o.events.updateById=function(){var e=n.get("Event"),t=e["::updateById::Host::events"];return t.apply(o,arguments)},o}]),s.factory("Event",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var o=e(i+"/Events/:id",{id:"@id"},{prototype$__get__host:{url:i+"/Events/:id/host",method:"GET"},prototype$__findById__guests:{params:{fk:"@fk"},url:i+"/Events/:id/guests/:fk",method:"GET"},prototype$__destroyById__guests:{params:{fk:"@fk"},url:i+"/Events/:id/guests/:fk",method:"DELETE"},prototype$__updateById__guests:{params:{fk:"@fk"},url:i+"/Events/:id/guests/:fk",method:"PUT"},prototype$__get__guests:{isArray:!0,url:i+"/Events/:id/guests",method:"GET"},prototype$__create__guests:{url:i+"/Events/:id/guests",method:"POST"},prototype$__delete__guests:{url:i+"/Events/:id/guests",method:"DELETE"},prototype$__count__guests:{url:i+"/Events/:id/guests/count",method:"GET"},create:{url:i+"/Events",method:"POST"},createMany:{isArray:!0,url:i+"/Events",method:"POST"},upsert:{url:i+"/Events",method:"PUT"},replaceOrCreate:{url:i+"/Events/replaceOrCreate",method:"POST"},upsertWithWhere:{url:i+"/Events/upsertWithWhere",method:"POST"},exists:{url:i+"/Events/:id/exists",method:"GET"},findById:{url:i+"/Events/:id",method:"GET"},replaceById:{url:i+"/Events/:id/replace",method:"POST"},find:{isArray:!0,url:i+"/Events",method:"GET"},findOne:{url:i+"/Events/findOne",method:"GET"},updateAll:{url:i+"/Events/update",method:"POST"},deleteById:{url:i+"/Events/:id",method:"DELETE"},count:{url:i+"/Events/count",method:"GET"},prototype$updateAttributes:{url:i+"/Events/:id",method:"PUT"},createChangeStream:{url:i+"/Events/change-stream",method:"POST"},presence:{url:i+"/Events/:id/presence",method:"GET"},"::findById::Host::events":{params:{fk:"@fk"},url:i+"/Hosts/:id/events/:fk",method:"GET"},"::destroyById::Host::events":{params:{fk:"@fk"},url:i+"/Hosts/:id/events/:fk",method:"DELETE"},"::updateById::Host::events":{params:{fk:"@fk"},url:i+"/Hosts/:id/events/:fk",method:"PUT"},"::get::Host::events":{isArray:!0,url:i+"/Hosts/:id/events",method:"GET"},"::create::Host::events":{url:i+"/Hosts/:id/events",method:"POST"},"::createMany::Host::events":{isArray:!0,url:i+"/Hosts/:id/events",method:"POST"},"::delete::Host::events":{url:i+"/Hosts/:id/events",method:"DELETE"},"::count::Host::events":{url:i+"/Hosts/:id/events/count",method:"GET"},"::get::Guest::event":{url:i+"/Guests/:id/event",method:"GET"}});return o.patchOrCreate=o.upsert,o.updateOrCreate=o.upsert,o.patchOrCreateWithWhere=o.upsertWithWhere,o.update=o.updateAll,o.destroyById=o.deleteById,o.removeById=o.deleteById,o.patchAttributes=o.prototype$updateAttributes,o.modelName="Event",o.host=function(){var e=n.get("Host"),t=e["::get::Event::host"];return t.apply(o,arguments)},o.guests=function(){var e=n.get("Guest"),t=e["::get::Event::guests"];return t.apply(o,arguments)},o.guests.count=function(){var e=n.get("Guest"),t=e["::count::Event::guests"];return t.apply(o,arguments)},o.guests.create=function(){var e=n.get("Guest"),t=e["::create::Event::guests"];return t.apply(o,arguments)},o.guests.createMany=function(){var e=n.get("Guest"),t=e["::createMany::Event::guests"];return t.apply(o,arguments)},o.guests.destroyAll=function(){var e=n.get("Guest"),t=e["::delete::Event::guests"];return t.apply(o,arguments)},o.guests.destroyById=function(){var e=n.get("Guest"),t=e["::destroyById::Event::guests"];return t.apply(o,arguments)},o.guests.findById=function(){var e=n.get("Guest"),t=e["::findById::Event::guests"];return t.apply(o,arguments)},o.guests.updateById=function(){var e=n.get("Guest"),t=e["::updateById::Event::guests"];return t.apply(o,arguments)},o}]),s.factory("Guest",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var o=e(i+"/Guests/:id",{id:"@id"},{prototype$__get__event:{url:i+"/Guests/:id/event",method:"GET"},create:{url:i+"/Guests",method:"POST"},createMany:{isArray:!0,url:i+"/Guests",method:"POST"},upsert:{url:i+"/Guests",method:"PUT"},replaceOrCreate:{url:i+"/Guests/replaceOrCreate",method:"POST"},upsertWithWhere:{url:i+"/Guests/upsertWithWhere",method:"POST"},exists:{url:i+"/Guests/:id/exists",method:"GET"},findById:{url:i+"/Guests/:id",method:"GET"},replaceById:{url:i+"/Guests/:id/replace",method:"POST"},find:{isArray:!0,url:i+"/Guests",method:"GET"},findOne:{url:i+"/Guests/findOne",method:"GET"},updateAll:{url:i+"/Guests/update",method:"POST"},deleteById:{url:i+"/Guests/:id",method:"DELETE"},count:{url:i+"/Guests/count",method:"GET"},prototype$updateAttributes:{url:i+"/Guests/:id",method:"PUT"},createChangeStream:{url:i+"/Guests/change-stream",method:"POST"},sendEmail:{url:i+"/Guests/sendEmail",method:"POST"},confirmation:{url:i+"/Guests/:id/confirmation",method:"GET"},barcode:{url:i+"/Guests/:id/barcode",method:"GET"},"::findById::Event::guests":{params:{fk:"@fk"},url:i+"/Events/:id/guests/:fk",method:"GET"},"::destroyById::Event::guests":{params:{fk:"@fk"},url:i+"/Events/:id/guests/:fk",method:"DELETE"},"::updateById::Event::guests":{params:{fk:"@fk"},url:i+"/Events/:id/guests/:fk",method:"PUT"},"::get::Event::guests":{isArray:!0,url:i+"/Events/:id/guests",method:"GET"},"::create::Event::guests":{url:i+"/Events/:id/guests",method:"POST"},"::createMany::Event::guests":{isArray:!0,url:i+"/Events/:id/guests",method:"POST"},"::delete::Event::guests":{url:i+"/Events/:id/guests",method:"DELETE"},"::count::Event::guests":{url:i+"/Events/:id/guests/count",method:"GET"}});return o.patchOrCreate=o.upsert,o.updateOrCreate=o.upsert,o.patchOrCreateWithWhere=o.upsertWithWhere,o.update=o.updateAll,o.destroyById=o.deleteById,o.removeById=o.deleteById,o.patchAttributes=o.prototype$updateAttributes,o.modelName="Guest",o.event=function(){var e=n.get("Event"),t=e["::get::Guest::event"];return t.apply(o,arguments)},o}]),s.factory("Container",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var o=e(i+"/containers/:id",{id:"@id"},{getContainers:{isArray:!0,url:i+"/containers",method:"GET"},createContainer:{url:i+"/containers",method:"POST"},destroyContainer:{url:i+"/containers/:container",method:"DELETE"},getContainer:{url:i+"/containers/:container",method:"GET"},getFiles:{isArray:!0,url:i+"/containers/:container/files",method:"GET"},getFile:{url:i+"/containers/:container/files/:file",method:"GET"},removeFile:{url:i+"/containers/:container/files/:file",method:"DELETE"},upload:{url:i+"/containers/:container/upload",method:"POST"},download:{url:i+"/containers/:container/download/:file",method:"GET"}});return o.modelName="Container",o}]),s.factory("LoopBackAuth",function(){function e(){var e=this;r.forEach(function(t){e[t]=n(t)}),this.currentUserData=null}function t(e,t,n){try{var r=i+t;null==n&&(n=""),e[r]=n}catch(o){console.log("Cannot access local/session storage:",o)}}function n(e){var t=i+e;return localStorage[t]||sessionStorage[t]||null}var r=["accessTokenId","currentUserId","rememberMe"],i="$LoopBack$";return e.prototype.save=function(){var e=this,n=this.rememberMe?localStorage:sessionStorage;r.forEach(function(r){t(n,r,e[r])})},e.prototype.setUser=function(e,t,n){this.accessTokenId=e,this.currentUserId=t,this.currentUserData=n},e.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},e.prototype.clearStorage=function(){r.forEach(function(e){t(sessionStorage,e,null),t(localStorage,e,null)})},new e}).config(["$httpProvider",function(e){e.interceptors.push("LoopBackAuthRequestInterceptor")}]).factory("LoopBackAuthRequestInterceptor",["$q","LoopBackAuth",function(e,t){return{request:function(i){var s=r(i.url);if(s&&s!==a)return i;if(t.accessTokenId)i.headers[o]=t.accessTokenId;else if(i.__isGetCurrentUser__){var l={body:{error:{status:401}},status:401,config:i,headers:function(){return n}};return e.reject(l)}return i||e.when(i)}}}]).provider("LoopBackResource",function(){this.setAuthHeader=function(e){o=e},this.getAuthHeader=function(){return o},this.setUrlBase=function(e){i=e,a=r(i)||location.host},this.getUrlBase=function(){return i},this.$get=["$resource",function(e){var t=function(t,n,r){var i=e(t,n,r);return i.prototype.$save=function(e,t){var n=i.upsert.call(this,{},this,e,t);return n.$promise||n},i};return t.getUrlBase=function(){return i},t.getAuthHeader=function(){return o},t}]})}(window,window.angular),angular.module("invitationsApp").factory("AuthService",["Customer","$q","$rootScope","ngDialog",function(e,t,n,r){function i(t){return e.login(t).$promise.then(function(e){n.currentUser={id:e.user.id,tokenId:e.id,username:t.username},n.$broadcast("login:Successful")},function(e){var t='                <div class="ngdialog-message">                <div><h3>Login Unsuccessful</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click=confirm("OK")>OK</button>                </div>';r.openConfirm({template:t,plain:"true"})})}function o(){return!!n.currentUser}function a(){return n.currentUser.username}function s(){return n.currentUser.id}function l(){return e.logout().$promise.then(function(){n.currentUser=null})}function u(t){return e.create({username:t.username,email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName}).$promise.then(function(e){var t='              <div class="ngdialog-message">              <div><h3>Registration Successful</h3></div><div><p>Please Log in the system using the information registered</p></div>';r.openConfirm({template:t,plain:"true"})},function(e){var t='                <div class="ngdialog-message">                <div><h3>Registration Unsuccessful</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+"</p></div>";r.openConfirm({template:t,plain:"true"})})}return{login:i,logout:l,register:u,isAuthenticated:o,getUsername:a,getUserId:s}}]).factory("$localStorage",["$window",function(e){return{store:function(t,n){e.localStorage[t]=n},get:function(t,n){return e.localStorage[t]||n},remove:function(t){e.localStorage.removeItem(t)},storeObject:function(t,n){e.localStorage[t]=JSON.stringify(n)},getObject:function(t,n){return JSON.parse(e.localStorage[t]||n)}}}]);