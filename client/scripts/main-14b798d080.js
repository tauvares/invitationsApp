function myMap(){var e=document.getElementById("map"),t={center:new google.maps.LatLng((-15.7876253),(-47.9077034)),zoom:10};new google.maps.Map(e,t)}function init_map(){var e=new google.maps.LatLng((-15.7876253),(-47.9077034)),t={center:e,zoom:16},n=new google.maps.Marker({position:e,map:r,title:"MPDFT"}),r=new google.maps.Map(document.getElementById("map-container"),t);n.setMap(r)}!function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,o=2,i=arguments,a=i[0],s="["+(e?e+":":"")+a+"] ",l=i[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+o;return n<i.length?Ee(i[n]):e}),s+="\nhttp://errors.angularjs.org/1.6.1/"+(e?e+"/":"")+a,r=o,n="?";r<i.length;r++,n="&")s+=n+"p"+(r-o)+"="+encodeURIComponent(Ee(i[r]));return new t(s)}}function n(e){if(null==e||T(e))return!1;if(uo(e)||E(e)||Qr&&e instanceof Qr)return!0;var t="length"in Object(e)&&e.length;return w(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,o){var i,a;if(e)if(S(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(o,e[i],i,e);else if(uo(e)||n(e)){var s="object"!=typeof e;for(i=0,a=e.length;i<a;i++)(s||i in e)&&t.call(o,e[i],i,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,o,e);else if(y(e))for(i in e)t.call(o,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(o,e[i],i,e);else for(i in e)qr.call(e,i)&&t.call(o,e[i],i,e);return e}function o(e,t,n){for(var r=Object.keys(e).sort(),o=0;o<r.length;o++)t.call(n,e[r[o]],r[o]);return r}function i(e){return function(t,n){e(n,t)}}function a(){return++so}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var r=e.$$hashKey,o=0,i=t.length;o<i;++o){var a=t[o];if(b(a)||S(a))for(var u=Object.keys(a),c=0,f=u.length;c<f;c++){var d=u[c],p=a[d];n&&b(p)?C(p)?e[d]=new Date(p.valueOf()):x(p)?e[d]=new RegExp(p):p.nodeName?e[d]=p.cloneNode(!0):F(p)?e[d]=p.clone():(b(e[d])||(e[d]=uo(p)?[]:{}),l(e[d],[p],!0)):e[d]=p}}return s(e,r),e}function u(e){return l(e,eo.call(arguments,1),!1)}function c(e){return l(e,eo.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function d(e,t){return u(Object.create(e),t)}function p(){}function h(e){return e}function g(e){return function(){return e}}function m(e){return S(e.toString)&&e.toString!==ro}function v(e){return"undefined"==typeof e}function $(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function y(e){return null!==e&&"object"==typeof e&&!oo(e)}function E(e){return"string"==typeof e}function w(e){return"number"==typeof e}function C(e){return"[object Date]"===ro.call(e)}function S(e){return"function"==typeof e}function x(e){return"[object RegExp]"===ro.call(e)}function T(e){return e&&e.window===e}function O(e){return e&&e.$evalAsync&&e.$watch}function A(e){return"[object File]"===ro.call(e)}function N(e){return"[object FormData]"===ro.call(e)}function k(e){return"[object Blob]"===ro.call(e)}function _(e){return"boolean"==typeof e}function M(e){return e&&S(e.then)}function D(e){return e&&w(e.length)&&co.test(ro.call(e))}function I(e){return"[object ArrayBuffer]"===ro.call(e)}function F(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function R(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function L(e){return Gr(e.nodeName||e[0]&&e[0].nodeName)}function P(e,t){return Array.prototype.indexOf.call(e,t)!==-1}function B(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function H(e,t){function n(e,t){var n,r=t.$$hashKey;if(uo(e))for(var i=0,a=e.length;i<a;i++)t.push(o(e[i]));else if(y(e))for(n in e)t[n]=o(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=o(e[n]));else for(n in e)qr.call(e,n)&&(t[n]=o(e[n]));return s(t,r),t}function o(e){if(!b(e))return e;var t=a.indexOf(e);if(t!==-1)return l[t];if(T(e)||O(e))throw io("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=i(e);return void 0===o&&(o=uo(e)?[]:Object.create(oo(e)),r=!0),a.push(e),l.push(o),r?n(e,o):o}function i(e){switch(ro.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(o(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(S(e.cloneNode))return e.cloneNode(!0)}var a=[],l=[];if(t){if(D(t)||I(t))throw io("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw io("cpi","Can't copy! Source and destination are identical.");return uo(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),l.push(t),n(e,t)}return o(e)}function j(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,o,i=typeof e,a=typeof t;if(i===a&&"object"===i){if(!uo(e)){if(C(e))return!!C(t)&&j(e.getTime(),t.getTime());if(x(e))return!!x(t)&&e.toString()===t.toString();if(O(e)||O(t)||T(e)||T(t)||uo(t)||C(t)||x(t))return!1;o=me();for(r in e)if("$"!==r.charAt(0)&&!S(e[r])){if(!j(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!(r in o)&&"$"!==r.charAt(0)&&$(t[r])&&!S(t[r]))return!1;return!0}if(!uo(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!j(e[r],t[r]))return!1;return!0}}return!1}function U(e,t,n){return e.concat(eo.call(t,n))}function V(e,t){return eo.call(e,t||0)}function K(e,t){var n=arguments.length>2?V(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,U(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:T(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":O(n)&&(r="$SCOPE"),r}function G(e,t){if(!v(e))return w(t)||(t=t?2:null),JSON.stringify(e,q,t)}function W(e){return E(e)?JSON.parse(e):e}function z(e,t){e=e.replace(mo,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return lo(n)?t:n}function Y(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function X(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),o=z(t,r);return Y(e,n*(o-r))}function Q(e){e=Qr(e).clone();try{e.empty()}catch(t){}var n=Qr("<div>").append(e).html();try{return e[0].nodeType===Co?Gr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+Gr(t)})}catch(t){return Gr(n)}}function J(e){try{return decodeURIComponent(e)}catch(t){}}function Z(e){var t={};return r((e||"").split("&"),function(e){var n,r,o;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(r=e.substring(0,n),o=e.substring(n+1)),r=J(r),$(r)&&(o=!$(o)||J(o),qr.call(t,r)?uo(t[r])?t[r].push(o):t[r]=[t[r],o]:t[r]=o))}),t}function ee(e){var t=[];return r(e,function(e,n){uo(e)?r(e,function(e){t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}):t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}),t.length?t.join("&"):""}function te(e){return ne(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function re(e,t){var n,r,o=vo.length;for(r=0;r<o;++r)if(n=vo[r]+t,E(n=e.getAttribute(n)))return n;return null}function oe(e){if(!e.currentScript)return!0;var t=e.currentScript.getAttribute("src"),n=e.createElement("a");if(n.href=t,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function ie(t,n){var o,i,a={};if(r(vo,function(e){var n=e+"app";!o&&t.hasAttribute&&t.hasAttribute(n)&&(o=t,i=t.getAttribute(n))}),r(vo,function(e){var n,r=e+"app";!o&&(n=t.querySelector("["+r.replace(":","\\:")+"]"))&&(o=n,i=n.getAttribute(r))}),o){if(!$o)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==re(o,"strict-di"),n(o,i?[i]:[],a)}}function ae(t,n,o){b(o)||(o={});var i={strictDi:!1};o=u(i,o);var a=function(){if(t=Qr(t),t.injector()){var r=t[0]===e.document?"document":Q(t);throw io("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),o.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var i=ut(n,o.strictDi);return i.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),i},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(o.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),ao.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),a()},void(S(ao.resumeDeferredBootstrap)&&ao.resumeDeferredBootstrap()))}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function le(e){var t=ao.element(e).injector();if(!t)throw io("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ue(e,t){return t=t||"_",e.replace(bo,function(e,n){return(n?t:"")+e.toLowerCase()})}function ce(){var t;if(!yo){var n=go();Jr=v(n)?e.jQuery:n?e[n]:void 0,Jr&&Jr.fn.on?(Qr=Jr,u(Jr.fn,{scope:Ho.scope,isolateScope:Ho.isolateScope,controller:Ho.controller,injector:Ho.injector,inheritedData:Ho.inheritedData}),t=Jr.cleanData,Jr.cleanData=function(e){for(var n,r,o=0;null!=(r=e[o]);o++)n=Jr._data(r,"events"),n&&n.$destroy&&Jr(r).triggerHandler("$destroy");t(e)}):Qr=Ie,ao.element=Qr,yo=!0}}function fe(e,t,n){if(!e)throw io("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function de(e,t,n){return n&&uo(e)&&(e=e[e.length-1]),fe(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pe(e,t){if("hasOwnProperty"===e)throw io("badname","hasOwnProperty is not a valid {0} name",t)}function he(e,t,n){if(!t)return e;for(var r,o=t.split("."),i=e,a=o.length,s=0;s<a;s++)r=o[s],e&&(e=(i=e)[r]);return!n&&S(e)?K(i,e):e}function ge(e){for(var t,n=e[0],r=e[e.length-1],o=1;n!==r&&(n=n.nextSibling);o++)(t||e[o]!==n)&&(t||(t=Qr(eo.call(e,0,o))),t.push(n));return t||e}function me(){return Object.create(null)}function ve(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!m(e)||uo(e)||C(e)?G(e):e.toString()}return e}function $e(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),o=t("ng"),i=n(e,"angular",Object);return i.$$minErr=i.$$minErr||t,n(i,"module",function(){var e={};return function(t,i,a){var s=function(e,t){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),i&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=o),function(){return r[n||"push"]([e,t,arguments]),c}}function n(e,n,r){return r||(r=o),function(o,i){return i&&S(i)&&(i.$$moduleName=t),r.push([e,n,arguments]),c}}if(!i)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var o=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:o,_configBlocks:s,_runBlocks:l,requires:i,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator",s),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function be(e,t){if(uo(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var o in e)"$"===o.charAt(0)&&"$"===o.charAt(1)||(t[o]=e[o])}return t||e}function ye(e){var t=[];return JSON.stringify(e,function(e,n){if(n=q(e,n),b(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function Ee(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ye(e):e}function we(n){u(n,{bootstrap:ae,copy:H,extend:u,merge:c,equals:j,element:Qr,forEach:r,injector:ut,noop:p,bind:K,toJson:G,fromJson:W,identity:h,isUndefined:v,isDefined:$,isString:E,isFunction:S,isObject:b,isNumber:w,isElement:F,isArray:uo,version:Oo,isDate:C,lowercase:Gr,uppercase:Wr,callbacks:{$$counter:0},getTestability:le,reloadWithDebugInfo:se,$$minErr:t,$$csp:ho,$$encodeUriSegment:te,$$encodeUriQuery:ne,$$stringify:ve}),(Zr=$e(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:On}),e.provider("$compile",yt).directive({a:Wi,input:pa,textarea:pa,form:Zi,script:ss,select:cs,option:fs,ngBind:ma,ngBindHtml:$a,ngBindTemplate:va,ngClass:ya,ngClassEven:wa,ngClassOdd:Ea,ngCloak:Ca,ngController:Sa,ngForm:ea,ngHide:es,ngIf:Oa,ngInclude:Aa,ngInit:ka,ngNonBindable:qa,ngPluralize:Ya,ngRepeat:Xa,ngShow:Za,ngStyle:ts,ngSwitch:ns,ngSwitchWhen:rs,ngSwitchDefault:os,ngOptions:za,ngTransclude:as,ngModel:Ua,ngList:_a,ngChange:ba,pattern:ps,ngPattern:ps,required:ds,ngRequired:ds,minlength:gs,ngMinlength:gs,maxlength:hs,ngMaxlength:hs,ngValue:ga,ngModelOptions:Ka}).directive({ngInclude:Na}).directive(zi).directive(xa),e.provider({$anchorScroll:ct,$animate:ni,$animateCss:ii,$$animateJs:ei,$$animateQueue:ti,$$AnimateRunner:oi,$$animateAsyncRun:ri,$browser:mt,$cacheFactory:vt,$controller:Tt,$document:Ot,$$isDocumentHidden:At,$exceptionHandler:Nt,$filter:Un,$$forceReflow:di,$interpolate:Vt,$interval:Kt,$http:Bt,$httpParamSerializer:_t,$httpParamSerializerJQLike:Mt,$httpBackend:jt,$xhrFactory:Ht,$jsonpCallbacks:yi,$location:an,$log:sn,$parse:En,$rootScope:Tn,$q:wn,$$q:Cn,$sce:Mn,$sceDelegate:_n,$sniffer:Dn,$templateCache:$t,$templateRequest:In,$$testability:Fn,$timeout:Rn,$window:Bn,$$rAF:xn,$$jqLite:nt,$$HashMap:Ko,$$cookieReader:jn})}])}function Ce(){return++No}function Se(e){return Te(e.replace(_o,"ms-"))}function xe(e,t){return t.toUpperCase()}function Te(e){return e.replace(ko,xe)}function Oe(e){return!Fo.test(e)}function Ae(e){var t=e.nodeType;return t===Eo||!t||t===xo}function Ne(e){for(var t in Ao[e.ng339])return!0;return!1}function ke(e){for(var t=0,n=e.length;t<n;t++)Pe(e[t])}function _e(e,t){var n,o,i,a,s=t.createDocumentFragment(),l=[];if(Oe(e))l.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),o=(Ro.exec(e)||["",""])[1].toLowerCase(),i=Po[o]||Po._default,n.innerHTML=i[1]+e.replace(Lo,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=U(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(l,function(e){s.appendChild(e)}),s}function Me(t,n){n=n||e.document;var r;return(r=Io.exec(t))?[n.createElement(r[1])]:(r=_e(t,n))?r.childNodes:[]}function De(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Ie(e){if(e instanceof Ie)return e;var t;if(E(e)&&(e=fo(e),t=!0),!(this instanceof Ie)){if(t&&"<"!==e.charAt(0))throw Do("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ie(e)}t?Ke(this,Me(e)):S(e)?Xe(e):Ke(this,e)}function Fe(e){return e.cloneNode(!0)}function Re(e,t){if(t||Pe(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,o=n.length;r<o;r++)Pe(n[r])}function Le(e,t,n,o){if($(o))throw Do("offargs","jqLite#off() does not support the `selector` argument");var i=Be(e),a=i&&i.events,s=i&&i.handle;if(s)if(t){var l=function(t){var r=a[t];$(n)&&B(r||[],n),$(n)&&r&&r.length>0||(e.removeEventListener(t,s),delete a[t])};r(t.split(" "),function(e){l(e),Mo[e]&&l(Mo[e])})}else for(t in a)"$destroy"!==t&&e.removeEventListener(t,s),delete a[t]}function Pe(e,t){var n=e.ng339,r=n&&Ao[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Le(e)),delete Ao[n],e.ng339=void 0}}function Be(e,t){var n=e.ng339,r=n&&Ao[n];return t&&!r&&(e.ng339=n=Ce(),r=Ao[n]={events:{},data:{},handle:void 0}),r}function He(e,t,n){if(Ae(e)){var r,o=$(n),i=!o&&t&&!b(t),a=!t,s=Be(e,!i),l=s&&s.data;if(o)l[Te(t)]=n;else{if(a)return l;if(i)return l&&l[Te(t)];for(r in t)l[Te(r)]=t[r]}}}function je(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Ue(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",fo((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fo(t)+" "," ")))})}function Ve(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=fo(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",fo(n))}}function Ke(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function qe(e,t){return Ge(e,"$"+(t||"ngController")+"Controller")}function Ge(e,t,n){e.nodeType===xo&&(e=e.documentElement);for(var r=uo(t)?t:[t];e;){for(var o=0,i=r.length;o<i;o++)if($(n=Qr.data(e,r[o])))return n;e=e.parentNode||e.nodeType===To&&e.host}}function We(e){for(Re(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function ze(e,t){t||Re(e);var n=e.parentNode;n&&n.removeChild(e)}function Ye(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Qr(n).on("load",t)}function Xe(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function Qe(e,t){var n=jo[t.toLowerCase()];return n&&Uo[L(e)]&&n}function Je(e){return Vo[e]}function Ze(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var o=t[r||n.type],i=o?o.length:0;if(i){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=o.specialHandlerWrapper||et;i>1&&(o=be(o));for(var l=0;l<i;l++)n.isImmediatePropagationStopped()||s(e,n,o[l])}};return n.elem=e,n}function et(e,t,n){n.call(e,t)}function tt(e,t,n){var r=t.relatedTarget;r&&(r===e||Bo.call(e,r))||n.call(e,t)}function nt(){this.$get=function(){return u(Ie,{hasClass:function(e,t){return e.attr&&(e=e[0]),je(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ve(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ue(e,t)}})}}function rt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||a)():r+":"+e}function ot(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function it(e){return Function.prototype.toString.call(e)+" "}function at(e){var t=it(e).replace(Yo,""),n=t.match(qo)||t.match(Go);return n}function st(e){var t=at(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function lt(e,t,n){var o,i,a;if("function"==typeof e){if(!(o=e.$inject)){if(o=[],e.length){if(t)throw E(n)&&n||(n=e.name||st(e)),Xo("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=at(e),r(i[1].split(Wo),function(e){e.replace(zo,function(e,t,n){o.push(n)})})}e.$inject=o}}else uo(e)?(a=e.length-1,de(e[a],"fn"),o=e.slice(0,a)):de(e,"fn",!0);return o}function ut(e,t){function n(e){return function(t,n){return b(t)?void r(t,i(e)):e(t,n)}}function o(e,t){if(pe(e,"service"),(S(t)||uo(t))&&(t=C.instantiate(t)),!t.$get)throw Xo("pget","Provider '{0}' must define $get factory method.",e);return w[e+m]=t}function a(e,t){return function(){var n=O.invoke(t,this);if(v(n))throw Xo("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return o(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return s(e,g(t),!1)}function c(e,t){pe(e,"constant"),w[e]=t,x[e]=t}function f(e,t){var n=C.get(e+m),r=n.$get;n.$get=function(){var e=O.invoke(r,n);return O.invoke(t,null,{$delegate:e})}}function d(e){fe(v(e)||uo(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],o=C.get(r[0]);o[r[1]].apply(o,r[2])}}if(!y.get(e)){y.put(e,!0);try{E(e)?(t=Zr(e),n=n.concat(d(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):S(e)?n.push(C.invoke(e)):uo(e)?n.push(C.invoke(e)):de(e,"module")}catch(o){throw uo(e)&&(e=e[e.length-1]),o.message&&o.stack&&o.stack.indexOf(o.message)===-1&&(o=o.message+"\n"+o.stack),Xo("modulerr","Failed to instantiate module {0} due to:\n{1}",e,o.stack||o.message||o)}}}),n}function p(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===h)throw Xo("cdep","Circular dependency found: {0}",t+" <- "+$.join(" <- "));return e[t]}try{return $.unshift(t),e[t]=h,e[t]=n(t,r),e[t]}catch(o){throw e[t]===h&&delete e[t],o}finally{$.shift()}}function o(e,n,o){for(var i=[],a=ut.$$annotate(e,t,o),s=0,l=a.length;s<l;s++){var u=a[s];if("string"!=typeof u)throw Xo("itkn","Incorrect injection token! Expected service name as string, got {0}",u);i.push(n&&n.hasOwnProperty(u)?n[u]:r(u,o))}return i}function i(e){if(Xr||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return _(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(it(e))),t}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=o(e,n,r);return uo(e)&&(e=e[e.length-1]),i(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=uo(e)?e[e.length-1]:e,i=o(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))}return{invoke:a,instantiate:s,get:r,annotate:ut.$$annotate,has:function(t){return w.hasOwnProperty(t+m)||e.hasOwnProperty(t)}}}t=t===!0;var h={},m="Provider",$=[],y=new ot([],(!0)),w={$provide:{provider:n(o),factory:n(s),service:n(l),value:n(u),constant:n(c),decorator:f}},C=w.$injector=p(w,function(e,t){throw ao.isString(t)&&$.push(t),Xo("unpr","Unknown provider: {0}",$.join(" <- "))}),x={},T=p(x,function(e,t){var n=C.get(e+m,t);return O.invoke(n.$get,n,void 0,e)}),O=T;w["$injector"+m]={$get:g(T)};var A=d(e);return O=T.get("$injector"),O.strictDi=t,r(A,function(e){e&&O.invoke(e)}),O}function ct(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function o(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===L(e))return t=e,!0}),t}function i(){var e=s.yOffset;if(S(e))e=e();else if(F(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=i();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=E(e)?e:w(e)?e.toString():n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=o(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ye(function(){r.$evalAsync(s)})}),s}]}function ft(e,t){return e||t?e?t?(uo(e)&&(e=e.join(" ")),uo(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function dt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Jo)return n}}function pt(e){E(e)&&(e=e.split(" "));var t=me();return r(e,function(e){e.length&&(t[e]=!0)}),t}function ht(e){return b(e)?e:{}}function gt(e,t,n,o){function i(e){try{e.apply(null,V(arguments,1))}finally{if($--,0===$)for(;b.length;)try{b.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function s(){S=null,l(),u()}function l(){y=x(),y=v(y)?null:y,j(y,A)&&(y=A),A=y}function u(){w===c.url()&&E===y||(w=c.url(),E=y,r(T,function(e){e(c.url(),y)}))}var c=this,f=e.location,d=e.history,h=e.setTimeout,g=e.clearTimeout,m={};c.isMock=!1;var $=0,b=[];c.$$completeOutstandingRequest=i,c.$$incOutstandingRequestCount=function(){$++},c.notifyWhenNoOutstandingRequests=function(e){0===$?e():b.push(e)};var y,E,w=f.href,C=t.find("base"),S=null,x=o.history?function(){try{return d.state}catch(e){}}:p;l(),E=y,c.url=function(t,n,r){if(v(r)&&(r=null),f!==e.location&&(f=e.location),d!==e.history&&(d=e.history),t){var i=E===r;if(w===t&&(!o.history||i))return c;var s=w&&Xt(w)===Xt(t);return w=t,E=r,!o.history||s&&i?(s||(S=t),n?f.replace(t):s?f.hash=a(t):f.href=t,f.href!==t&&(S=t)):(d[n?"replaceState":"pushState"](r,"",t),l(),E=y),S&&(S=t),c}return S||f.href.replace(/%27/g,"'")},c.state=function(){return y};var T=[],O=!1,A=null;c.onUrlChange=function(t){return O||(o.history&&Qr(e).on("popstate",s),Qr(e).on("hashchange",s),O=!0),T.push(t),t},c.$$applicationDestroyed=function(){Qr(e).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var e=C.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return $++,n=h(function(){delete m[n],i(e)},t||0),m[n]=!0,n},c.defer.cancel=function(e){return!!m[e]&&(delete m[e],g(e),i(p),!0)}}function mt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new gt(e,r,t,n)}]}function vt(){this.$get=function(){function e(e,r){function o(e){e!==d&&(p?p===e&&(p=e.n):p=e,i(e.n,e.p),i(e,d),d=e,d.n=null)}function i(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=u({},r,{id:e}),l=me(),c=r&&r.capacity||Number.MAX_VALUE,f=me(),d=null,p=null;return n[e]={put:function(e,t){if(!v(t)){if(c<Number.MAX_VALUE){var n=f[e]||(f[e]={key:e});o(n)}return e in l||a++,l[e]=t,a>c&&this.remove(p.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=f[e];if(!t)return;o(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=f[e];if(!t)return;t===d&&(d=t.p),t===p&&(p=t.n),i(t.n,t.p),delete f[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=me(),a=0,f=me(),d=p=null},destroy:function(){l=null,s=null,f=null,delete n[e]},info:function(){return u({},s,{size:a})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function $t(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function bt(){}function yt(t,n){function o(e,t,n){var o=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,i=me();return r(e,function(e,r){if(e in A)return void(i[r]=A[e]);var a=e.match(o);if(!a)throw ai("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");i[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(A[e]=i[r])}),i}function a(e,t){var n={isolateScope:null,bindToController:null};if(b(e.scope)&&(e.bindToController===!0?(n.bindToController=o(e.scope,t,!0),n.isolateScope={}):n.isolateScope=o(e.scope,t,!1)),b(e.bindToController)&&(n.bindToController=o(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw ai("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function s(e){var t=e.charAt(0);if(!t||t!==Gr(t))throw ai("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw ai("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!uo(t)&&b(t)&&r(t,function(e,n){var r=e.match(x),o=e.substring(r[0].length);o||(t[n]=r[0]+n)}),t}function c(e,t){if(e&&(!E(e)||!/[EACM]/.test(e)))throw ai("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var f={},m="Directive",y=/^\s*directive:\s*([\w-]+)\s+(.*)$/,w=/(([\w-]+)(?::([^;]+))?;?)/,C=R("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,T=/^(on[a-z]+|formaction)$/,A=me();this.directive=function F(e,n){return fe(e,"name"),pe(e,"directive"),E(e)?(s(e),fe(n,"directiveFactory"),f.hasOwnProperty(e)||(f[e]=[],t.factory(e+m,["$injector","$exceptionHandler",function(t,n){var o=[];return r(f[e],function(r,i){try{var a=t.invoke(r);S(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=i,a.name=a.name||e,a.require=l(a),a.restrict=c(a.restrict,e),a.$$moduleName=r.$$moduleName,o.push(a)}catch(s){n(s)}}),o}])),f[e].push(n)):r(e,i(F)),this},this.component=function(e,t){function n(e){function n(t){return S(t)||uo(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=t.template||t.templateUrl?t.template:"",a={controller:o,controllerAs:xt(t.controller)||t.controllerAs||"$ctrl",template:n(i),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var o=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,S(o)&&(o[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return $(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var N=!0;this.debugInfoEnabled=function(e){return $(e)?(N=e,this):N};var k=!1;this.preAssignBindingsEnabled=function(e){return $(e)?(k=e,this):k};var M=10;this.onChangesTtl=function(e){return arguments.length?(M=e,this):M};var D=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(D=e,this):D};var I=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(I=e,this):I},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,o,i,s,l,c,g,A,F){function R(){try{if(!--Ne)throw Ce=void 0,ai("infchng","{0} $onChanges() iterations reached. Aborting!\n",M);c.$apply(function(){for(var e=[],t=0,n=Ce.length;t<n;++t)try{Ce[t]()}catch(r){e.push(r)}if(Ce=void 0,e.length)throw e})}finally{Ne++}}function P(e,t){if(t){var n,r,o,i=Object.keys(t);for(n=0,r=i.length;n<r;n++)o=i[n],this[o]=t[o]}else this.$attr={};this.$$element=e}function H(e,t,n){xe.innerHTML="<span "+t+">";var r=xe.firstChild.attributes,o=r[0];r.removeNamedItem(o.name),o.value=n,e.attributes.setNamedItem(o)}function U(e,t){try{e.addClass(t)}catch(n){}}function q(e,t,n,r,o){e instanceof Qr||(e=Qr(e));var i=W(e,t,e,n,r,o);q.$$addScopeClass(e);var a=null;return function(t,n,r){if(!e)throw ai("multilink","This element has already been linked.");fe(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,l=r.transcludeControllers,u=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=G(u));var c;if(c="html"!==a?Qr(ge(a,Qr("<div>").append(e).html())):n?Ho.clone.call(e):e,l)for(var f in l)c.data("$"+f+"Controller",l[f].instance);return q.$$addScopeInfo(c,t),n&&n(c,t),i&&i(t,c,c,s),n||(e=i=null),c}}function G(e){var t=e&&e[0];return t&&"foreignobject"!==L(t)&&ro.call(t).match(/SVG/)?"svg":"html"}function W(e,t,n,r,o,i){function a(e,n,r,o){var i,a,s,l,u,c,f,d,g;if(p){var m=n.length;for(g=new Array(m),u=0;u<h.length;u+=3)f=h[u],g[f]=n[f]}else g=n;for(u=0,c=h.length;u<c;)s=g[h[u++]],i=h[u++],a=h[u++],i?(i.scope?(l=e.$new(),q.$$addScopeInfo(Qr(s),l)):l=e,
d=i.transcludeOnThisElement?Y(e,i.transclude,o):!i.templateOnThisElement&&o?o:!o&&t?Y(e,t):null,i(a,l,s,r,d)):a&&a(e,s.childNodes,void 0,o)}for(var s,l,u,c,f,d,p,h=[],g=uo(e)||e instanceof Qr,m=0;m<e.length;m++)s=new P,11===Xr&&z(e,m,g),l=X(e[m],[],s,0===m?r:void 0,o),u=l.length?ne(l,e[m],s,t,n,null,[],[],i):null,u&&u.scope&&q.$$addScopeClass(s.$$element),f=u&&u.terminal||!(c=e[m].childNodes)||!c.length?null:W(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||f)&&(h.push(m,u,f),d=!0,p=p||u),i=null;return d?a:null}function z(e,t,n){var r,o=e[t],i=o.parentNode;if(o.nodeType===Co)for(;;){if(r=i?o.nextSibling:e[t+1],!r||r.nodeType!==Co)break;o.nodeValue=o.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}}function Y(e,t,n){function r(r,o,i,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,o,{parentBoundTranscludeFn:n,transcludeControllers:i,futureParentElement:a})}var o=r.$$slots=me();for(var i in t.$$slots)t.$$slots[i]?o[i]=Y(e,t.$$slots[i],n):o[i]=null;return r}function X(e,t,n,r,o){var i,a,s,l=e.nodeType,u=n.$attr;switch(l){case Eo:a=L(e),ae(t,wt(a),"E",r,o);for(var c,f,d,p,h,g,m=e.attributes,v=0,$=m&&m.length;v<$;v++){var y=!1,C=!1;c=m[v],f=c.name,h=c.value,p=wt(f),g=De.test(p),g&&(f=f.replace(li,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=p.match(Ie);S&&se(S[1])&&(y=f,C=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),d=wt(f.toLowerCase()),u[d]=f,!g&&n.hasOwnProperty(d)||(n[d]=h,Qe(e,d)&&(n[d]=!0)),$e(e,t,h,d,g),ae(t,d,"A",r,o,y,C)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Ae)break;if(s=e.className,b(s)&&(s=s.animVal),E(s)&&""!==s)for(;i=w.exec(s);)d=wt(i[2]),ae(t,d,"C",r,o)&&(n[d]=fo(i[3])),s=s.substr(i.index+i[0].length);break;case Co:he(t,e.nodeValue);break;case So:if(!Te)break;J(e,t,n,r,o)}return t.sort(de),t}function J(e,t,n,r,o){try{var i=y.exec(e.nodeValue);if(i){var a=wt(i[1]);ae(t,a,"M",r,o)&&(n[a]=fo(i[2]))}}catch(s){}}function Z(e,t,n){var r=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw ai("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===Eo&&(e.hasAttribute(t)&&o++,e.hasAttribute(n)&&o--),r.push(e),e=e.nextSibling}while(o>0)}else r.push(e);return Qr(r)}function ee(e,t,n){return function(r,o,i,a,s){return o=Z(o[0],t,n),e(r,o,i,a,s)}}function te(e,t,n,r,o,i){var a;return e?q(t,n,r,o,i):function(){return a||(a=q(t,n,r,o,i),t=n=i=null),a.apply(this,arguments)}}function ne(e,t,n,i,a,s,l,c,f){function d(e,t,n,r){e&&(n&&(e=ee(e,n,r)),e.require=h.require,e.directiveName=g,(x===h||h.$$isolateScope)&&(e=ye(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=ee(t,n,r)),t.require=h.require,t.directiveName=g,(x===h||h.$$isolateScope)&&(t=ye(t,{isolateScope:!0})),c.push(t))}function p(e,i,a,s,f){function d(e,t,n,r){var o;if(O(e)||(r=n,n=t,t=e,e=void 0),M&&(o=y),n||(n=M?A.parent():A),!r)return f(e,t,o,n,B);var i=f.$$slots[r];if(i)return i(e,t,o,n,B);if(v(i))throw ai("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,Q(A))}var p,h,g,m,$,y,E,A,N,_;t===a?(N=n,A=n.$$element):(A=Qr(a),N=new P(A,n)),$=i,x?m=i.$new(!0):w&&($=i.$parent),f&&(E=d,E.$$boundTransclude=f,E.isSlotFilled=function(e){return!!f.$$slots[e]}),C&&(y=oe(A,N,E,C,m,i,x)),x&&(q.$$addScopeInfo(A,m,!0,!(T&&(T===x||T===x.$$originalDirective))),q.$$addScopeClass(A,!0),m.$$isolateBindings=x.$$isolateBindings,_=we(i,N,m,m.$$isolateBindings,x),_.removeWatches&&m.$on("$destroy",_.removeWatches));for(var D in y){var I=C[D],F=y[D],R=I.$$bindings.bindToController;if(k){R?F.bindingInfo=we($,N,F.instance,R,I):F.bindingInfo={};var L=F();L!==F.instance&&(F.instance=L,A.data("$"+I.name+"Controller",L),F.bindingInfo.removeWatches&&F.bindingInfo.removeWatches(),F.bindingInfo=we($,N,F.instance,R,I))}else F.instance=F(),A.data("$"+I.name+"Controller",F.instance),F.bindingInfo=we($,N,F.instance,R,I)}for(r(C,function(e,t){var n=e.require;e.bindToController&&!uo(n)&&b(n)&&u(y[t].instance,re(t,n,A,y))}),r(y,function(e){var t=e.instance;if(S(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){o(n)}if(S(t.$onInit))try{t.$onInit()}catch(n){o(n)}S(t.$doCheck)&&($.$watch(function(){t.$doCheck()}),t.$doCheck()),S(t.$onDestroy)&&$.$on("$destroy",function(){t.$onDestroy()})}),p=0,h=l.length;p<h;p++)g=l[p],Ee(g,g.isolateScope?m:i,A,N,g.require&&re(g.directiveName,g.require,A,y),E);var B=i;for(x&&(x.template||null===x.templateUrl)&&(B=m),e&&e(B,a.childNodes,void 0,f),p=c.length-1;p>=0;p--)g=c[p],Ee(g,g.isolateScope?m:i,A,N,g.require&&re(g.directiveName,g.require,A,y),E);r(y,function(e){var t=e.instance;S(t.$postLink)&&t.$postLink()})}f=f||{};for(var h,g,m,$,y,E=-Number.MAX_VALUE,w=f.newScopeDirective,C=f.controllerDirectives,x=f.newIsolateScopeDirective,T=f.templateDirective,A=f.nonTlbTranscludeDirective,N=!1,_=!1,M=f.hasElementTranscludeDirective,D=n.$$element=Qr(t),I=s,F=i,R=!1,B=!1,H=0,j=e.length;H<j;H++){h=e[H];var U=h.$$start,G=h.$$end;if(U&&(D=Z(t,U,G)),m=void 0,E>h.priority)break;if(y=h.scope,y&&(h.templateUrl||(b(y)?(pe("new/isolated scope",x||w,h,D),x=h):pe("new/isolated scope",x,h,D)),w=w||h),g=h.name,!R&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var W,z=H+1;W=e[z++];)if(W.transclude&&!W.$$tlb||W.replace&&(W.templateUrl||W.template)){B=!0;break}R=!0}if(!h.templateUrl&&h.controller&&(C=C||me(),pe("'"+g+"' controller",C[g],h,D),C[g]=h),y=h.transclude)if(N=!0,h.$$tlb||(pe("transclusion",A,h,D),A=h),"element"===y)M=!0,E=h.priority,m=D,D=n.$$element=Qr(q.$$createComment(g,n[g])),t=D[0],be(a,V(m),t),m[0].$$parentNode=m[0].parentNode,F=te(B,m,i,E,I&&I.name,{nonTlbTranscludeDirective:A});else{var Y=me();if(b(y)){m=[];var J=me(),ne=me();r(y,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,J[e]=t,Y[t]=null,ne[t]=n}),r(D.contents(),function(e){var t=J[wt(L(e))];t?(ne[t]=!0,Y[t]=Y[t]||[],Y[t].push(e)):m.push(e)}),r(ne,function(e,t){if(!e)throw ai("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var ae in Y)Y[ae]&&(Y[ae]=te(B,Y[ae],i))}else m=Qr(Fe(t)).contents();D.empty(),F=te(B,m,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),F.$$slots=Y}if(h.template)if(_=!0,pe("template",T,h,D),T=h,y=S(h.template)?h.template(D,n):h.template,y=Me(y),h.replace){if(I=h,m=Oe(y)?[]:St(ge(h.templateNamespace,fo(y))),t=m[0],1!==m.length||t.nodeType!==Eo)throw ai("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");be(a,D,t);var se={$attr:{}},ue=X(t,[],se),fe=e.splice(H+1,e.length-(H+1));(x||w)&&ie(ue,x,w),e=e.concat(ue).concat(fe),le(n,se),j=e.length}else D.html(y);if(h.templateUrl)_=!0,pe("template",T,h,D),T=h,h.replace&&(I=h),p=ce(e.splice(H,e.length-H),D,n,a,N&&F,l,c,{controllerDirectives:C,newScopeDirective:w!==h&&w,newIsolateScopeDirective:x,templateDirective:T,nonTlbTranscludeDirective:A}),j=e.length;else if(h.compile)try{$=h.compile(D,n,F);var de=h.$$originalDirective||h;S($)?d(null,K(de,$),U,G):$&&d(K(de,$.pre),K(de,$.post),U,G)}catch(he){o(he,Q(D))}h.terminal&&(p.terminal=!0,E=Math.max(E,h.priority))}return p.scope=w&&w.scope===!0,p.transcludeOnThisElement=N,p.templateOnThisElement=_,p.transclude=F,f.hasElementTranscludeDirective=M,p}function re(e,t,n,o){var i;if(E(t)){var a=t.match(x),s=t.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(i=o&&o[s],i=i&&i.instance),!i){var c="$"+s+"Controller";i=l?n.inheritedData(c):n.data(c)}if(!i&&!u)throw ai("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(uo(t)){i=[];for(var f=0,d=t.length;f<d;f++)i[f]=re(e,t[f],n,o)}else b(t)&&(i={},r(t,function(t,r){i[r]=re(e,t,n,o)}));return i||null}function oe(e,t,n,r,o,i,a){var s=me();for(var u in r){var c=r[u],f={$scope:c===a||c.$$isolateScope?o:i,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]);var p=l(d,f,!0,c.controllerAs);s[c.name]=p,e.data("$"+c.name+"Controller",p.instance)}return s}function ie(e,t,n){for(var r=0,o=e.length;r<o;r++)e[r]=d(e[r],{$$isolateScope:t,$$newScope:n})}function ae(e,n,r,o,i,s,l){if(n===i)return null;var u=null;if(f.hasOwnProperty(n))for(var c,p=t.get(n+m),h=0,g=p.length;h<g;h++)if(c=p[h],(v(o)||o>c.priority)&&c.restrict.indexOf(r)!==-1){if(s&&(c=d(c,{$$start:s,$$end:l})),!c.$$bindings){var $=c.$$bindings=a(c,c.name);b($.isolateScope)&&(c.$$isolateBindings=$.isolateScope)}e.push(c),u=c}return u}function se(e){if(f.hasOwnProperty(e))for(var n,r=t.get(e+m),o=0,i=r.length;o<i;o++)if(n=r[o],n.multiElement)return!0;return!1}function le(e,t){var n=t.$attr,o=e.$attr;r(e,function(r,o){"$"!==o.charAt(0)&&(t[o]&&t[o]!==r&&(r.length?r+=("style"===o?";":" ")+t[o]:r=t[o]),e.$set(o,r,!0,n[o]))}),r(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(o[r]=n[r]))})}function ce(e,t,n,a,s,l,u,c){var f,h,g=[],m=t[0],v=e.shift(),$=d(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),y=S(v.templateUrl)?v.templateUrl(t,n):v.templateUrl,E=v.templateNamespace;return t.empty(),i(y).then(function(o){var i,d,p,w;if(o=Me(o),v.replace){if(p=Oe(o)?[]:St(ge(E,fo(o))),i=p[0],1!==p.length||i.nodeType!==Eo)throw ai("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,y);d={$attr:{}},be(a,t,i);var C=X(i,[],d);b(v.scope)&&ie(C,!0),e=C.concat(e),le(n,d)}else i=m,t.html(o);for(e.unshift($),f=ne(e,i,n,s,t,v,l,u,c),r(a,function(e,n){e===i&&(a[n]=t[0])}),h=W(t[0].childNodes,s);g.length;){var S=g.shift(),x=g.shift(),T=g.shift(),O=g.shift(),A=t[0];if(!S.$$destroyed){if(x!==m){var N=x.className;c.hasElementTranscludeDirective&&v.replace||(A=Fe(i)),be(T,Qr(x),A),U(Qr(A),N)}w=f.transcludeOnThisElement?Y(S,f.transclude,O):O,f(h,S,A,a,w)}}g=null})["catch"](function(e){e instanceof Error&&o(e)})["catch"](p),function(e,t,n,r,o){var i=o;t.$$destroyed||(g?g.push(t,n,r,i):(f.transcludeOnThisElement&&(i=Y(t,f.transclude,o)),f(h,t,n,r,i)))}}function de(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function pe(e,t,n,r){function o(e){return e?" (module: "+e+")":""}if(t)throw ai("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,o(t.$$moduleName),n.name,o(n.$$moduleName),e,Q(r))}function he(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&q.$$addBindingClass(t),function(e,t){var o=t.parent();n||q.$$addBindingClass(o),q.$$addBindingInfo(o,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function ge(t,n){switch(t=Gr(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function ve(e,t){if("srcdoc"===t)return g.HTML;var n=L(e);if("src"===t||"ngSrc"===t){if(["img","video","audio","source","track"].indexOf(n)===-1)return g.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return g.RESOURCE_URL}function $e(e,t,r,o,i){var a=ve(e,o),s=!i,l=C[o]||i,u=n(r,s,a,l);if(u){if("multiple"===o&&"select"===L(e))throw ai("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Q(e));if(T.test(o))throw ai("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,i){var s=i.$$observers||(i.$$observers=me()),c=i[o];c!==r&&(u=c&&n(c,!0,a,l),r=c),u&&(i[o]=u(e),(s[o]||(s[o]=[])).$$inter=!0,(i.$$observers&&i.$$observers[o].$$scope||e).$watch(u,function(e,t){"class"===o&&e!==t?i.$updateClass(e,t):i.$set(o,e)}))}}}})}}function be(t,n,r){var o,i,a=n[0],s=n.length,l=a.parentNode;if(t)for(o=0,i=t.length;o<i;o++)if(t[o]===a){t[o++]=r;for(var u=o,c=u+s-1,f=t.length;u<f;u++,c++)c<f?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var d=e.document.createDocumentFragment();for(o=0;o<s;o++)d.appendChild(n[o]);for(Qr.hasData(a)&&(Qr.data(r,Qr.data(a)),Qr(a).off("$destroy")),Qr.cleanData(d.querySelectorAll("*")),o=1;o<s;o++)delete n[o];n[0]=r,n.length=1}function ye(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function Ee(e,t,n,r,i,a){try{e(t,n,r,i,a)}catch(s){o(s,Q(n))}}function we(e,t,o,i,a){function l(t,n,r){!S(o.$onChanges)||n===r||n!==n&&r!==r||(Ce||(e.$$postDigest(R),Ce=[]),c||(c={},Ce.push(u)),c[t]&&(r=c[t].previousValue),c[t]=new Et(r,n))}function u(){o.$onChanges(c),c=void 0}var c,f=[],d={};return r(i,function(r,i){var u,c,h,g,m,v=r.attrName,$=r.optional,b=r.mode;switch(b){case"@":$||qr.call(t,v)||(o[i]=t[v]=void 0),m=t.$observe(v,function(e){if(E(e)||_(e)){var t=o[i];l(i,e,t),o[i]=e}}),t.$$observers[v].$$scope=e,u=t[v],E(u)?o[i]=n(u)(e):_(u)&&(o[i]=u),d[i]=new Et(si,o[i]),f.push(m);break;case"=":if(!qr.call(t,v)){if($)break;t[v]=void 0}if($&&!t[v])break;c=s(t[v]),g=c.literal?j:function(e,t){return e===t||e!==e&&t!==t},h=c.assign||function(){throw u=o[i]=c(e),ai("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},u=o[i]=c(e);var y=function(t){return g(t,o[i])||(g(t,u)?h(e,t=o[i]):o[i]=t),u=t};y.$stateful=!0,m=r.collection?e.$watchCollection(t[v],y):e.$watch(s(t[v],y),null,c.literal),f.push(m);break;case"<":if(!qr.call(t,v)){if($)break;t[v]=void 0}if($&&!t[v])break;c=s(t[v]);var w=c.literal,C=o[i]=c(e);d[i]=new Et(si,o[i]),m=e.$watch(c,function(e,t){if(t===e){if(t===C||w&&j(t,C))return;t=C}l(i,e,t),o[i]=e},w),f.push(m);break;case"&":if(c=t.hasOwnProperty(v)?s(t[v]):p,c===p&&$)break;o[i]=function(t){return c(e,t)}}}),{initialChanges:d,removeWatches:f.length&&function(){for(var e=0,t=f.length;e<t;++e)f[e]()}}}var Ce,Se=/^\w/,xe=e.document.createElement("div"),Te=D,Ae=I,Ne=M;P.prototype={$normalize:wt,$addClass:function(e){e&&e.length>0&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ct(e,t);n&&n.length&&A.addClass(this.$$element,n);var r=Ct(t,e);r&&r.length&&A.removeClass(this.$$element,r)},$set:function(e,t,n,i){var a,s=this.$$element[0],l=Qe(s,e),u=Je(e),c=e;if(l?(this.$$element.prop(e,t),i=l):u&&(this[u]=t,c=u),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=ue(e,"-"))),a=L(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=F(t,"src"===e);else if("img"===a&&"srcset"===e&&$(t)){for(var f="",d=fo(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(d)?p:/(,)/,g=d.split(h),m=Math.floor(g.length/2),b=0;b<m;b++){var y=2*b;f+=F(fo(g[y]),!0),f+=" "+fo(g[y+1])}var E=fo(g[2*b]).split(/\s/);f+=F(fo(E[0]),!0),2===E.length&&(f+=" "+fo(E[1])),this[e]=t=f}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(i):Se.test(i)?this.$$element.attr(i,t):H(this.$$element[0],i,t));var w=this.$$observers;w&&r(w[c],function(e){try{e(t)}catch(n){o(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=me()),o=r[e]||(r[e]=[]);return o.push(t),c.$evalAsync(function(){o.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){B(o,t)}}};var ke=n.startSymbol(),_e=n.endSymbol(),Me="{{"===ke&&"}}"===_e?h:function(e){return e.replace(/\{\{/g,ke).replace(/}}/g,_e)},De=/^ngAttr[A-Z]/,Ie=/^(.+)Start$/;return q.$$addBindingInfo=N?function(e,t){var n=e.data("$binding")||[];uo(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,q.$$addBindingClass=N?function(e){U(e,"ng-binding")}:p,q.$$addScopeInfo=N?function(e,t,n,r){var o=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(o,t)}:p,q.$$addScopeClass=N?function(e,t){U(e,t?"ng-isolate-scope":"ng-scope")}:p,q.$$createComment=function(t,n){var r="";return N&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},q}]}function Et(e,t){this.previousValue=e,this.currentValue=t}function wt(e){return e.replace(li,"").replace(ui,xe)}function Ct(e,t){var n="",r=e.split(/\s+/),o=t.split(/\s+/);e:for(var i=0;i<r.length;i++){for(var a=r[i],s=0;s<o.length;s++)if(a===o[s])continue e;n+=(n.length>0?" ":"")+a}return n}function St(e){e=Qr(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===So||n.nodeType===Co&&""===n.nodeValue.trim())&&to.call(e,t,1)}return e}function xt(e,t){if(t&&E(t))return t;if(E(e)){var n=fi.exec(e);if(n)return n[3]}}function Tt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pe(t,"controller"),b(t)?u(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,o){function i(e,n,r,o){if(!e||!b(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,n);e.$scope[n]=r}return function(t,a,s,l){var c,f,d,p;if(s=s===!0,l&&E(l)&&(p=l),E(t)){if(f=t.match(fi),!f)throw ci("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(d=f[1],p=p||f[3],t=e.hasOwnProperty(d)?e[d]:he(a.$scope,d,!0)||(n?he(o,d,!0):void 0),!t)throw ci("ctrlreg","The controller with the name '{0}' is not registered.",d);de(t,d,!0)}if(s){var h=(uo(t)?t[t.length-1]:t).prototype;return c=Object.create(h||null),p&&i(a,p,c,d||t.name),u(function(){var e=r.invoke(t,c,a,d);return e!==c&&(b(e)||S(e))&&(c=e,p&&i(a,p,c,d||t.name)),c},{instance:c,identifier:p})}return c=r.instantiate(t,a,d),p&&i(a,p,c,d||t.name),c}}]}function Ot(){this.$get=["$window",function(e){return Qr(e.document)}]}function At(){this.$get=["$document","$rootScope",function(e,t){function n(){o=r.hidden}var r=e[0],o=r&&r.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return o}}]}function Nt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function kt(e){return b(e)?C(e)?e.toISOString():G(e):e}function _t(){this.$get=function(){return function(e){if(!e)return"";var t=[];return o(e,function(e,n){null===e||v(e)||(uo(e)?r(e,function(e){t.push(ne(n)+"="+ne(kt(e)))}):t.push(ne(n)+"="+ne(kt(e))))}),t.join("&")}}}function Mt(){this.$get=function(){return function(e){function t(e,i,a){null===e||v(e)||(uo(e)?r(e,function(e,n){t(e,i+"["+(b(e)?n:"")+"]")}):b(e)&&!C(e)?o(e,function(e,n){t(e,i+(a?"":"[")+n+(a?"":"]"))}):n.push(ne(i)+"="+ne(kt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Dt(e,t){if(E(e)){var n=e.replace(vi,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(pi)||It(n))&&(e=W(n))}}return e}function It(e){var t=e.match(gi);return t&&mi[t[0]].test(e)}function Ft(e){function t(e,t){e&&(o[e]=o[e]?o[e]+", "+t:t)}var n,o=me();return E(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(Gr(fo(e.substr(0,n))),fo(e.substr(n+1)))}):b(e)&&r(e,function(e,n){t(Gr(n),fo(e))}),o}function Rt(e){var t;return function(n){if(t||(t=Ft(e)),n){var r=t[Gr(n)];return void 0===r&&(r=null),r}return t}}function Lt(e,t,n,o){return S(o)?o(e,t,n):(r(o,function(r){e=r(e,t,n)}),e)}function Pt(e){return 200<=e&&e<300}function Bt(){var e=this.defaults={transformResponse:[Dt],transformRequest:[function(e){return!b(e)||A(e)||k(e)||N(e)?e:G(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:be(hi),put:be(hi),patch:be(hi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(e){return $(e)?(n=!!e,this):n};var o=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,l,c,f,d,h){function g(n){function o(e,t){for(var n=0,r=t.length;n<r;){var o=t[n++],i=t[n++];e=e.then(o,i)}return t.length=0,e}function a(){i.$$completeOutstandingRequest(p)}function s(e,t){var n,o={};return r(e,function(e,r){S(e)?(n=e(t),null!=n&&(o[r]=n)):o[r]=e}),o}function l(t){var n,r,o,i=e.headers,a=u({},t.headers);i=u({},i.common,i[Gr(t.method)]);e:for(n in i){r=Gr(n);for(o in a)if(Gr(o)===r)continue e;a[n]=i[n]}return s(a,be(t))}function c(t){var n=t.headers,o=Lt(t.data,Rt(n),void 0,t.transformRequest);return v(o)&&r(n,function(e,t){"content-type"===Gr(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),w(t,o).then(g,g)}function g(e){var t=u({},e);return t.data=Lt(e.data,e.headers,e.status,m.transformResponse),Pt(e.status)?t:f.reject(t)}if(!b(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!E(h.valueOf(n.url)))throw t("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var m=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);m.headers=l(n),m.method=Wr(m.method),m.paramSerializer=E(m.paramSerializer)?d.get(m.paramSerializer):m.paramSerializer,i.$$incOutstandingRequestCount();var $=[],y=[],C=f.resolve(m);return r(O,function(e){(e.request||e.requestError)&&$.unshift(e.request,e.requestError),(e.response||e.responseError)&&y.push(e.response,e.responseError)}),C=o(C,$),C=C.then(c),C=o(C,y),C=C["finally"](a)}function m(e){r(arguments,function(e){g[e]=function(t,n){return g(u({},n||{},{method:e,url:t}))}})}function y(e){r(arguments,function(e){g[e]=function(t,n,r){return g(u({},r||{},{method:e,url:t,data:n}))}})}function w(t,o){function i(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),t}}function l(e,t,r,o){function i(){u(t,e,r,o)}m&&(Pt(e)?m.put(N,[e,t,Ft(r),o]):m.remove(N)),n?c.$applyAsync(i):(i(),c.$$phase||c.$apply())}function u(e,n,r,o){n=n>=-1?n:0,(Pt(n)?w.resolve:w.reject)({data:e,status:n,headers:Rt(r),config:t,statusText:o})}function d(e){u(e.data,e.status,be(e.headers()),e.statusText)}function p(){var e=g.pendingRequests.indexOf(t);e!==-1&&g.pendingRequests.splice(e,1)}var m,y,w=f.defer(),S=w.promise,O=t.headers,A="jsonp"===Gr(t.method),N=t.url;if(A?N=h.getTrustedResourceUrl(N):E(N)||(N=h.valueOf(N)),N=C(N,t.paramSerializer(t.params)),A&&(N=x(N,t.jsonpCallbackParam)),g.pendingRequests.push(t),S.then(p,p),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(m=b(t.cache)?t.cache:b(e.cache)?e.cache:T),m&&(y=m.get(N),$(y)?M(y)?y.then(d,d):uo(y)?u(y[1],y[0],be(y[2]),y[3]):u(y,200,{},"OK"):m.put(N,S)),v(y)){var k=Pn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;k&&(O[t.xsrfHeaderName||e.xsrfHeaderName]=k),a(t.method,N,o,l,O,t.timeout,t.withCredentials,t.responseType,i(t.eventHandlers),i(t.uploadEventHandlers))}return S}function C(e,t){return t.length>0&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}function x(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw $i("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);var n=new RegExp("[&?]"+t+"=");if(n.test(e))throw $i("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(e.indexOf("?")===-1?"?":"&")+t+"=JSON_CALLBACK"}var T=l("$http");e.paramSerializer=E(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var O=[];return r(o,function(e){O.unshift(E(e)?d.get(e):d.invoke(e))}),g.pendingRequests=[],m("get","delete","head","jsonp"),y("post","put","patch"),g.defaults=e,g}]}function Ht(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function jt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return Ut(e,r,e.defer,t,n[0])}]}function Ut(e,t,n,o,i){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var r=i.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){r.removeEventListener("load",a),r.removeEventListener("error",a),i.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||o.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},r.addEventListener("load",a),r.addEventListener("error",a),i.body.appendChild(r),a}return function(i,s,l,u,c,f,d,p,h,g){function m(){E&&E(),w&&w.abort()}function b(e,t,r,o,i){$(x)&&n.cancel(x),E=w=null,e(t,r,o,i)}if(s=s||e.url(),"jsonp"===Gr(i))var y=o.createCallback(s),E=a(s,y,function(e,t){var n=200===e&&o.getResponse(y);b(u,e,n,"",t),o.removeCallback(y)});else{var w=t(i,s);w.open(i,s,!0),r(c,function(e,t){$(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"===Ln(s).protocol?404:0),b(u,n,t,w.getAllResponseHeaders(),e)};var C=function(){b(u,-1,null,null,"")};if(w.onerror=C,w.onabort=C,w.ontimeout=C,r(h,function(e,t){w.addEventListener(t,e)}),r(g,function(e,t){w.upload.addEventListener(t,e)}),d&&(w.withCredentials=!0),p)try{w.responseType=p}catch(S){if("json"!==p)throw S}w.send(v(l)?null:l)}if(f>0)var x=n(m,f);else M(f)&&f.then(m)}}function Vt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,o){function i(e){return"\\\\\\"+e}function a(n){return n.replace(d,e).replace(p,t)}function s(e,t,n,r){var o=e.$watch(function(e){return o(),r(e)},t,n);return o}function l(i,l,d,p){function h(e){try{return e=_(e),p&&!$(e)?e:ve(e)}catch(t){r(bi.interr(i,t))}}if(!i.length||i.indexOf(e)===-1){var m;if(!l){var b=a(i);m=g(b),m.exp=i,m.expressions=[],m.$$watchDelegate=s}return m}p=!!p;for(var y,E,w,C=0,x=[],T=[],O=i.length,A=[],N=[];C<O;){if((y=i.indexOf(e,C))===-1||(E=i.indexOf(t,y+c))===-1){C!==O&&A.push(a(i.substring(C)));break}C!==y&&A.push(a(i.substring(C,y))),w=i.substring(y+c,E),x.push(w),T.push(n(w,h)),C=E+f,N.push(A.length),A.push("")}if(d&&A.length>1&&bi.throwNoconcat(i),!l||x.length){var k=function(e){for(var t=0,n=x.length;t<n;t++){if(p&&v(e[t]))return;A[N[t]]=e[t]}return A.join("")},_=function(e){return d?o.getTrusted(d,e):o.valueOf(e)};return u(function(e){var t=0,n=x.length,o=new Array(n);try{for(;t<n;t++)o[t]=T[t](e);return k(o)}catch(a){r(bi.interr(i,a))}},{exp:i,expressions:x,$$watchDelegate:function(e,t){var n;return e.$watchGroup(T,function(r,o){var i=k(r);S(t)&&t.call(this,i,r!==o?n:i,e),n=i})}})}}var c=e.length,f=t.length,d=new RegExp(e.replace(/./g,i),"g"),p=new RegExp(t.replace(/./g,i),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Kt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,o){function i(i,s,l,u){function c(){f?i.apply(null,d):i(g)}var f=arguments.length>4,d=f?V(arguments,4):[],p=t.setInterval,h=t.clearInterval,g=0,m=$(u)&&!u,v=(m?r:n).defer(),b=v.promise;return l=$(l)?l:0,b.$$intervalId=p(function(){m?o.defer(c):e.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),h(b.$$intervalId),delete a[b.$$intervalId]),m||e.$apply()},s),a[b.$$intervalId]=v,b}var a={};return i.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(a[e.$$intervalId].promise["catch"](p),a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},i}]}function qt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=te(t[n]);return t.join("/")}function Gt(e,t){var n=Ln(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||wi[n.protocol]||null}function Wt(e,t){if(Si.test(e))throw Ci("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Ln(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Z(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function zt(e,t){return e.slice(0,t.length)===t}function Yt(e,t){if(zt(t,e))return t.substr(e.length)}function Xt(e){var t=e.indexOf("#");return t===-1?e:e.substr(0,t)}function Qt(e){return e.replace(/(#.+)|#$/,"$1")}function Jt(e){return e.substr(0,Xt(e).lastIndexOf("/")+1)}function Zt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function en(e,t,n){this.$$html5=!0,n=n||"",Gt(e,this),this.$$parse=function(e){var n=Yt(t,e);if(!E(n))throw Ci("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Wt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ee(this.$$search),n=this.$$hash?"#"+te(this.$$hash):"";this.$$url=qt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var i,a,s;return $(i=Yt(e,r))?(a=i,s=n&&$(i=Yt(n,i))?t+(Yt("/",i)||i):e+a):$(i=Yt(t,r))?s=t+i:t===r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function tn(e,t,n){Gt(e,this),this.$$parse=function(r){function o(e,t,n){var r,o=/^\/[A-Z]:(\/.*)/;return zt(t,n)&&(t=t.replace(n,"")),o.exec(t)?e:(r=o.exec(e),r?r[1]:e)}var i,a=Yt(e,r)||Yt(t,r);v(a)||"#"!==a.charAt(0)?this.$$html5?i=a:(i="",v(a)&&(e=r,this.replace())):(i=Yt(n,a),v(i)&&(i=a)),Wt(i,this),this.$$path=o(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=qt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Xt(e)===Xt(t)&&(this.$$parse(t),!0)}}function nn(e,t,n){this.$$html5=!0,tn.apply(this,arguments),this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var i,a;return e===Xt(r)?i=r:(a=Yt(t,r))?i=e+n+a:t===r+"/"&&(i=t),i&&this.$$parse(i),!!i},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=qt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function rn(e){return function(){return this[e]}}function on(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function an(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return $(t)?(e=t,this):e},this.html5Mode=function(e){return _(e)?(t.enabled=e,this):b(e)?(_(e.enabled)&&(t.enabled=e.enabled),_(e.requireBase)&&(t.requireBase=e.requireBase),(_(e.rewriteLinks)||E(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,o,i,a){function s(e,t,n){var o=u.url(),i=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(a){throw u.url(o),u.$$state=i,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,f,d=r.baseHref(),p=r.url();if(t.enabled){if(!d&&t.requireBase)throw Ci("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=Zt(p)+(d||"/"),c=o.history?en:nn}else f=Xt(p),c=tn;var h=Jt(f);u=new c(f,h,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=r.state();var g=/^\s*(javascript|mailto):/i;i.on("click",function(e){var o=t.rewriteLinks;if(o&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=Qr(e.target);"a"!==L(s[0]);)if(s[0]===i[0]||!(s=s.parent())[0])return;if(!E(o)||!v(s.attr(o))){var l=s.prop("href"),c=s.attr("href")||s.attr("xlink:href");b(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=Ln(l.animVal).href),g.test(l)||!l||s.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(l,c)&&(e.preventDefault(),u.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Qt(u.absUrl())!==Qt(p)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){return zt(e,h)?(n.$evalAsync(function(){var r,o=u.absUrl(),i=u.$$state;e=Qt(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,o,t,i).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(o),u.$$state=i,s(o,!1,i)):(m=!1,l(o,i)))}),void(n.$$phase||n.$digest())):void(a.location.href=e)}),n.$watch(function(){var e=Qt(r.url()),t=Qt(u.absUrl()),i=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&o.history&&i!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,i).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=i):(c&&s(t,a,i===u.$$state?null:u.$$state),l(e,i)))})),u.$$replace=!1}),u}]}function sn(){var e=!0,t=this;this.debugEnabled=function(t){return $(t)?(e=t,this):e},this.$get=["$window",function(n){function o(e){
return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||p,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return r(arguments,function(t){e.push(o(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function ln(e){return e+""}function un(e,t){return"undefined"!=typeof e?e:t}function cn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function fn(e,t){var n=e(t);return!n.$stateful}function dn(e,t){var n,o,i;switch(e.type){case _i.Program:n=!0,r(e.body,function(e){dn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case _i.Literal:e.constant=!0,e.toWatch=[];break;case _i.UnaryExpression:dn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case _i.BinaryExpression:dn(e.left,t),dn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case _i.LogicalExpression:dn(e.left,t),dn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case _i.ConditionalExpression:dn(e.test,t),dn(e.alternate,t),dn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case _i.Identifier:e.constant=!1,e.toWatch=[e];break;case _i.MemberExpression:dn(e.object,t),e.computed&&dn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case _i.CallExpression:i=!!e.filter&&fn(t,e.callee.name),n=i,o=[],r(e.arguments,function(e){dn(e,t),n=n&&e.constant,e.constant||o.push.apply(o,e.toWatch)}),e.constant=n,e.toWatch=i?o:[e];break;case _i.AssignmentExpression:dn(e.left,t),dn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case _i.ArrayExpression:n=!0,o=[],r(e.elements,function(e){dn(e,t),n=n&&e.constant,e.constant||o.push.apply(o,e.toWatch)}),e.constant=n,e.toWatch=o;break;case _i.ObjectExpression:n=!0,o=[],r(e.properties,function(e){dn(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||o.push.apply(o,e.value.toWatch)}),e.constant=n,e.toWatch=o;break;case _i.ThisExpression:e.constant=!1,e.toWatch=[];break;case _i.LocalsExpression:e.constant=!1,e.toWatch=[]}}function pn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function hn(e){return e.type===_i.Identifier||e.type===_i.MemberExpression}function gn(e){if(1===e.body.length&&hn(e.body[0].expression))return{type:_i.AssignmentExpression,left:e.body[0].expression,right:{type:_i.NGValueParameter},operator:"="}}function mn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===_i.Literal||e.body[0].expression.type===_i.ArrayExpression||e.body[0].expression.type===_i.ObjectExpression)}function vn(e){return e.constant}function $n(e,t){this.astBuilder=e,this.$filter=t}function bn(e,t){this.astBuilder=e,this.$filter=t}function yn(e){return S(e.valueOf)?e.valueOf():Oi.call(e)}function En(){var e,t,n=me(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){function a(e,t){var r,o,a;switch(typeof e){case"string":if(e=e.trim(),a=e,r=n[a],!r){":"===e.charAt(0)&&":"===e.charAt(1)&&(o=!0,e=e.substring(2));var s=new ki(g),h=new Mi(s,i,g);r=h.parse(e),r.constant?r.$$watchDelegate=f:o?r.$$watchDelegate=r.literal?c:u:r.inputs&&(r.$$watchDelegate=l),n[a]=r}return d(r,t);case"function":return d(e,t);default:return d(p,t)}}function s(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=yn(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function l(e,t,n,r,o){var i,a=r.inputs;if(1===a.length){var l=s;return a=a[0],e.$watch(function(e){var t=a(e);return s(t,l)||(i=r(e,void 0,void 0,[t]),l=t&&yn(t)),i},t,n,o)}for(var u=[],c=[],f=0,d=a.length;f<d;f++)u[f]=s,c[f]=null;return e.$watch(function(e){for(var t=!1,n=0,o=a.length;n<o;n++){var l=a[n](e);(t||(t=!s(l,u[n])))&&(c[n]=l,u[n]=l&&yn(l))}return t&&(i=r(e,void 0,void 0,c)),i},t,n,o)}function u(e,t,n,r,o){function i(e){return r(e)}function a(e,n,r){u=e,S(t)&&t(e,n,r),$(e)&&r.$$postDigest(function(){$(u)&&s()})}var s,u;return s=r.inputs?l(e,a,n,r,o):e.$watch(i,a,n)}function c(e,t,n,o){function i(e){var t=!0;return r(e,function(e){$(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return o(e)},function(e,n,r){s=e,S(t)&&t(e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function f(e,t,n,r){var o=e.$watch(function(e){return o(),r(e)},t,n);return o}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,o=n!==c&&n!==u,i=o?function(n,o,i,a){var s=r&&a?a[0]:e(n,o,i,a);return t(s,n,o)}:function(n,r,o,i){var a=e(n,r,o,i),s=t(a,n,r);return $(a)?s:a};return r=!e.inputs,e.$$watchDelegate&&e.$$watchDelegate!==l?(i.$$watchDelegate=e.$$watchDelegate,i.inputs=e.inputs):t.$stateful||(i.$$watchDelegate=l,i.inputs=e.inputs?e.inputs:[e]),i}var h=ho().noUnsafeEval,g={csp:h,literals:H(o),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t};return a}]}function wn(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Sn(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return $(t)?(e=t,this):e}}function Cn(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Sn(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return $(t)?(e=t,this):e}}function Sn(e,n,o){function i(){return new a}function a(){var e=this.promise=new s;this.resolve=function(t){d(e,t)},this.reject=function(t){h(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function l(t){var n,r,i;i=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var a=0,s=i.length;a<s;++a){t.pur=!0,r=i[a][0],n=i[a][t.status];try{S(n)?d(r,n(t.value)):1===t.status?d(r,t.value):h(r,t.value)}catch(l){h(r,l)}}}finally{--O,o&&0===O&&e(c)}}function c(){for(;!O&&A.length;){var e=A.shift();if(!e.pur){e.pur=!0;var t="Possibly unhandled rejection: "+Ee(e.value);e.value instanceof Error?n(e.value,t):n(t)}}}function f(t){!o||t.pending||2!==t.status||t.pur||(0===O&&0===A.length&&e(c),A.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++O,e(function(){l(t)}))}function d(e,t){e.$$state.status||(t===e?g(e,T("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):p(e,t))}function p(e,t){function n(t){a||(a=!0,p(e,t))}function r(t){a||(a=!0,g(e,t))}function o(t){m(e,t)}var i,a=!1;try{(b(t)||S(t))&&(i=t.then),S(i)?(e.$$state.status=-1,i.call(t,n,r,o)):(e.$$state.value=t,e.$$state.status=1,f(e.$$state))}catch(s){r(s)}}function h(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,f(e.$$state)}function m(t,r){var o=t.$$state.pending;t.$$state.status<=0&&o&&o.length&&e(function(){for(var e,t,i=0,a=o.length;i<a;i++){t=o[i][0],e=o[i][3];try{m(t,S(e)?e(r):r)}catch(s){n(s)}}})}function $(e){var t=new s;return h(t,e),t}function y(e,t,n){var r=null;try{S(n)&&(r=n())}catch(o){return $(o)}return M(r)?r.then(function(){return t(e)},$):t(e)}function E(e,t,n,r){var o=new s;return d(o,e),o.then(t,n,r)}function w(e){var t=new s,n=0,o=uo(e)?[]:{};return r(e,function(e,r){n++,E(e).then(function(e){o[r]=e,--n||d(t,o)},function(e){h(t,e)})}),0===n&&d(t,o),t}function C(e){var t=i();return r(e,function(e){E(e).then(t.resolve,t.reject)}),t.promise}function x(e){function t(e){d(r,e)}function n(e){h(r,e)}if(!S(e))throw T("norslvr","Expected resolverFn, got '{0}'",e);var r=new s;return e(t,n),r}var T=t("$q",TypeError),O=0,A=[];u(s.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&f(this.$$state),r},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return y(t,N,e)},function(t){return y(t,$,e)},t)}});var N=E;return x.prototype=s.prototype,x.defer=i,x.reject=$,x.when=E,x.resolve=N,x.all=w,x.race=C,x}function xn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!n,i=o?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return i.supported=o,i}]}function Tn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var o=10,i=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(o=e),o},this.$get=["$exceptionHandler","$parse","$browser",function(t,u,c){function f(e){e.currentScope.$$destroyed=!0}function d(e){9===Xr&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(x.$$phase)throw i("inprog","{0} already in progress",x.$$phase);x.$$phase=e}function m(){x.$$phase=null}function $(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function E(){}function w(){for(;A.length;)try{A.shift()()}catch(e){t(e)}l=null}function C(){null===l&&(l=c.defer(function(){x.$apply(w)}))}h.prototype={constructor:h,$new:function(t,n){var r;return n=n||this,t?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!==this)&&r.$on("$destroy",f),r},$watch:function(e,t,n,r){var o=u(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,n,o,e);var i=this,a=i.$$watchers,l={fn:t,last:E,get:o,exp:r||e,eq:!!n};return s=null,S(t)||(l.fn=p),a||(a=i.$$watchers=[],a.$$digestWatchIndex=-1),a.unshift(l),a.$$digestWatchIndex++,$(this,1),function(){var e=B(a,l);e>=0&&($(i,-1),e<a.$$digestWatchIndex&&a.$$digestWatchIndex--),s=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,o,s)}var o=new Array(e.length),i=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){i[0]=e,o[0]=n,t(i,e===n?i:o,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){i[t]=e,o[t]=r,l||(l=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function r(e){i=e;var t,r,o,s,l;if(!v(i)){if(b(i))if(n(i)){a!==p&&(a=p,m=a.length=0,f++),t=i.length,m!==t&&(f++,a.length=m=t);for(var u=0;u<t;u++)l=a[u],s=i[u],o=l!==l&&s!==s,o||l===s||(f++,a[u]=s)}else{a!==h&&(a=h={},m=0,f++),t=0;for(r in i)qr.call(i,r)&&(t++,s=i[r],l=a[r],r in a?(o=l!==l&&s!==s,o||l===s||(f++,a[r]=s)):(m++,a[r]=s,f++));if(m>t){f++;for(r in a)qr.call(i,r)||(m--,delete a[r])}}else a!==i&&(a=i,f++);return f}}function o(){if(g?(g=!1,t(i,i,l)):t(i,s,l),c)if(b(i))if(n(i)){s=new Array(i.length);for(var e=0;e<i.length;e++)s[e]=i[e]}else{s={};for(var r in i)qr.call(i,r)&&(s[r]=i[r])}else s=i}r.$stateful=!0;var i,a,s,l=this,c=t.length>1,f=0,d=u(e,r),p=[],h={},g=!0,m=0;return this.$watch(d,o)},$digest:function(){var e,n,r,a,u,f,d,p,h,v,$,b=o,y=this,C=[];g("$digest"),c.$$checkUrlChange(),this===x&&null!==l&&(c.defer.cancel(l),w()),s=null;do{d=!1,h=y;for(var A=0;A<T.length;A++){try{$=T[A],$.scope.$eval($.expression,$.locals)}catch(k){t(k)}s=null}T.length=0;e:do{if(f=h.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(e=f[f.$$digestWatchIndex])if(u=e.get,(n=u(h))===(r=e.last)||(e.eq?j(n,r):lo(n)&&lo(r))){if(e===s){d=!1;break e}}else d=!0,s=e,e.last=e.eq?H(n,null):n,a=e.fn,a(n,r===E?n:r,h),b<5&&(v=4-b,C[v]||(C[v]=[]),C[v].push({msg:S(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(k){t(k)}if(!(p=h.$$watchersCount&&h.$$childHead||h!==y&&h.$$nextSibling))for(;h!==y&&!(p=h.$$nextSibling);)h=h.$parent}while(h=p);if((d||T.length)&&!b--)throw m(),i("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",o,C)}while(d||T.length);for(m();N<O.length;)try{O[N++]()}catch(k){t(k)}O.length=N=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&c.$$applicationDestroyed(),$(this,-this.$$watchersCount);for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){x.$$phase||T.length||c.defer(function(){T.length&&x.$digest()}),T.push({scope:this,expression:u(e),locals:t})},$$postDigest:function(e){O.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{m()}}catch(n){t(n)}finally{try{x.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&A.push(t),e=u(e),C()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var o=this;return function(){var r=n.indexOf(t);r!==-1&&(n[r]=null,y(o,1,e))}},$emit:function(e,n){var r,o,i,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=U([u],arguments,1);do{for(r=s.$$listeners[e]||a,u.currentScope=s,o=0,i=r.length;o<i;o++)if(r[o])try{r[o].apply(null,c)}catch(f){t(f)}else r.splice(o,1),o--,i--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,n){var r=this,o=r,i=r,a={name:e,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return a;for(var s,l,u,c=U([a],arguments,1);o=i;){for(a.currentScope=o,s=o.$$listeners[e]||[],l=0,u=s.length;l<u;l++)if(s[l])try{s[l].apply(null,c)}catch(f){t(f)}else s.splice(l,1),l--,u--;if(!(i=o.$$listenerCount[e]&&o.$$childHead||o!==r&&o.$$nextSibling))for(;o!==r&&!(i=o.$$nextSibling);)o=o.$parent}return a.currentScope=null,a}};var x=new h,T=x.$$asyncQueue=[],O=x.$$postDigestQueue=[],A=x.$$applyAsyncQueue=[],N=0;return x}]}function On(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.$get=function(){return function(n,r){var o,i=r?t:e;return o=Ln(n).href,""===o||o.match(i)?n:"unsafe:"+o}}}function An(e){return e.replace(Fi,xe)}function Nn(e){if("self"===e)return e;if(E(e)){if(e.indexOf("***")>-1)throw Di("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=po(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(x(e))return new RegExp("^"+e.source+"$");throw Di("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function kn(e){var t=[];return $(e)&&r(e,function(e){t.push(Nn(e))}),t}function _n(){this.SCE_CONTEXTS=Ii;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=kn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=kn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Pn(t):!!e.exec(t.href)}function o(n){var o,i,a=Ln(n.toString()),s=!1;for(o=0,i=e.length;o<i;o++)if(r(e[o],a)){s=!0;break}if(s)for(o=0,i=t.length;o<i;o++)if(r(t[o],a)){s=!1;break}return s}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=f.hasOwnProperty(e)?f[e]:null;if(!n)throw Di("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw Di("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=f.hasOwnProperty(e)?f[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Ii.RESOURCE_URL){if(o(t))return t;throw Di("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ii.HTML)return u(t);throw Di("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw Di("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=i(),f={};return f[Ii.HTML]=i(c),f[Ii.CSS]=i(c),f[Ii.URL]=i(c),f[Ii.JS]=i(c),f[Ii.RESOURCE_URL]=i(f[Ii.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function Mn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&Xr<8)throw Di("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var o=be(Ii);o.isEnabled=function(){return e},o.trustAs=n.trustAs,o.getTrusted=n.getTrusted,o.valueOf=n.valueOf,e||(o.trustAs=o.getTrusted=function(e,t){return t},o.valueOf=h),o.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return o.getTrusted(e,t)})};var i=o.parseAs,a=o.getTrusted,s=o.trustAs;return r(Ii,function(e,t){var n=Gr(t);o[An("parse_as_"+n)]=function(t){return i(e,t)},o[An("get_trusted_"+n)]=function(t){return a(e,t)},o[An("trust_as_"+n)]=function(t){return s(e,t)}}),o}]}function Dn(){this.$get=["$window","$document",function(e,t){var n={},r=e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),o=!r&&e.history&&e.history.pushState,i=f((/android (\d+)/.exec(Gr((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=s.body&&s.body.style,u=!1,c=!1;return l&&(u=!!("transition"in l||"webkitTransition"in l),c=!!("animation"in l||"webkitAnimation"in l)),{history:!(!o||i<4||a),hasEvent:function(e){if("input"===e&&Xr)return!1;if(v(n[e])){var t=s.createElement("div");n[e]="on"+e in t}return n[e]},csp:ho(),transitions:u,animations:c,android:i}}]}function In(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,o,i){function a(s,l){function c(e){return l||(e=Ri("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e)),o.reject(e)}a.totalPendingRequests++,E(s)&&!v(n.get(s))||(s=i.getTrustedResourceUrl(s));var f=r.defaults&&r.defaults.transformResponse;return uo(f)?f=f.filter(function(e){return e!==Dt}):f===Dt&&(f=null),r.get(s,u({cache:n,transformResponse:f},e))["finally"](function(){a.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},c)}return a.totalPendingRequests=0,a}]}function Fn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var o={};return o.findBindings=function(e,t,n){var o=e.getElementsByClassName("ng-binding"),i=[];return r(o,function(e){var o=ao.element(e).data("$binding");o&&r(o,function(r){if(n){var o=new RegExp("(^|\\s)"+po(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else r.indexOf(t)!==-1&&i.push(e)})}),i},o.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],o=0;o<r.length;++o){var i=n?"=":"*=",a="["+r[o]+"model"+i+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},o.getLocation=function(){return n.url()},o.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},o.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},o}]}function Rn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,o){function i(i,s,l){S(i)||(l=s,s=i,i=p);var u,c=V(arguments,3),f=$(l)&&!l,d=(f?r:n).defer(),h=d.promise;return u=t.defer(function(){try{d.resolve(i.apply(null,c))}catch(t){d.reject(t),o(t)}finally{delete a[h.$$timeoutId]}f||e.$apply()},s),h.$$timeoutId=u,a[u]=d,h}var a={};return i.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].promise["catch"](p),a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},i}]}function Ln(e){var t=e;return Xr&&(Li.setAttribute("href",t),t=Li.href),Li.setAttribute("href",t),{href:Li.href,protocol:Li.protocol?Li.protocol.replace(/:$/,""):"",host:Li.host,search:Li.search?Li.search.replace(/^\?/,""):"",hash:Li.hash?Li.hash.replace(/^#/,""):"",hostname:Li.hostname,port:Li.port,pathname:"/"===Li.pathname.charAt(0)?Li.pathname:"/"+Li.pathname}}function Pn(e){var t=E(e)?Ln(e):e;return t.protocol===Pi.protocol&&t.host===Pi.host}function Bn(){this.$get=g(e)}function Hn(e){function t(e){try{return e.cookie||""}catch(t){return""}}function n(e){try{return decodeURIComponent(e)}catch(t){return e}}var r=e[0]||{},o={},i="";return function(){var e,a,s,l,u,c=t(r);if(c!==i)for(i=c,e=i.split("; "),o={},s=0;s<e.length;s++)a=e[s],l=a.indexOf("="),l>0&&(u=n(a.substring(0,l)),v(o[u])&&(o[u]=n(a.substring(l+1))));return o}}function jn(){this.$get=Hn}function Un(e){function t(o,i){if(b(o)){var a={};return r(o,function(e,n){a[n]=t(n,e)}),a}return e.factory(o+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Wn),t("date",lr),t("filter",Vn),t("json",ur),t("limitTo",cr),t("lowercase",qi),t("number",zn),t("orderBy",dr),t("uppercase",Gi)}function Vn(){return function(e,r,o,i){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}i=i||"$";var a,s,l=Gn(r);switch(l){case"function":a=r;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Kn(r,o,i,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function Kn(e,t,n,r){var o,i=b(e)&&n in e;return t===!0?t=j:S(t)||(t=function(e,t){return!v(e)&&(null===e||null===t?e===t:!(b(t)||b(e)&&!m(e))&&(e=Gr(""+e),t=Gr(""+t),e.indexOf(t)!==-1))}),o=function(o){return i&&!b(o)?qn(o,e[n],t,n,!1):qn(o,e,t,n,r)}}function qn(e,t,n,r,o,i){var a=Gn(e),s=Gn(t);if("string"===s&&"!"===t.charAt(0))return!qn(e,t.substring(1),n,r,o);if(uo(e))return e.some(function(e){return qn(e,t,n,r,o)});switch(a){case"object":var l;if(o){for(l in e)if("$"!==l.charAt(0)&&qn(e[l],t,n,r,!0))return!0;return!i&&qn(e,t,n,r,!1)}if("object"===s){for(l in t){var u=t[l];if(!S(u)&&!v(u)){var c=l===r,f=c?e:e[l];if(!qn(f,u,n,r,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Gn(e){return null===e?"null":typeof e}function Wn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Qn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function zn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Qn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Yn(e){var t,n,r,o,i,a=0;for((n=e.indexOf(Hi))>-1&&(e=e.replace(Hi,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===ji;r++);if(r===(i=e.length))t=[0],n=1;else{for(i--;e.charAt(i)===ji;)i--;for(n-=r,t=[],o=0;r<=i;r++,o++)t[o]=+e.charAt(r)}return n>Bi&&(t=t.splice(0,Bi-1),a=n-1,n=1),{d:t,e:a,i:n}}function Xn(e,t,n,r){var o=e.d,i=o.length-e.i;t=v(t)?Math.min(Math.max(n,i),r):+t;var a=t+e.i,s=o[a];if(a>0){o.splice(Math.max(e.i,a));for(var l=a;l<o.length;l++)o[l]=0}else{i=Math.max(0,i),e.i=1,o.length=Math.max(1,a=t+1),o[0]=0;for(var u=1;u<a;u++)o[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)o.unshift(0),e.i++;o.unshift(1),e.i++}else o[a-1]++;for(;i<Math.max(0,t);i++)o.push(0);var f=o.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);f&&(o.unshift(f),e.i++)}function Qn(e,t,n,r,o){if(!E(e)&&!w(e)||isNaN(e))return"";var i,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="∞";else{i=Yn(l),Xn(i,o,t.minFrac,t.maxFrac);var c=i.d,f=i.i,d=i.e,p=[];for(s=c.reduce(function(e,t){return e&&!t},!0);f<0;)c.unshift(0),f++;f>0?p=c.splice(f,c.length):(p=c,c=[0]);var h=[];for(c.length>=t.lgSize&&h.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)h.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&h.unshift(c.join("")),u=h.join(n),p.length&&(u+=r+p.join("")),d&&(u+="e+"+d)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function Jn(e,t,n,r){var o="";for((e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,o="-")),e=""+e;e.length<t;)e=ji+e;return n&&(e=e.substr(e.length-t)),o+e}function Zn(e,t,n,r,o){return n=n||0,function(i){var a=i["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&n===-12&&(a=12),Jn(a,t,r,o)}}function er(e,t,n){return function(r,o){var i=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Wr(a+e);return o[s][i]}}function tr(e,t,n){var r=-1*n,o=r>=0?"+":"";return o+=Jn(Math[r>0?"floor":"ceil"](r/60),2)+Jn(Math.abs(r%60),2)}function nr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function rr(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function or(e){return function(t){var n=nr(t.getFullYear()),r=rr(t),o=+r-+n,i=1+Math.round(o/6048e5);return Jn(i,e)}}function ir(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ar(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function sr(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function lr(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),o=0,i=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(o=f(t[9]+t[10]),i=f(t[9]+t[11])),a.call(r,f(t[1]),f(t[2])-1,f(t[3]));var l=f(t[4]||0)-o,u=f(t[5]||0)-i,c=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,o,i){var a,s,l="",u=[];if(o=o||"mediumDate",o=e.DATETIME_FORMATS[o]||o,E(n)&&(n=Ki.test(n)?f(n):t(n)),w(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;o;)s=Vi.exec(o),s?(u=U(u,s,1),o=u.pop()):(u.push(o),o=null);var c=n.getTimezoneOffset();return i&&(c=z(i,c),n=X(n,i,!0)),r(u,function(t){a=Ui[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ur(){return function(e,t){return v(t)&&(t=2),G(e,t)}}function cr(){return function(e,t,r){return t=Math.abs(Number(t))===1/0?Number(t):f(t),lo(t)?e:(w(e)&&(e=e.toString()),n(e)?(r=!r||isNaN(r)?0:f(r),r=r<0?Math.max(0,e.length+r):r,t>=0?fr(e,r,r+t):0===r?fr(e,t,e.length):fr(e,Math.max(0,r+t),r)):e)}}function fr(e,t,n){return E(e)?e.slice(t,n):eo.call(e,t,n)}function dr(e){function r(t){return t.map(function(t){var n=1,r=h;if(S(t))r=t;else if(E(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var o=r();r=function(e){return e[o]}}return{get:r,descending:n}})}function o(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function i(e){return S(e.valueOf)&&(e=e.valueOf(),o(e))?e:m(e)&&(e=e.toString(),o(e))?e:e}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=i(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,r=e.type,o=t.type;if(r===o){var i=e.value,a=t.value;"string"===r?(i=i.toLowerCase(),a=a.toLowerCase()):"object"===r&&(b(i)&&(i=e.index),b(a)&&(a=t.index)),i!==a&&(n=i<a?-1:1)}else n=r<o?-1:1;return n}return function(e,o,i,l){function u(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:f.map(function(n){return a(n.get(e),t)})}}function c(e,t){for(var n=0,r=f.length;n<r;n++){var o=p(e.predicateValues[n],t.predicateValues[n]);if(o)return o*f[n].descending*d}return p(e.tieBreaker,t.tieBreaker)*d}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);uo(o)||(o=[o]),0===o.length&&(o=["+"]);var f=r(o),d=i?-1:1,p=S(l)?l:s,h=Array.prototype.map.call(e,u);return h.sort(c),e=h.map(function(e){return e.value})}}function pr(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function hr(e,t){e.$name=t}function gr(e,t,n,r,o){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=o(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Yi,this.$$element=e,this.$$animate=r,mr(this)}function mr(e){e.$$classCache={},e.$$classCache[Da]=!(e.$$classCache[Ma]=e.$$element.hasClass(Ma))}function vr(e){function t(e,t,n,r){e[t]||(e[t]={}),a(e[t],n,r)}function n(e,t,n,r){e[t]&&s(e[t],n,r),$r(e[t])&&(e[t]=void 0)}function r(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function o(e,t,n){t=t?"-"+ue(t,"-"):"",r(e,Ma+t,n===!0),r(e,Da+t,n===!1)}var i=e.clazz,a=e.set,s=e.unset;i.prototype.$setValidity=function(e,i,l){v(i)?t(this,"$pending",e,l):n(this,"$pending",e,l),_(i)?i?(s(this.$error,e,l),a(this.$$success,e,l)):(a(this.$error,e,l),s(this.$$success,e,l)):(s(this.$error,e,l),s(this.$$success,e,l)),this.$pending?(r(this,Xi,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(r(this,Xi,!1),this.$valid=$r(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid));var u;u=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),o(this,e,u),this.$$parentForm.$setValidity(e,u,this)}}function $r(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function br(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function yr(e,t,n,r,o,i){Er(e,t,n,r,o,i),br(r)}function Er(e,t,n,r,o,i){var a=Gr(t[0].type);if(!o.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(i.defer.cancel(l),l=null),!s){var o=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(o=fo(o)),(r.$viewValue!==o||""===o&&r.$$hasNativeValidators)&&r.$setViewValue(o,u)}};if(o.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=i.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||c(e,this,this.value)}),o.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),fa[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(ca,function(e){if(!l){var t=this[Kr],n=t.badInput,r=t.typeMismatch;l=i.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function wr(e,t){if(C(e))return e;if(E(e)){sa.lastIndex=0;var n=sa.exec(e);if(n){var r=+n[1],o=+n[2],i=0,a=0,s=0,l=0,u=nr(r),c=7*(o-1);return t&&(i=t.getHours(),a=t.getMinutes(),
s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,i,a,s,l)}}return NaN}function Cr(e,t){return function(n,o){var i,a;if(C(n))return n;if(E(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ta.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=o?{yyyy:o.getFullYear(),MM:o.getMonth()+1,dd:o.getDate(),HH:o.getHours(),mm:o.getMinutes(),ss:o.getSeconds(),sss:o.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Sr(e,t,n,r){return function(o,i,a,s,l,u,c){function f(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function d(e){return $(e)&&!C(e)?n(e)||void 0:e}xr(o,i,a,s),Er(o,i,a,s,l,u);var p,h=s&&s.$options.getOption("timezone");if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,p);return h&&(r=X(r,h)),r}}),s.$formatters.push(function(e){if(e&&!C(e))throw Ha("datefmt","Expected `{0}` to be a date",e);return f(e)?(p=e,p&&h&&(p=X(p,h,!0)),c("date")(e,r,h)):(p=null,"")}),$(a.min)||a.ngMin){var g;s.$validators.min=function(e){return!f(e)||v(g)||n(e)>=g},a.$observe("min",function(e){g=d(e),s.$validate()})}if($(a.max)||a.ngMax){var m;s.$validators.max=function(e){return!f(e)||v(m)||n(e)<=m},a.$observe("max",function(e){m=d(e),s.$validate()})}}}function xr(e,t,n,r){var o=t[0],i=r.$$hasNativeValidators=b(o.validity);i&&r.$parsers.push(function(e){var n=t.prop(Kr)||{};return n.badInput||n.typeMismatch?void 0:e})}function Tr(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:oa.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!w(t))throw Ha("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function Or(e){return $(e)&&!w(e)&&(e=parseFloat(e)),lo(e)?void 0:e}function Ar(e){return(0|e)===e}function Nr(e){var t=e.toString(),n=t.indexOf(".");if(n===-1){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function kr(e,t,n){var r=Number(e);if(!Ar(r)||!Ar(t)||!Ar(n)){var o=Math.max(Nr(r),Nr(t),Nr(n)),i=Math.pow(10,o);r*=i,t*=i,n*=i}return(r-t)%n===0}function _r(e,t,n,r,o,i){xr(e,t,n,r),Tr(r),Er(e,t,n,r,o,i);var a,s;if(($(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||v(a)||e>=a},n.$observe("min",function(e){a=Or(e),r.$validate()})),($(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||v(s)||e<=s},n.$observe("max",function(e){s=Or(e),r.$validate()})),$(n.step)||n.ngStep){var l;r.$validators.step=function(e,t){return r.$isEmpty(t)||v(l)||kr(t,a||0,l)},n.$observe("step",function(e){l=Or(e),r.$validate()})}}function Mr(e,t,n,r,o,i){function a(e,r){t.attr(e,n[e]),n.$observe(e,r)}function s(e){if(f=Or(e),!lo(r.$modelValue))if(c){var n=t.val();f>n&&(n=f,t.val(n)),r.$setViewValue(n)}else r.$validate()}function l(e){if(d=Or(e),!lo(r.$modelValue))if(c){var n=t.val();d<n&&(t.val(d),n=d<f?f:d),r.$setViewValue(n)}else r.$validate()}function u(e){p=Or(e),lo(r.$modelValue)||(c&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate())}xr(e,t,n,r),Tr(r),Er(e,t,n,r,o,i);var c=r.$$hasNativeValidators&&"range"===t[0].type,f=c?0:void 0,d=c?100:void 0,p=c?1:void 0,h=t[0].validity,g=$(n.min),m=$(n.max),b=$(n.step),y=r.$render;r.$render=c&&$(h.rangeUnderflow)&&$(h.rangeOverflow)?function(){y(),r.$setViewValue(t.val())}:y,g&&(r.$validators.min=c?function(){return!0}:function(e,t){return r.$isEmpty(t)||v(f)||t>=f},a("min",s)),m&&(r.$validators.max=c?function(){return!0}:function(e,t){return r.$isEmpty(t)||v(d)||t<=d},a("max",l)),b&&(r.$validators.step=c?function(){return!h.stepMismatch}:function(e,t){return r.$isEmpty(t)||v(p)||kr(t,f||0,p)},a("step",u))}function Dr(e,t,n,r,o,i){Er(e,t,n,r,o,i),br(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||na.test(n)}}function Ir(e,t,n,r,o,i){Er(e,t,n,r,o,i),br(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||ra.test(n)}}function Fr(e,t,n,r){var o=!n.ngTrim||"false"!==fo(n.ngTrim);v(n.name)&&t.attr("name",a());var i=function(e){var i;t[0].checked&&(i=n.value,o&&(i=fo(i)),r.$setViewValue(i,e&&e.type))};t.on("click",i),r.$render=function(){var e=n.value;o&&(e=fo(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)}function Rr(e,t,n,r,o){var i;if($(r)){if(i=e(r),!i.constant)throw Ha("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return i(t)}return o}function Lr(e,t,n,r,o,i,a,s){var l=Rr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Rr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return j(e,l)}),r.$parsers.push(function(e){return e?l:u})}function Pr(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var o=e[r],i=0;i<t.length;i++)if(o===t[i])continue e;n.push(o)}return n}function o(e){return e&&e.split(" ")}function i(e){var t=e;return uo(e)?t=e.map(i).join(" "):b(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function a(e){var t=e;if(uo(e))t=e.map(a);else if(b(e)){var n=!1;t=Object.keys(e).filter(function(t){var r=e[t];return!n&&v(r)&&(n=!0),r}),n&&t.push(void 0)}return t}e="ngClass"+e;var s;return["$parse",function(l){return{restrict:"AC",link:function(u,c,f){function d(e){e=g(o(e),1),f.$addClass(e)}function p(e){e=g(o(e),-1),f.$removeClass(e)}function h(e,t){var r=o(e),i=o(t),a=n(r,i),s=n(i,r),l=g(a,-1),u=g(s,1);f.$addClass(u),f.$removeClass(l)}function g(e,t){var n=[];return r(e,function(e){(t>0||x[e])&&(x[e]=(x[e]||0)+t,x[e]===+(t>0)&&n.push(e))}),n.join(" ")}function m(e){e===t?d(b):p(b),T=e}function v(e){var t=i(e);t!==b&&$(t)}function $(e){T===t&&h(b,e),b=e}var b,y=f[e].trim(),E=":"===y.charAt(0)&&":"===y.charAt(1),w=E?a:i,C=l(y,w),S=E?v:$,x=c.data("$classCounts"),T=!0;x||(x=me(),c.data("$classCounts",x)),"ngClass"!==e&&(s||(s=l("$index",function(e){return 1&e})),u.$watch(s,m)),u.$watch(C,S,E)}}}]}function Br(e,t,n,r,o,i,a,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Yi,this.$options=ja,this.$$parsedNgModel=o(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,this.$$scope=e,this.$$attr=n,this.$$element=r,this.$$animate=i,this.$$timeout=a,this.$$parse=o,this.$$q=s,this.$$exceptionHandler=t,mr(this),Hr(this)}function Hr(e){e.$$scope.$watch(function(){var t=e.$$ngModelGet(e.$$scope);if(t!==e.$modelValue&&(e.$modelValue===e.$modelValue||t===t)){e.$modelValue=e.$$rawModelValue=t,e.$$parserValid=void 0;for(var n=e.$formatters,r=n.length,o=t;r--;)o=n[r](o);e.$viewValue!==o&&(e.$$updateEmptyClasses(o),e.$viewValue=e.$$lastCommittedViewValue=o,e.$render(),e.$$runValidators(e.$modelValue,e.$viewValue,p))}return t})}function jr(e){this.$$options=e}function Ur(e,t){r(t,function(t,n){$(e[n])||(e[n]=t)})}var Vr=/^\/(.+)\/([a-z]*)$/,Kr="validity",qr=Object.prototype.hasOwnProperty,Gr=function(e){return E(e)?e.toLowerCase():e},Wr=function(e){return E(e)?e.toUpperCase():e},zr=function(e){return E(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Yr=function(e){return E(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(Gr=zr,Wr=Yr);var Xr,Qr,Jr,Zr,eo=[].slice,to=[].splice,no=[].push,ro=Object.prototype.toString,oo=Object.getPrototypeOf,io=t("ng"),ao=e.angular||(e.angular={}),so=0;Xr=e.document.documentMode;var lo=Number.isNaN||function(e){return e!==e};p.$inject=[],h.$inject=[];var uo=Array.isArray,co=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,fo=function(e){return E(e)?e.trim():e},po=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ho=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!$(ho.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");ho.rules={noUnsafeEval:!r||r.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!r||r.indexOf("no-inline-style")!==-1}}else ho.rules={noUnsafeEval:t(),noInlineStyle:!1}}return ho.rules},go=function(){if($(go.name_))return go.name_;var t,n,r,o,i=vo.length;for(n=0;n<i;++n)if(r=vo[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){o=t.getAttribute(r+"jq");break}return go.name_=o},mo=/:/g,vo=["ng-","data-ng-","ng:","x-ng-"],$o=oe(e.document),bo=/[A-Z]/g,yo=!1,Eo=1,wo=2,Co=3,So=8,xo=9,To=11,Oo={full:"1.6.1",major:1,minor:6,dot:1,codeName:"promise-rectification"};Ie.expando="ng339";var Ao=Ie.cache={},No=1;Ie._data=function(e){return this.cache[e[this.expando]]||{}};var ko=/-([a-z])/g,_o=/^-ms-/,Mo={mouseleave:"mouseout",mouseenter:"mouseover"},Do=t("jqLite"),Io=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Fo=/<|&#?\w+;/,Ro=/<([\w:-]+)/,Lo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Po={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Po.optgroup=Po.option,Po.tbody=Po.tfoot=Po.colgroup=Po.caption=Po.thead,Po.th=Po.td;var Bo=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ho=Ie.prototype={ready:Xe,toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Qr(e>=0?this[e]:this[this.length+e])},length:0,push:no,sort:[].sort,splice:[].splice},jo={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){jo[Gr(e)]=e});var Uo={};r("input,select,option,textarea,button,form,details".split(","),function(e){Uo[e]=!0});var Vo={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};r({data:He,removeData:Pe,hasData:Ne,cleanData:ke},function(e,t){Ie[t]=e}),r({data:He,inheritedData:Ge,scope:function(e){return Qr.data(e,"$scope")||Ge(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Qr.data(e,"$isolateScope")||Qr.data(e,"$isolateScopeNoTemplate")},controller:qe,injector:function(e){return Ge(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:je,css:function(e,t,n){return t=Se(t),$(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r,o=e.nodeType;if(o!==Co&&o!==wo&&o!==So&&e.getAttribute){var i=Gr(t),a=jo[i];return $(n)?void(null===n||n===!1&&a?e.removeAttribute(t):e.setAttribute(t,a?i:n)):(r=e.getAttribute(t),a&&null!==r&&(r=i),null===r?void 0:r)}},prop:function(e,t,n){return $(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===Eo||n===Co?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===L(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Re(e,!0),void(e.innerHTML=t))},empty:We},function(e,t){Ie.prototype[t]=function(t,n){var r,o,i=this.length;if(e!==We&&v(2===e.length&&e!==je&&e!==qe?t:n)){if(b(t)){for(r=0;r<i;r++)if(e===He)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(var a=e.$dv,s=v(a)?Math.min(i,1):i,l=0;l<s;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(r=0;r<i;r++)e(this[r],t,n);return this}}),r({removeData:Pe,on:function(e,t,n,r){if($(r))throw Do("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ae(e)){var o=Be(e,!0),i=o.events,a=o.handle;a||(a=o.handle=Ze(e,i));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,r,o){var s=i[t];s||(s=i[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||o||e.addEventListener(t,a)),s.push(n)};l--;)t=s[l],Mo[t]?(u(Mo[t],tt),u(t,void 0,!0)):u(t)}},off:Le,one:function(e,t,n){e=Qr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,o=e.parentNode;Re(e),r(new Ie(t),function(t){n?o.insertBefore(t,n.nextSibling):o.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===Eo&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Eo||n===To){t=new Ie(t);for(var r=0,o=t.length;r<o;r++){var i=t[r];e.appendChild(i)}}},prepend:function(e,t){if(e.nodeType===Eo){var n=e.firstChild;r(new Ie(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){De(e,Qr(t).eq(0).clone()[0])},remove:ze,detach:function(e){ze(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r){t=new Ie(t);for(var o=0,i=t.length;o<i;o++){var a=t[o];r.insertBefore(a,n.nextSibling),n=a}}},addClass:Ve,removeClass:Ue,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;v(r)&&(r=!je(e,t)),(r?Ve:Ue)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==To?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Fe,triggerHandler:function(e,t,n){var o,i,a,s=t.type||t,l=Be(e),c=l&&l.events,f=c&&c[s];f&&(o={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:e},t.type&&(o=u(o,t)),i=be(f),a=n?[o].concat(n):[o],r(i,function(t){o.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Ie.prototype[t]=function(t,n,r){for(var o,i=0,a=this.length;i<a;i++)v(o)?(o=e(this[i],t,n,r),$(o)&&(o=Qr(o))):Ke(o,e(this[i],t,n,r));return $(o)?o:this}}),Ie.prototype.bind=Ie.prototype.on,Ie.prototype.unbind=Ie.prototype.off,ot.prototype={put:function(e,t){this[rt(e,this.nextUid)]=t},get:function(e){return this[rt(e,this.nextUid)]},remove:function(e){var t=this[e=rt(e,this.nextUid)];return delete this[e],t}};var Ko=[function(){this.$get=[function(){return ot}]}],qo=/^([^(]+?)=>/,Go=/^[^(]*\(\s*([^)]*)\)/m,Wo=/,/,zo=/^\s*(_?)(\S+?)\1\s*$/,Yo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Xo=t("$injector");ut.$$annotate=lt;var Qo=t("$animate"),Jo=1,Zo="ng-animate",ei=function(){this.$get=p},ti=function(){var e=new ot,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,o){function i(e,t,n){var o=!1;return t&&(t=E(t)?t.split(" "):uo(t)?t:[],r(t,function(t){t&&(o=!0,e[t]=n)})),o}function a(){r(t,function(t){var n=e.get(t);if(n){var o=pt(t.attr("class")),i="",a="";r(n,function(e,t){var n=!!o[t];e!==n&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),r(t,function(e){i&&Ve(e,i),a&&Ue(e,a)}),e.remove(t)}}),t.length=0}function s(n,r,s){var l=e.get(n)||{},u=i(l,r,!0),c=i(l,s,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&o.$$postDigest(a))}return{enabled:p,on:p,off:p,pin:p,push:function(e,t,r,o){o&&o(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var i=new n;return i.complete(),i}}}]},ni=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Qo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var o=n+"-animation";t.$$registeredAnimations[n.substr(1)]=o,e.factory(o,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Zo+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Qo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Zo)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=dt(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,o,i){return r=r&&Qr(r),o=o&&Qr(o),r=r||o.parent(),t(n,r,o),e.push(n,"enter",ht(i))},move:function(n,r,o,i){return r=r&&Qr(r),o=o&&Qr(o),r=r||o.parent(),t(n,r,o),e.push(n,"move",ht(i))},leave:function(t,n){return e.push(t,"leave",ht(n),function(){t.remove()})},addClass:function(t,n,r){return r=ht(r),r.addClass=ft(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=ht(r),r.removeClass=ft(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,o){return o=ht(o),o.addClass=ft(o.addClass,n),o.removeClass=ft(o.removeClass,r),e.push(t,"setClass",o)},animate:function(t,n,r,o,i){return i=ht(i),i.from=i.from?u(i.from,n):n,i.to=i.to?u(i.to,r):r,o=o||"ng-inline-animate",i.tempClasses=ft(i.tempClasses,o),e.push(t,"animate",i)}}}]}],ri=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},oi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,o,i){function a(e){this.setHost(e);var t=n(),r=function(e){i(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){o()?r(e):t(e)},this._state=0}var s=0,l=1,u=2;return a.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},a.all=function(e,t){function n(n){i=i&&n,++o===e.length&&t(i)}var o=0,i=!0;r(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===u?e():this._doneCallbacks.push(e)},progress:p,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==u&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=u)}},a}]},ii=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function o(){return e(function(){i(),s||l.complete(),s=!0}),l}function i(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=H(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:o,end:o}}}]},ai=t("$compile"),si=new bt;yt.$inject=["$provide","$$sanitizeUriProvider"],Et.prototype.isFirstChange=function(){return this.previousValue===si};var li=/^((?:x|data)[:\-_])/i,ui=/[:\-_]+(.)/g,ci=t("$controller"),fi=/^(\S+)(\s+as\s+([\w$]+))?$/,di=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Qr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},pi="application/json",hi={"Content-Type":pi+";charset=utf-8"},gi=/^\[|^\{(?!\{)/,mi={"[":/]$/,"{":/}$/},vi=/^\)]\}',?\n/,$i=t("$http"),bi=ao.$interpolateMinErr=t("$interpolate");bi.throwNoconcat=function(e){throw bi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},bi.interr=function(e,t){return bi("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var yi=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,r={};return{createCallback:function(e){var o="_"+(n.$$counter++).toString(36),i="angular.callbacks."+o,a=t(o);return r[i]=n[o]=a,i},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){var t=r[e];delete n[t.id],delete r[e]}}}]},Ei=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,wi={http:80,https:443,ftp:21},Ci=t("$location"),Si=/^\s*[\\/]{2,}/,xi={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:rn("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=Ei.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:rn("$$protocol"),host:rn("$$host"),port:rn("$$port"),path:on("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(E(e)||w(e))e=e.toString(),this.$$search=Z(e);else{if(!b(e))throw Ci("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=H(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:on("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([nn,tn,en],function(e){e.prototype=Object.create(xi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==en||!this.$$html5)throw Ci("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var Ti=t("$parse"),Oi={}.constructor.prototype.valueOf,Ai=me();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Ai[e]=!0});var Ni={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},ki=function(e){this.options=e};ki.prototype={constructor:ki,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),o=Ai[t],i=Ai[n],a=Ai[r];if(o||i||a){var s=a?r:i?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=$(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Ti("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Gr(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,o=!1;this.index<this.text.length;){var i=this.text.charAt(this.index);if(r+=i,o){if("u"===i){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Ni[i];n+=s||i}o=!1}else if("\\"===i)o=!0;else{if(i===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=i}this.index++}this.throwError("Unterminated quote",t)}};var _i=function(e,t){this.lexer=e,this.options=t};_i.Program="Program",_i.ExpressionStatement="ExpressionStatement",_i.AssignmentExpression="AssignmentExpression",_i.ConditionalExpression="ConditionalExpression",_i.LogicalExpression="LogicalExpression",_i.BinaryExpression="BinaryExpression",_i.UnaryExpression="UnaryExpression",_i.CallExpression="CallExpression",_i.MemberExpression="MemberExpression",_i.Identifier="Identifier",_i.Literal="Literal",_i.ArrayExpression="ArrayExpression",_i.Property="Property",_i.ObjectExpression="ObjectExpression",_i.ThisExpression="ThisExpression",_i.LocalsExpression="LocalsExpression",_i.NGValueParameter="NGValueParameter",_i.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:_i.Program,body:e}},expressionStatement:function(){return{type:_i.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!hn(e))throw Ti("lval","Trying to assign a value to a non l-value");e={type:_i.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:_i.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:_i.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:_i.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:_i.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:_i.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:_i.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:_i.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:_i.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=H(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:_i.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:_i.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:_i.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:_i.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:_i.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:_i.Identifier,name:e.text}},constant:function(){return{type:_i.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:_i.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:_i.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:_i.ObjectExpression,properties:t}},throwError:function(e,t){throw Ti("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Ti("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Ti("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,o){if(this.tokens.length>e){var i=this.tokens[e],a=i.text;if(a===t||a===n||a===r||a===o||!t&&!n&&!r&&!o)return i}return!1},expect:function(e,t,n,r){var o=this.peek(e,t,n,r);return!!o&&(this.tokens.shift(),o)},selfReferential:{"this":{type:_i.ThisExpression},$locals:{type:_i.LocalsExpression}}},$n.prototype={compile:function(e){
var t=this,n=this.astBuilder.ast(e);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},dn(n,t.$filter);var o,i="";if(this.stage="assign",o=gn(n)){this.state.computing="assign";var a=this.nextId();this.recurse(o,a),this.return_(a),i="fn.assign="+this.generateFunction("assign","s,v,l")}var s=pn(n.body);t.stage="inputs",r(s,function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var o=t.nextId();t.recurse(e,o),t.return_(o),t.state.inputs.push(r),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(n);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",u=new Function("$filter","getStringValue","ifDefined","plus",l)(this.$filter,ln,un,cn);return this.state=this.stage=void 0,u.literal=mn(n),u.constant=vn(n),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,o,i,a){var s,l,u,c,f,d=this;if(o=o||p,!a&&$(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,o,i,!0));switch(e.type){case _i.Program:r(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?d.current().body.push(l,";"):d.return_(l)});break;case _i.Literal:c=this.escape(e.value),this.assign(t,c),o(t||c);break;case _i.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),o(c);break;case _i.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),o(c);break;case _i.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),o(t);break;case _i.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),o(t);break;case _i.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){i&&1!==i&&d.if_(d.isNull(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),o(t);break;case _i.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,s,void 0,function(){d.if_(d.notNull(s),function(){e.computed?(l=d.nextId(),d.recurse(e.property,l),d.getStringValue(l),i&&1!==i&&d.if_(d.not(d.computedMember(s,l)),d.lazyAssign(d.computedMember(s,l),"{}")),c=d.computedMember(s,l),d.assign(t,c),n&&(n.computed=!0,n.name=l)):(i&&1!==i&&d.if_(d.isNull(d.nonComputedMember(s,e.property.name)),d.lazyAssign(d.nonComputedMember(s,e.property.name),"{}")),c=d.nonComputedMember(s,e.property.name),d.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),o(t)},!!i);break;case _i.CallExpression:t=t||this.nextId(),e.filter?(l=d.filter(e.callee.name),u=[],r(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",d.assign(t,c),o(t)):(l=d.nextId(),s={},u=[],d.recurse(e.callee,l,s,function(){d.if_(d.notNull(l),function(){r(e.arguments,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){u.push(e)})}),c=s.name?d.member(s.context,s.name,s.computed)+"("+u.join(",")+")":l+"("+u.join(",")+")",d.assign(t,c)},function(){d.assign(t,"undefined")}),o(t)}));break;case _i.AssignmentExpression:l=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){d.if_(d.notNull(s.context),function(){d.recurse(e.right,l),c=d.member(s.context,s.name,s.computed)+e.operator+l,d.assign(t,c),o(t||c)})},1);break;case _i.ArrayExpression:u=[],r(e.elements,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),o(t||c);break;case _i.ObjectExpression:u=[],f=!1,r(e.properties,function(e){e.computed&&(f=!0)}),f?(t=t||this.nextId(),this.assign(t,"{}"),r(e.properties,function(e){e.computed?(s=d.nextId(),d.recurse(e.key,s)):s=e.key.type===_i.Identifier?e.key.name:""+e.key.value,l=d.nextId(),d.recurse(e.value,l),d.assign(d.member(t,s,e.computed),l)})):(r(e.properties,function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,function(e){u.push(d.escape(t.key.type===_i.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(t,c)),o(t||c);break;case _i.ThisExpression:this.assign(t,"s"),o(t||"s");break;case _i.LocalsExpression:this.assign(t,"l"),o(t||"l");break;case _i.NGValueParameter:this.assign(t,"v"),o(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,o,i){var a=this;return function(){a.recurse(e,t,n,r,o,i)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(E(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Ti("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},bn.prototype={compile:function(e){var t=this,n=this.astBuilder.ast(e);dn(n,t.$filter);var o,i;(o=gn(n))&&(i=this.recurse(o));var a,s=pn(n.body);s&&(a=[],r(s,function(e,n){var r=t.recurse(e);e.input=r,a.push(r),e.watchId=n}));var l=[];r(n.body,function(e){l.push(t.recurse(e.expression))});var u=0===n.body.length?p:1===n.body.length?l[0]:function(e,t){var n;return r(l,function(r){n=r(e,t)}),n};return i&&(u.assign=function(e,t,n){return i(e,n,t)}),a&&(u.inputs=a),u.literal=mn(n),u.constant=vn(n),u},recurse:function(e,t,n){var o,i,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case _i.Literal:return this.value(e.value,t);case _i.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case _i.BinaryExpression:return o=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](o,i,t);case _i.LogicalExpression:return o=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](o,i,t);case _i.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case _i.Identifier:return s.identifier(e.name,t,n);case _i.MemberExpression:return o=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(o,i,t,n):this.nonComputedMember(o,i,t,n);case _i.CallExpression:return a=[],r(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,o){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,r,o));var u=i.apply(void 0,s,o);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,o){var s,l=i(e,n,r,o);if(null!=l.value){for(var u=[],c=0;c<a.length;++c)u.push(a[c](e,n,r,o));s=l.value.apply(l.context,u)}return t?{value:s}:s};case _i.AssignmentExpression:return o=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,r,a){var s=o(e,n,r,a),l=i(e,n,r,a);return s.context[s.name]=l,t?{value:l}:l};case _i.ArrayExpression:return a=[],r(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,o){for(var i=[],s=0;s<a.length;++s)i.push(a[s](e,n,r,o));return t?{value:i}:i};case _i.ObjectExpression:return a=[],r(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===_i.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,o){for(var i={},s=0;s<a.length;++s)a[s].computed?i[a[s].key(e,n,r,o)]=a[s].value(e,n,r,o):i[a[s].key]=a[s].value(e,n,r,o);return t?{value:i}:i};case _i.ThisExpression:return function(e){return t?{value:e}:e};case _i.LocalsExpression:return function(e,n){return t?{value:n}:n};case _i.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,o,i){var a=e(n,r,o,i);return a=$(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,o,i){var a=e(n,r,o,i);return a=$(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,o,i){var a=!e(n,r,o,i);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a),l=t(r,o,i,a),u=cn(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a),l=t(r,o,i,a),u=($(s)?s:0)-($(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)*t(r,o,i,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)/t(r,o,i,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)%t(r,o,i,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)===t(r,o,i,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)!==t(r,o,i,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)==t(r,o,i,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)!=t(r,o,i,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)<t(r,o,i,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)>t(r,o,i,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)<=t(r,o,i,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)>=t(r,o,i,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)&&t(r,o,i,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)||t(r,o,i,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(o,i,a,s){var l=e(o,i,a,s)?t(o,i,a,s):n(o,i,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,o,i,a){var s=o&&e in o?o:r;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,r){return function(o,i,a,s){var l,u,c=e(o,i,a,s);return null!=c&&(l=t(o,i,a,s),l=ln(l),r&&1!==r&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(e,t,n,r){return function(o,i,a,s){var l=e(o,i,a,s);r&&1!==r&&l&&null==l[t]&&(l[t]={});var u=null!=l?l[t]:void 0;return n?{context:l,name:t,value:u}:u}},inputs:function(e,t){return function(n,r,o,i){return i?i[t]:e(n,r,o)}}};var Mi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new _i(e,n),this.astCompiler=n.csp?new bn(this.ast,t):new $n(this.ast,t)};Mi.prototype={constructor:Mi,parse:function(e){return this.astCompiler.compile(e)}};var Di=t("$sce"),Ii={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Fi=/_([a-z])/g,Ri=t("$compile"),Li=e.document.createElement("a"),Pi=Ln(e.location.href);Hn.$inject=["$document"],Un.$inject=["$provide"];var Bi=22,Hi=".",ji="0";Wn.$inject=["$locale"],zn.$inject=["$locale"];var Ui={yyyy:Zn("FullYear",4,0,!1,!0),yy:Zn("FullYear",2,0,!0,!0),y:Zn("FullYear",1,0,!1,!0),MMMM:er("Month"),MMM:er("Month",!0),MM:Zn("Month",2,1),M:Zn("Month",1,1),LLLL:er("Month",!1,!0),dd:Zn("Date",2),d:Zn("Date",1),HH:Zn("Hours",2),H:Zn("Hours",1),hh:Zn("Hours",2,-12),h:Zn("Hours",1,-12),mm:Zn("Minutes",2),m:Zn("Minutes",1),ss:Zn("Seconds",2),s:Zn("Seconds",1),sss:Zn("Milliseconds",3),EEEE:er("Day"),EEE:er("Day",!0),a:ir,Z:tr,ww:or(2),w:or(1),G:ar,GG:ar,GGG:ar,GGGG:sr},Vi=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ki=/^-?\d+$/;lr.$inject=["$locale"];var qi=g(Gr),Gi=g(Wr);dr.$inject=["$parse"];var Wi=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ro.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),zi={};r(jo,function(e,t){function n(e,n,o){e.$watch(o[r],function(e){o.$set(t,!!e)})}if("multiple"!==e){var r=wt("ng-"+t),o=n;"checked"===e&&(o=function(e,t,o){o.ngModel!==o[r]&&n(e,t,o)}),zi[r]=function(){return{restrict:"A",priority:100,link:o}}}}),r(Vo,function(e,t){zi[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var o=r.ngPattern.match(Vr);if(o)return void r.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=wt("ng-"+e);zi[t]=function(){return{priority:99,link:function(n,r,o){var i=e,a=e;"href"===e&&"[object SVGAnimatedString]"===ro.call(r.prop("href"))&&(a="xlinkHref",o.$attr[a]="xlink:href",i=null),o.$observe(t,function(t){return t?(o.$set(a,t),void(Xr&&i&&r.prop(i,o[a]))):void("href"===e&&o.$set(a,null))})}}}});var Yi={$addControl:p,$$renameControl:hr,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Xi="ng-pending",Qi="ng-submitted";gr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],gr.prototype={$rollbackViewValue:function(){r(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){r(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){pe(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],r(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),r(this.$error,function(t,n){this.$setValidity(n,null,e)},this),r(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),B(this.$$controls,e),e.$$parentForm=Yi},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ia),this.$$animate.addClass(this.$$element,Fa),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ia,Fa+" "+Qi),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,r(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){r(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,Qi),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},vr({clazz:gr,set:function(e,t,n){var r=e[t];if(r){var o=r.indexOf(n);o===-1&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(B(r,n),0===r.length&&delete e[t])}});var Ji=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||p}var o={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:gr,compile:function(n,o){n.addClass(Ia).addClass(Ma);var i=o.name?"name":!(!e||!o.ngForm)&&"ngForm";return{pre:function(e,n,o,a){var s=a[0];if(!("action"in o)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var f=i?r(s.$name):p;i&&(f(e,s),o.$observe(i,function(t){s.$name!==t&&(f(e,void 0),s.$$parentForm.$$renameControl(s,t),(f=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),f(e,void 0),u(s,Yi)})}}}};return o}]},Zi=Ji(),ea=Ji(!0),ta=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,na=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ra=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,oa=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ia=/^(\d{4,})-(\d{2})-(\d{2})$/,aa=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,sa=/^(\d{4,})-W(\d\d)$/,la=/^(\d{4,})-(\d\d)$/,ua=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ca="keydown wheel mousedown",fa=me();r("date,datetime-local,month,time,week".split(","),function(e){fa[e]=!0});var da={text:yr,date:Sr("date",ia,Cr(ia,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Sr("datetimelocal",aa,Cr(aa,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Sr("time",ua,Cr(ua,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Sr("week",sa,wr,"yyyy-Www"),month:Sr("month",la,Cr(la,["yyyy","MM"]),"yyyy-MM"),number:_r,url:Dr,email:Ir,radio:Fr,range:Mr,checkbox:Lr,hidden:p,button:p,submit:p,reset:p,file:p},pa=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,i,a,s){s[0]&&(da[Gr(a.type)]||da.text)(o,i,a,s[0],t,e,n,r)}}}}],ha=/^(true|false|\d+)$/,ga=function(){function e(e,t,n){e.prop("value",n),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return ha.test(n.ngValue)?function(t,n,r){var o=t.$eval(r.ngValue);e(n,r,o)}:function(t,n,r){t.$watch(r.ngValue,function(t){e(n,r,t)})}}}},ma=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=ve(e)})}}}}],va=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,o){var i=e(r.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(r,i.expressions),r=r[0],o.$observe("ngBindTemplate",function(e){r.textContent=v(e)?"":e})}}}}],$a=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,o){var i=t(o.ngBindHtml),a=t(o.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,o){n.$$addBindingInfo(r,o.ngBindHtml),t.$watch(a,function(){var n=i(t);r.html(e.getTrustedHtml(n)||"")})}}}}],ba=g({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ya=Pr("",!0),Ea=Pr("Odd",0),wa=Pr("Even",1),Ca=pr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Sa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],xa={},Ta={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=wt("ng-"+e);xa[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(o,i){var a=n(i[t],null,!0);return function(t,n){n.on(e,function(n){var o=function(){a(t,{$event:n})};Ta[e]&&r.$$phase?t.$evalAsync(o):t.$apply(o)})}}}}]});var Oa=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,o,i,a){var s,l,u;n.$watch(o.ngIf,function(n){n?l||a(function(n,i){l=i,n[n.length++]=t.$$createComment("end ngIf",o.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=ge(s.clone),e.leave(u).done(function(e){e!==!1&&(u=null)}),s=null))})}}}],Aa=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ao.noop,compile:function(r,o){var i=o.ngInclude||o.src,a=o.onload||"",s=o.autoscroll;return function(r,o,l,u,c){var f,d,p,h=0,g=function(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).done(function(e){e!==!1&&(d=null)}),d=p,p=null)};r.$watch(i,function(i){var l=function(e){e===!1||!$(s)||s&&!r.$eval(s)||t()},d=++h;i?(e(i,!0).then(function(e){if(!r.$$destroyed&&d===h){var t=r.$new();u.template=e;var s=c(t,function(e){g(),n.enter(e,null,o).done(l)});f=t,p=s,f.$emit("$includeContentLoaded",i),r.$eval(a)}},function(){r.$$destroyed||d===h&&(g(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(g(),u.template=null)})}}}}],Na=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,o,i){return ro.call(r[0]).match(/SVG/)?(r.empty(),void t(_e(i.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(i.template),void t(r.contents())(n))}}}],ka=pr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),_a=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,o){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?fo(i):i,l=function(e){if(!v(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(a?fo(e):e)}),t}};o.$parsers.push(l),o.$formatters.push(function(e){if(uo(e))return e.join(i)}),o.$isEmpty=function(e){return!e||!e.length}}}},Ma="ng-valid",Da="ng-invalid",Ia="ng-pristine",Fa="ng-dirty",Ra="ng-untouched",La="ng-touched",Pa="ng-empty",Ba="ng-not-empty",Ha=t("ngModel");Br.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Br.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return S(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){S(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Ha("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Q(this.$$element))},$render:p,$isEmpty:function(e){return v(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,Ba),this.$$animate.addClass(this.$$element,Pa)):(this.$$animate.removeClass(this.$$element,Pa),this.$$animate.addClass(this.$$element,Ba))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,Ia)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ia),this.$$animate.addClass(this.$$element,Fa),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Ra,La)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,La,Ra)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!lo(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,o=this.$options.getOption("allowInvalid"),i=this;this.$$runValidators(t,e,function(e){o||n===e||(i.$modelValue=e?t:void 0,i.$modelValue!==r&&i.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function o(){var e=c.$$parserName||"parse";return v(c.$$parserValid)?(s(e,null),!0):(c.$$parserValid||(r(c.$validators,function(e,t){s(t,null)}),r(c.$asyncValidators,function(e,t){s(t,null)})),s(e,c.$$parserValid),c.$$parserValid)}function i(){var n=!0;return r(c.$validators,function(r,o){var i=Boolean(r(e,t));n=n&&i,s(o,i)}),!!n||(r(c.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],o=!0;r(c.$asyncValidators,function(r,i){var a=r(e,t);if(!M(a))throw Ha("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(i,void 0),n.push(a.then(function(){s(i,!0)},function(){o=!1,s(i,!1)}))}),n.length?c.$$q.all(n).then(function(){l(o)},p):l(!0)}function s(e,t){u===c.$$currentValidationRunId&&c.$setValidity(e,t)}function l(e){u===c.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var u=this.$$currentValidationRunId,c=this;return o()&&i()?void a():void l(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){r.$modelValue!==i&&r.$$writeModelToScope()}var t=this.$$lastCommittedViewValue,n=t,r=this;if(this.$$parserValid=!v(n)||void 0,this.$$parserValid)for(var o=0;o<this.$parsers.length;o++)if(n=this.$parsers[o](n),v(n)){this.$$parserValid=!1;break}lo(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,e()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(t){a||(r.$modelValue=t?n:void 0,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),r(this.$viewChangeListeners,function(e){try{e()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");w(t[e])?t=t[e]:w(t["default"])&&(t=t["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})}},vr({clazz:Br,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var ja,Ua=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Br,priority:1,compile:function(t){return t.addClass(Ia).addClass(Ra).addClass(Ma),{pre:function(e,t,n,r){var o=r[0],i=r[1]||o.$$parentForm,a=r[2];a&&(o.$options=a.$options),o.$$initGetterSetters(),i.$addControl(o),n.$observe("name",function(e){o.$name!==e&&o.$$parentForm.$$renameControl(o,e)}),e.$on("$destroy",function(){o.$$parentForm.$removeControl(o)})},post:function(t,n,r,o){function i(){a.$setTouched()}var a=o[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(i):t.$apply(i))})}}}}}],Va=/(\s+|^)default(\s+|$)/;jr.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=u({},e),r(e,function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=fo(n.replace(Va,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],Ur(e,this.$$options)),Ur(e,ja.$$options),new jr(e)}},ja=new jr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Ka=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:ja,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},qa=pr({terminal:!0,priority:1e3}),Ga=t("ngOptions"),Wa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,za=["$compile","$document","$parse",function(t,o,i){function a(e,t,r){function o(e,t,n,r,o){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=o}function a(e){var t;if(!u&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(Wa);if(!s)throw Ga("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Q(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],f=s[9],d=i(s[2]?s[1]:l),p=c&&i(c),h=p||d,g=f&&i(f),m=f?function(e,t){return g(r,t)}:function(e){return rt(e)},v=function(e,t){return m(e,C(e,t))},$=i(s[2]||s[1]),b=i(s[3]||""),y=i(s[4]||""),E=i(s[8]),w={},C=u?function(e,t){return w[u]=t,w[l]=e,w}:function(e){return w[l]=e,w};return{trackBy:f,getTrackByValue:v,getWatchables:i(E,function(e){var t=[];e=e||[];for(var n=a(e),o=n.length,i=0;i<o;i++){var l=e===n?i:n[i],u=e[l],c=C(u,l),f=m(u,c);if(t.push(f),s[2]||s[1]){var d=$(r,c);t.push(d)}if(s[4]){var p=y(r,c);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=E(r)||[],i=a(n),s=i.length,l=0;l<s;l++){var u=n===i?l:i[l],c=n[u],d=C(c,u),p=h(r,d),g=m(p,d),w=$(r,d),S=b(r,d),x=y(r,d),T=new o(g,p,w,S,x);e.push(T),t[g]=T}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return f?H(e.viewValue):e.viewValue}}}}}function s(e,n,i,s){function c(e,t){var n=l.cloneNode(!1);t.appendChild(n),d(e,n)}function f(e){var t=C.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function p(){var e=C&&h.readValue();if(C)for(var t=C.items.length-1;t>=0;t--){var r=C.items[t];ze($(r.group)?r.element.parentNode:r.element)}C=S.getOptions();var o={};if(E&&n.prepend(h.emptyOption),C.items.forEach(function(e){var t;$(e.group)?(t=o[e.group],t||(t=u.cloneNode(!1),x.appendChild(t),t.label=null===e.group?"null":e.group,o[e.group]=t),c(e,t)):c(e,x)}),n[0].appendChild(x),g.$render(),!g.$isEmpty(e)){var i=h.readValue(),a=S.trackBy||m;(a?j(e,i):e===i)||(g.$setViewValue(i),g.$render())}}for(var h=s[0],g=s[1],m=i.multiple,v=0,b=n.children(),y=b.length;v<y;v++)if(""===b[v].value){h.hasEmptyOption=!0,h.emptyOption=b.eq(v);break}var E=!!h.emptyOption,w=Qr(l.cloneNode(!1));
w.val("?");var C,S=a(i.ngOptions,n,e),x=o[0].createDocumentFragment();h.generateUnknownOptionValue=function(e){return"?"},m?(h.writeValue=function(e){var t=e&&e.map(f)||[];C.items.forEach(function(e){e.element.selected&&!P(t,e)&&(e.element.selected=!1)})},h.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=C.selectValueMap[e];n&&!n.disabled&&t.push(C.getViewValueFromOption(n))}),t},S.trackBy&&e.$watchCollection(function(){if(uo(g.$viewValue))return g.$viewValue.map(function(e){return S.getTrackByValue(e)})},function(){g.$render()})):(h.writeValue=function(e){var t=C.selectValueMap[n.val()],r=C.getOptionFromViewValue(e);t&&t.element.removeAttribute("selected"),r?(n[0].value!==r.selectValue&&(h.removeUnknownOption(),h.unselectEmptyOption(),n[0].value=r.selectValue,r.element.selected=!0),r.element.setAttribute("selected","selected")):E?h.selectEmptyOption():h.unknownOption.parent().length?h.updateUnknownOption(e):h.renderUnknownOption(e)},h.readValue=function(){var e=C.selectValueMap[n.val()];return e&&!e.disabled?(h.unselectEmptyOption(),h.removeUnknownOption(),C.getViewValueFromOption(e)):null},S.trackBy&&e.$watch(function(){return S.getTrackByValue(g.$viewValue)},function(){g.$render()})),E&&(h.emptyOption.remove(),t(h.emptyOption)(e),h.emptyOption[0].nodeType===So?(h.hasEmptyOption=!1,h.registerOption=function(e,t){""===t.val()&&(h.hasEmptyOption=!0,h.emptyOption=t,h.emptyOption.removeClass("ng-scope"),g.$render(),t.on("$destroy",function(){h.hasEmptyOption=!1,h.emptyOption=void 0}))}):h.emptyOption.removeClass("ng-scope")),n.empty(),p(),e.$watchCollection(S.getWatchables,p)}var l=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=p},post:s}}}],Ya=["$locale","$interpolate","$log",function(e,t,n){var o=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,f=l.count,d=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,g=a.$eval(d)||{},m={},$=t.startSymbol(),b=t.endSymbol(),y=$+f+"-"+h+b,E=ao.noop;r(l,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+Gr(n[2]);g[r]=s.attr(l.$attr[t])}}),r(g,function(e,n){m[n]=t(e.replace(o,y))}),a.$watch(f,function(t){var r=parseFloat(t),o=lo(r);if(o||r in g||(r=e.pluralCat(r-h)),!(r===c||o&&lo(c))){E();var i=m[r];v(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+d),E=p,u()):E=a.$watch(i,u),c=r}})}}}],Xa=["$parse","$animate","$compile",function(e,o,i){var a="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,r,o,i,a){e[n]=r,o&&(e[o]=i),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,f){var d=f.ngRepeat,p=i.$$createComment("end ngRepeat",d),h=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var g=h[1],m=h[2],v=h[3],$=h[4];if(h=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!h)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var b=h[3]||h[1],y=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var E,w,C,S,x={$id:rt};return $?E=e($):(C=function(e,t){return rt(t)},S=function(e){return e}),function(e,t,i,f,h){E&&(w=function(t,n,r){return y&&(x[y]=t),x[b]=n,x.$index=r,E(e,x)});var g=me();e.$watchCollection(m,function(i){var f,m,$,E,x,T,O,A,N,k,_,M,D=t[0],I=me();if(v&&(e[v]=i),n(i))N=i,A=w||C;else{A=w||S,N=[];for(var F in i)qr.call(i,F)&&"$"!==F.charAt(0)&&N.push(F)}for(E=N.length,_=new Array(E),f=0;f<E;f++)if(x=i===N?f:N[f],T=i[x],O=A(x,T,f),g[O])k=g[O],delete g[O],I[O]=k,_[f]=k;else{if(I[O])throw r(_,function(e){e&&e.scope&&(g[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,O,T);_[f]={id:O,scope:void 0,clone:void 0},I[O]=!0}for(var R in g){if(k=g[R],M=ge(k.clone),o.leave(M),M[0].parentNode)for(f=0,m=M.length;f<m;f++)M[f][a]=!0;k.scope.$destroy()}for(f=0;f<E;f++)if(x=i===N?f:N[f],T=i[x],k=_[f],k.scope){$=D;do $=$.nextSibling;while($&&$[a]);u(k)!==$&&o.move(ge(k.clone),null,D),D=c(k),l(k.scope,f,b,T,y,x,E)}else h(function(e,t){k.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,o.enter(e,null,D),D=n,k.clone=e,I[k.id]=k,l(k.scope,f,b,T,y,x,E)});g=I})}}}}],Qa="ng-hide",Ja="ng-hide-animate",Za=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Qa,{tempClasses:Ja})})}}}],es=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Qa,{tempClasses:Ja})})}}}],ts=pr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ns=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,o,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],f=[],d=function(e,t){return function(n){n!==!1&&e.splice(t,1)}};n.$watch(s,function(n){for(var o,i;c.length;)e.cancel(c.pop());for(o=0,i=f.length;o<i;++o){var s=ge(u[o].clone);f[o].$destroy();var p=c[o]=e.leave(s);p.done(d(c,o))}u.length=0,f.length=0,(l=a.cases["!"+n]||a.cases["?"])&&r(l,function(n){n.transclude(function(r,o){f.push(o);var i=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};u.push(a),e.enter(r,i.parent(),i)})})})}}}],rs=pr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,o,i){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e});r(a,function(e){o.cases["!"+e]=o.cases["!"+e]||[],o.cases["!"+e].push({transclude:i,element:t})})}}),os=pr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,o){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:o,element:t})}}),is=t("ngTransclude"),as=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,o,i){function a(e,n){e.length&&l(e)?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}function l(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==Co||r.nodeValue.trim())return!0}}if(!i)throw is("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Q(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var u=r.ngTransclude||r.ngTranscludeSlot;i(a,null,u),u&&!i.isSlotFilled(u)&&s()}}}}],ss=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,o=t[0].text;e.put(r,o)}}}}],ls={$setViewValue:p,$render:p},us=["$element","$scope",function(t,n){function r(){l||(l=!0,n.$$postDigest(function(){l=!1,a.ngModelCtrl.$render()}))}function o(e){u||(u=!0,n.$$postDigest(function(){n.$$destroyed||(u=!1,a.ngModelCtrl.$setViewValue(a.readValue()),e&&a.ngModelCtrl.$render())}))}function i(e){e.prop("selected",!0),e.attr("selected",!0)}var a=this,s=new ot;a.selectValueMap={},a.ngModelCtrl=ls,a.multiple=!1,a.unknownOption=Qr(e.document.createElement("option")),a.hasEmptyOption=!1,a.emptyOption=void 0,a.renderUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),t.prepend(a.unknownOption),i(a.unknownOption),t.val(n)},a.updateUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),i(a.unknownOption),t.val(n)},a.generateUnknownOptionValue=function(e){return"? "+rt(e)+" ?"},a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.selectEmptyOption=function(){a.emptyOption&&(t.val(""),i(a.emptyOption))},a.unselectEmptyOption=function(){a.hasEmptyOption&&a.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){a.renderUnknownOption=p}),a.readValue=function(){var e=t.val(),n=e in a.selectValueMap?a.selectValueMap[e]:e;return a.hasOption(n)?n:null},a.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&n.removeAttribute("selected"),a.hasOption(e)){a.removeUnknownOption();var r=rt(e);t.val(r in a.selectValueMap?r:e);var o=t[0].options[t[0].selectedIndex];i(Qr(o))}else null==e&&a.emptyOption?(a.removeUnknownOption(),a.selectEmptyOption()):a.unknownOption.parent().length?a.updateUnknownOption(e):a.renderUnknownOption(e)},a.addOption=function(e,t){if(t[0].nodeType!==So){pe(e,'"option value"'),""===e&&(a.hasEmptyOption=!0,a.emptyOption=t);var n=s.get(e)||0;s.put(e,n+1),r()}},a.removeOption=function(e){var t=s.get(e);t&&(1===t?(s.remove(e),""===e&&(a.hasEmptyOption=!1,a.emptyOption=void 0)):s.put(e,t-1))},a.hasOption=function(e){return!!s.get(e)};var l=!1,u=!1;a.registerOption=function(e,t,n,r,i){if(n.$attr.ngValue){var s,l=NaN;n.$observe("value",function(e){var n,r=t.prop("selected");$(l)&&(a.removeOption(s),delete a.selectValueMap[l],n=!0),l=rt(e),s=e,a.selectValueMap[l]=e,a.addOption(e,t),t.attr("value",l),n&&r&&o()})}else r?n.$observe("value",function(e){a.readValue();var n,r=t.prop("selected");$(s)&&(a.removeOption(s),n=!0),s=e,a.addOption(e,t),n&&r&&o()}):i?e.$watch(i,function(e,r){n.$set("value",e);var i=t.prop("selected");r!==e&&a.removeOption(r),a.addOption(e,t),r&&i&&o()}):a.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(a.multiple?o(!0):(a.ngModelCtrl.$setViewValue(null),a.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=a.readValue(),t=n.value;a.removeOption(t),a.ngModelCtrl.$render(),(a.multiple&&e&&e.indexOf(t)!==-1||e===t)&&o(!0)})}}],cs=function(){function e(e,t,n,o){var i=o[0],a=o[1];if(!a)return void(i.registerOption=p);if(i.ngModelCtrl=a,t.on("change",function(){i.removeUnknownOption(),e.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return r(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),e},i.writeValue=function(e){var n=new ot(e);r(t.find("option"),function(e){e.selected=$(n.get(e.value))||$(n.get(i.selectValueMap[e.value]))})};var s,l=NaN;e.$watch(function(){l!==a.$viewValue||j(s,a.$viewValue)||(s=be(a.$viewValue),a.$render()),l=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}function t(e,t,n,r){var o=r[1];if(o){var i=r[0];o.$render=function(){i.writeValue(o.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:us,priority:1,link:{pre:e,post:t}}},fs=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,o;return $(n.ngValue)||($(n.value)?r=e(n.value,!0):(o=e(t.text(),!0),o||n.$set("value",t.text()))),function(e,t,n){var i="$selectController",a=t.parent(),s=a.data(i)||a.parent().data(i);s&&s.registerOption(e,t,n,r,o)}}}}],ds=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},ps=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,o){if(o){var i,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(E(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,Q(n));i=e||void 0,o.$validate()}),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||v(i)||i.test(t)}}}}},hs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var o=-1;n.$observe("maxlength",function(e){var t=f(e);o=lo(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return o<0||r.$isEmpty(t)||t.length<=o}}}}},gs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var o=0;n.$observe("minlength",function(e){o=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=o}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(ce(),we(ao),ao.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var o=Math.pow(10,r),i=(e*o|0)%o;return{v:r,f:i}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var o=0|e,i=n(e,t);return 1==o&&0==i.v?r.ONE:r.OTHER}})}]),void Qr(function(){ie(e.document,ae)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return V(new(V(function(){},{prototype:e})),t)}function o(e){return U(arguments,function(t){t!==e&&U(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function i(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return U(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function l(e,t,n,r){var o,l=i(n,r),u={},c=[];for(var f in l)if(l[f]&&l[f].params&&(o=a(l[f].params),o.length))for(var d in o)s(c,o[d])>=0||(c.push(o[d]),u[o[d]]=e[o[d]]);return V({},u,t)}function u(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var o=0;o<n.length;o++){var i=n[o];if(e[i]!=t[i])return!1}return!0}function c(e,t){var n={};return U(e,function(e){n[e]=t[e]}),n}function f(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(n,function(n){n in e&&(t[n]=e[n])}),t}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function p(e,t){var n=j(e),r=n?[]:{};return U(e,function(e,o){t(e,o)&&(r[n?r.length:o]=e)}),r}function h(e,t){var n=j(e)?[]:{};return U(e,function(e,r){n[r]=t(e,r)}),n}function g(e,t){var r=1,i=2,l={},u=[],c=l,f=V(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(e,n){if($[n]!==i){if(v.push(n),$[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if($[n]=r,B(e))m.push(n,[function(){return t.get(e)}],u);else{var o=t.annotate(e);U(o,function(e){e!==n&&l.hasOwnProperty(e)&&p(l[e],e)}),m.push(n,e,o)}v.pop(),$[n]=i}}function h(e){return H(e)&&e.then&&e.$$promises}if(!H(l))throw new Error("'invocables' must be an object");var g=a(l||{}),m=[],v=[],$={};return U(l,p),l=v=$=null,function(r,i,a){function s(){--y||(E||o(b,i.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,p.resolve(b))}function l(e){v.$$failure=e,p.reject(e)}function u(n,o,i){function u(e){f.reject(e),l(e)}function c(){if(!L(v.$$failure))try{f.resolve(t.invoke(o,a,b)),f.promise.then(function(e){b[n]=e,s()},u)}catch(e){u(e)}}var f=e.defer(),d=0;U(i,function(e){$.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(d++,$[e].then(function(t){b[e]=t,--d||c()},u))}),d||c(),$[n]=f.promise}if(h(r)&&a===n&&(a=i,i=r,r=null),r){if(!H(r))throw new Error("'locals' must be an object")}else r=c;if(i){if(!h(i))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else i=f;var p=e.defer(),v=p.promise,$=v.$$promises={},b=V({},r),y=1+m.length/3,E=!1;if(L(i.$$failure))return l(i.$$failure),v;i.$$inheritedValues&&o(b,d(i.$$inheritedValues,g)),V($,i.$$promises),i.$$values?(E=o(b,d(i.$$values,g)),v.$$inheritedValues=d(i.$$values,g),s()):(i.$$inheritedValues&&(v.$$inheritedValues=d(i.$$inheritedValues,g)),i.then(s,l));for(var w=0,C=m.length;C>w;w+=3)r.hasOwnProperty(m[w])?s():u(m[w],m[w+1],m[w+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function m(e,t,n){this.fromConfig=function(e,t,n){return L(e.template)?this.fromString(e.template,t):L(e.templateUrl)?this.fromUrl(e.templateUrl,t):L(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return P(e)?e(t):e},this.fromUrl=function(n,r){return P(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,o){function i(t,n,r,o){if(m.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new G.Param(t,n,r,o),g[t]}function a(e,t,n,r){var o=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(n){case!1:o=["(",")"+(r?"?":"")];break;case!0:i=i.replace(/\/$/,""),o=["(?:/(",")|/)?"];break;default:o=["("+n+"|",")?"]}return i+o[0]+t+o[1]}function s(o,i){var a,s,l,u,c;return a=o[2]||o[3],c=t.params[a],l=e.substring(d,o.index),s=i?o[4]:o[4]||("*"==o[1]?".*":null),s&&(u=G.type(s)||r(G.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:l,type:u,cfg:c}}t=V({params:{}},H(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",d=0,p=this.segments=[],h=o?o.params:{},g=this.params=o?o.params.$$new():new G.ParamSet,m=[];this.source=e;for(var v,$,b;(l=u.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)$=i(v.id,v.type,v.cfg,"path"),f+=a(v.segment,$.type.pattern.source,$.squash,$.isOptional),p.push(v.segment),d=u.lastIndex;b=e.substring(d);var y=b.indexOf("?");if(y>=0){var E=this.sourceSearch=b.substring(y);if(b=b.substring(0,y),this.sourcePath=e.substring(0,d+y),E.length>0)for(d=0;l=c.exec(E);)v=s(l,!0),$=i(v.id,v.type,v.cfg,"search"),d=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=a(b)+(t.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(f,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function $(e){V(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function o(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function i(){return{strict:g,caseInsensitive:d}}function l(e){return P(e)||j(e)&&P(e[e.length-1])}function u(){for(;w.length;){var e=w.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(y[e.name],f.invoke(e.def))}}function c(e){V(this,e||{})}G=this;var f,d=!1,g=!0,m=!1,y={},E=!0,w=[],C={string:{encode:e,decode:o,is:function(e){return null==e||!L(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return L(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return L(e)&&(d=e),d},this.strictMode=function(e){return L(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!L(e))return m;if(e!==!0&&e!==!1&&!B(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new v(e,V(i(),t))},this.isMatcher=function(e){if(!H(e))return!1;var t=!0;return U(v.prototype,function(n,r){P(n)&&(t=t&&L(e[r])&&P(e[r]))}),t},this.type=function(e,t,n){if(!L(t))return y[e];if(y.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return y[e]=new $(V({name:e},t)),n&&(w.push({name:e,def:n}),E||u()),this},U(C,function(e,t){y[t]=new $(V({name:t},e))}),y=r(y,{}),this.$get=["$injector",function(e){return f=e,E=!1,u(),U(C,function(e,t){y[t]||(y[t]=new $(e))}),this}],this.Param=function(e,r,o,i){function u(e){var t=H(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function c(n,r,o){if(n.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:n.type?t.isString(n.type)?y[n.type]:n.type instanceof $?n.type:new $(n.type):"config"===o?y.any:y.string}function d(){var t={array:"search"===i&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return V(t,n,o).array}function g(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!L(n)||null==n)return m;if(n===!0||B(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(e,t,r,o){var i,a,l=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return i=j(e.replace)?e.replace:[],B(o)&&i.push({from:o,to:n}),a=h(i,function(e){return e.from}),p(l,function(e){return-1===s(a,e.from)}).concat(i)}function b(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var e=f.invoke(o.$$fn);if(null!==e&&e!==n&&!C.type.is(e))throw new Error("Default value ("+e+") for parameter '"+C.id+"' is not an instance of Type ("+C.type.name+")");return e}function E(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(p(C.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),L(e)?C.type.$normalize(e):b()}function w(){return"{Param:"+e+" "+r+" squash: '"+T+"' optional: "+x+"}"}var C=this;o=u(o),r=c(o,r,i);var S=d();r=S?r.$asArray(S,"search"===i):r,"string"!==r.name||S||"path"!==i||o.value!==n||(o.value="");var x=o.value!==n,T=g(o,x),O=v(o,S,x,T);V(this,{id:e,type:r,location:i,array:S,squash:T,replace:O,isOptional:x,value:E,dynamic:n,config:o,toString:w})},c.prototype={$$new:function(){return r(this,V(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),U(t,function(t){U(a(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return U(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return U(r.$$keys(),function(o){var i=e&&e[o],a=t&&t[o];r[o].type.equals(i,a)||(n=!1)}),n},$$validates:function(e){var r,o,i,a,s,l=this.$$keys();for(r=0;r<l.length&&(o=this[l[r]],i=e[l[r]],i!==n&&null!==i||!o.isOptional);r++){if(a=o.type.$normalize(i),!o.type.is(a))return!1;if(s=o.type.encode(a),t.isString(s)&&!o.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function y(e,r){function o(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function i(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!L(r)||r}function s(r,o,i,a,s){function d(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function p(e){function t(e){var t=e(i,r);return!!t&&(B(t)&&r.replace().url(t),!0)}if(!e||!e.defaultPrevented){g&&r.url()===g,g=n;var o,a=u.length;for(o=0;a>o;o++)if(t(u[o]))return;c&&t(c)}}function h(){return l=l||o.$on("$locationChangeSuccess",p)}var g,m=a.baseHref(),v=r.url();return f||h(),{sync:function(){p()},listen:function(){return h()},update:function(e){return e?void(v=r.url()):void(r.url()!==v&&(r.url(v),r.replace()))},push:function(e,t,o){var i=e.format(t||{});null!==i&&t&&t["#"]&&(i+="#"+t["#"]),r.url(i),g=o&&o.$$avoidResync?r.url():n,o&&o.replace&&r.replace()},href:function(n,o,i){if(!n.validates(o))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&s.history;var l=n.format(o);if(i=i||{},a||null===l||(l="#"+e.hashPrefix()+l),null!==l&&o&&o["#"]&&(l+="#"+o["#"]),l=d(l,a,i.absolute),!i.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,f=!1;this.rule=function(e){if(!P(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(B(e)){var t=e;e=function(){return t}}else if(!P(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=B(t);if(B(e)&&(e=r.compile(e)),!s&&!P(t)&&!j(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),V(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:B(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return i(n,e)}]),V(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:o(e)})}},u={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),f=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function E(e,o){function i(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var r=B(e),o=r?e:e.name,a=i(o);if(a){if(!t)throw new Error("No reference point given for path '"+o+"'");t=d(t);for(var s=o.split("."),l=0,u=s.length,c=t;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+o+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(l).join("."),o=c.name+(c.name&&s?".":"")+s}var f=x[o];return!f||!r&&(r||f!==e&&f.self!==e)?n:f}function p(e,t){T[e]||(T[e]=[]),T[e].push(t)}function g(e){for(var t=T[e]||[];t.length;)m(t.shift())}function m(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!B(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(x.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var o=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):B(t.parent)?t.parent:H(t.parent)&&B(t.parent.name)?t.parent.name:"";if(o&&!x[o])return p(o,t.self);for(var i in A)P(A[i])&&(t[i]=A[i](t,A.$delegates[i]));return x[n]=t,!t[O]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&u(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),g(n),t}function v(e){return e.indexOf("*")>-1}function $(e){for(var t=e.split("."),n=S.$current.name.split("."),r=0,o=t.length;o>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function b(e,t){return B(e)&&!L(t)?A[e]:P(t)&&B(e)?(A[e]&&!A.$delegates[e]&&(A.$delegates[e]=A[e]),A[e]=t,this):this}function y(e,t){return H(e)?t=e:t.name=e,m(t),this}function E(e,o,i,s,f,p,g,m,b){function y(t,n,r,i){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return g.update(),N;if(!a.retry)return null;if(i.$retry)return g.update(),k;var s=S.transition=o.when(a.retry);return s.then(function(){return s!==S.transition?T:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return N}),g.update(),s}function E(e,n,r,a,l,u){function d(){var n=[];return U(e.views,function(r,o){var a=r.resolve&&r.resolve!==e.resolve?r.resolve:{};a.$template=[function(){return i.load(o,{view:r,locals:l.globals,params:p,notify:u.notify})||""}],n.push(f.resolve(a,l.globals,l.resolve,e).then(function(n){if(P(r.controllerProvider)||j(r.controllerProvider)){var i=t.extend({},a,l.globals);n.$$controller=s.invoke(r.controllerProvider,null,i)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,l[o]=n}))}),o.all(n).then(function(){return l.globals})}var p=r?n:c(e.params.$$keys(),n),h={$stateParams:p};l.resolve=f.resolve(e.resolve,h,l.resolve,e);var g=[l.resolve.then(function(e){l.globals=e})];return a&&g.push(a),o.all(g).then(d).then(function(e){return l})}var T=o.reject(new Error("transition superseded")),A=o.reject(new Error("transition prevented")),N=o.reject(new Error("transition aborted")),k=o.reject(new Error("transition failed"));return C.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:C.self,$current:C,transition:null},S.reload=function(e){return S.transitionTo(S.current,p,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,V({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,i){n=n||{},i=V({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var a,u=S.$current,f=S.params,h=u.path,m=d(t,i.relative),v=n["#"];if(!L(m)){var $={to:t,toParams:n,options:i},b=y($,u.self,f,i);if(b)return b;if(t=$.to,n=$.toParams,i=$.options,m=d(t,i.relative),!L(m)){if(!i.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+i.relative+"'")}}if(m[O])throw new Error("Cannot transition to abstract state '"+t+"'");if(i.inherit&&(n=l(p,n||{},S.$current,m)),!m.params.$$validates(n))return k;n=m.params.$$values(n),t=m;var x=t.path,N=0,_=x[N],M=C.locals,D=[];if(i.reload){if(B(i.reload)||H(i.reload)){if(H(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var I=i.reload===!0?h[0]:d(i.reload);if(i.reload&&!I)throw new Error("No such reload state '"+(B(i.reload)?i.reload:i.reload.name)+"'");
for(;_&&_===h[N]&&_!==I;)M=D[N]=_.locals,N++,_=x[N]}}else for(;_&&_===h[N]&&_.ownParams.$$equals(n,f);)M=D[N]=_.locals,N++,_=x[N];if(w(t,n,u,f,M,i))return v&&(n["#"]=v),S.params=n,K(S.params,p),K(c(t.params.$$keys(),p),t.locals.globals.$stateParams),i.location&&t.navigable&&t.navigable.url&&(g.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===i.location}),g.update(!0)),S.transition=null,o.when(S.current);if(n=c(t.params.$$keys(),n||{}),v&&(n["#"]=v),i.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,f,i).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,u.self,f),null==S.transition&&g.update(),A;for(var F=o.when(M),R=N;R<x.length;R++,_=x[R])M=D[R]=r(M),F=E(_,n,_===t,F,M,i);var P=S.transition=F.then(function(){var r,o,a;if(S.transition!==P)return T;for(r=h.length-1;r>=N;r--)a=h[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=N;r<x.length;r++)o=x[r],o.locals=D[r],o.self.onEnter&&s.invoke(o.self.onEnter,o.self,o.locals.globals);return S.transition!==P?T:(S.$current=t,S.current=t.self,S.params=n,K(S.params,p),S.transition=null,i.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,f),g.update(!0),S.current)},function(r){return S.transition!==P?T:(S.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,u.self,f,r),a.defaultPrevented||g.update(),o.reject(r))});return P},S.is=function(e,t,r){r=V({relative:S.$current},r||{});var o=d(e,r.relative);return L(o)?S.$current===o&&(!t||u(o.params.$$values(t),p)):n},S.includes=function(e,t,r){if(r=V({relative:S.$current},r||{}),B(e)&&v(e)){if(!$(e))return!1;e=S.$current.name}var o=d(e,r.relative);return L(o)?!!L(S.$current.includes[o.name])&&(!t||u(o.params.$$values(t),p,a(t))):n},S.href=function(e,t,r){r=V({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},r||{});var o=d(e,r.relative);if(!L(o))return null;r.inherit&&(t=l(p,t||{},S.$current,o));var i=o&&r.lossy?o.navigable:o;return i&&i.url!==n&&null!==i.url?g.href(i.url,c(o.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},S.get=function(e,t){if(0===arguments.length)return h(a(x),function(e){return x[e].self});var n=d(e,t||S.$current);return n&&n.self?n.self:null},S}function w(e,t,n,r,o,i){function a(e,t,n){function r(t){return"search"!=e.params[t].location}var o=e.params.$$keys().filter(r),i=f.apply({},[e.params].concat(o)),a=new G.ParamSet(i);return a.$$equals(t,n)}return!(i.reload||e!==n||!(o===n.locals||e.self.reloadOnSearch===!1&&a(n,r,t)))||void 0}var C,S,x={},T={},O="abstract",A={parent:function(e){if(L(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):C},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=r(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(B(t))return"^"==t.charAt(0)?o.compile(t.substring(1),n):(e.parent.navigable||C).url.concat(t,n);if(!t||o.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new G.ParamSet;return U(e.params||{},function(e,n){t[n]||(t[n]=new G.Param(n,null,e,"config"))}),t},params:function(e){var t=f(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?V(e.parent.params.$$new(),t):new G.ParamSet},views:function(e){var t={};return U(L(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?V({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};C=m({name:"",url:"^",views:null,"abstract":!0}),C.navigable=null,this.decorator=b,this.state=y,this.$get=E,E.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function e(e,t){return{load:function(e,n){var r,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=V(o,n),n.view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function C(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,n,r,o){function i(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,n){function r(e){return 1===W&&z>=4?!!u.enabled(e):1===W&&z>=2?!!u.enabled():!!l}var o={enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}};if(e.noanimation)return o;if(u)return{enter:function(e,n,i){r(e)?t.version.minor>2?u.enter(e,null,n).then(i):u.enter(e,null,n,i):o.enter(e,n,i)},leave:function(e,n){r(e)?t.version.minor>2?u.leave(e).then(n):u.leave(e,n):o.leave(e,n)}};if(l){var i=l&&l(n,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return o}var s=i(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,i,s){return function(n,i,l){function u(){function e(){t&&t.remove(),n&&n.$destroy()}var t=f,n=p;n&&(n._willBeDestroyed=!0),d?(v.leave(d,function(){e(),f=null}),f=d):(e(),f=null),d=null,p=null}function c(a){var c,f=T(n,l,i,o),$=f&&e.$current&&e.$current.locals[f];if((a||$!==h)&&!n._willBeDestroyed){c=n.$new(),h=e.$current.locals[f],c.$emit("$viewContentLoading",f);var b=s(c,function(e){v.enter(e,i,function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&r(e)}),u()});d=b,p=c,p.$emit("$viewContentLoaded",f),p.$eval(g)}}var f,d,p,h,g=l.onload||"",m=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),c(!0)}}};return c}function x(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(o){var i=o.html();return function(o,a,s){var l=n.$current,u=T(o,s,a,r),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:i);var f=e(a.contents());if(c.$$controller){c.$scope=o,c.$element=a;var d=t(c.$$controller,c);c.$$controllerAs&&(o[c.$$controllerAs]=d),a.data("$ngControllerController",d),a.children().data("$ngControllerController",d)}f(o)}}}}}function T(e,t,n,r){var o=r(t.uiView||t.name||"")(e),i=n.inheritedData("$uiView");return o.indexOf("@")>=0?o:o+"@"+(i?i.state.name:"")}function O(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function A(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function N(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function k(e,t,n,r,o){return function(i){var a=i.which||i.button,s=o();if(!(a>1||i.ctrlKey||i.metaKey||i.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});i.preventDefault();var u=r.isAnchor&&!s.href?1:0;i.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function _(e,t){return{relative:A(e)||t.$current,inherit:!0}}function M(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,i,a){var s=O(i.uiSref,e.current.name),l={state:s.state,href:null,params:null},u=N(o),c=a[1]||a[0];l.options=V(_(o,e),i.uiSrefOpts?r.$eval(i.uiSrefOpts):{});var f=function(n){n&&(l.params=t.copy(n)),l.href=e.href(s.state,l.params,l.options),c&&c.$$addStateInfo(s.state,l.params),null!==l.href&&i.$set(u.attr,l.href)};s.paramExpr&&(r.$watch(s.paramExpr,function(e){e!==l.params&&f(e)},!0),l.params=t.copy(r.$eval(s.paramExpr))),f(),u.clickable&&o.bind("click",k(o,e,n,u,function(){return l}))}}}function D(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,o,i){function a(t){f.state=t[0],f.params=t[1],f.options=t[2],f.href=e.href(f.state,f.params,f.options),l&&l.$$addStateInfo(f.state,f.params),f.href&&o.$set(s.attr,f.href)}var s=N(r),l=i[1]||i[0],u=[o.uiState,o.uiStateParams||null,o.uiStateOpts||null],c="["+u.map(function(e){return e||"null"}).join(", ")+"]",f={state:null,params:null,options:null,href:null};n.$watch(c,a,!0),a(n.$eval(c)),s.clickable&&r.bind("click",k(r,e,t,s,function(){return f}))}}}function I(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,o,i){function a(t,n,o){var i=e.get(t,A(r)),a=s(t,n);g.push({state:i||{name:t},params:n,hash:a}),m[a]=o}function s(e,n){if(!B(e))throw new Error("state should be a string");return H(n)?e+q(n):(n=t.$eval(n),H(n)?e+q(n):e)}function l(){for(var e=0;e<g.length;e++)f(g[e].state,g[e].params)?u(r,m[g[e].hash]):c(r,m[g[e].hash]),d(g[e].state,g[e].params)?u(r,p):c(r,p)}function u(e,t){i(function(){e.addClass(t)})}function c(e,t){e.removeClass(t)}function f(t,n){return e.includes(t.name,n)}function d(t,n){return e.is(t.name,n)}var p,h,g=[],m={};p=n(o.uiSrefActiveEq||"",!1)(t);try{h=t.$eval(o.uiSrefActive)}catch(v){}h=h||n(o.uiSrefActive||"",!1)(t),H(h)&&U(h,function(n,r){if(B(n)){var o=O(n,e.current.name);a(o.state,t.$eval(o.paramExpr),r)}}),this.$$addStateInfo=function(e,t){H(h)&&g.length>0||(a(e,t,h),l())},t.$on("$stateChangeSuccess",l),l()}]}}function F(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function R(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}var L=t.isDefined,P=t.isFunction,B=t.isString,H=t.isObject,j=t.isArray,U=t.forEach,V=t.extend,K=t.copy,q=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var G;v.prototype.concat=function(e,t){var n={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,V(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),o=h(r,t);return h(o,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var o,i,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var f,d;for(o=0;u>o;o++){for(a=s[o],f=this.params[a],d=r[o+1],i=0;i<f.replace.length;i++)f.replace[i].from===d&&(d=f.replace[i].to);d&&f.array===!0&&(d=n(d)),L(d)&&(d=f.type.decode(d)),c[a]=f.value(d)}for(;l>o;o++){for(a=s[o],c[a]=this.params[a].value(t[a]),f=this.params[a],d=t[a],i=0;i<f.replace.length;i++)f.replace[i].from===d&&(d=f.replace[i].to);L(d)&&(d=f.type.decode(d)),c[a]=f.value(d)}return c},v.prototype.parameters=function(e){return L(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),o=this.params;if(!this.validates(e))return null;var i,a=!1,s=n.length-1,l=r.length,u=n[0];for(i=0;l>i;i++){var c=s>i,f=r[i],d=o[f],p=d.value(e[f]),g=d.isOptional&&d.type.equals(d.value(),p),m=!!g&&d.squash,v=d.type.encode(p);if(c){var $=n[i+1],b=i+1===s;if(m===!1)null!=v&&(u+=j(v)?h(v,t).join("-"):encodeURIComponent(v)),u+=$;else if(m===!0){var y=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=$.match(y)[1]}else B(m)&&(u+=m+$);b&&d.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==v||g&&m!==!1)continue;if(j(v)||(v=[v]),0===v.length)continue;v=h(v,encodeURIComponent).join("&"+f+"="),u+=(a?"&":"?")+(f+"="+v),a=!0}}return u},$.prototype.is=function(e,t){return!0},$.prototype.encode=function(e,t){return e},$.prototype.decode=function(e,t){return e},$.prototype.equals=function(e,t){return e==t},$.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},$.prototype.pattern=/.*/,$.prototype.toString=function(){return"{Type:"+this.name+"}"},$.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},$.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function o(e){return j(e)?e:L(e)?[e]:[]}function i(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){if(j(n)&&0===n.length)return n;n=o(n);var r=h(n,e);return t===!0?0===p(r,a).length:i(r)}}function l(e){return function(t,n){var r=o(t),i=o(n);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],i[a]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=l(r(e,"equals")),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),y.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",y),E.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",E),w.$inject=[],t.module("ui.router.state").provider("$view",w),t.module("ui.router.state").provider("$uiViewScroll",C);var W=t.version.major,z=t.version.minor;S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],x.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",x),M.$inject=["$state","$timeout"],D.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",M).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",D),F.$inject=["$state"],R.$inject=["$state"],t.module("ui.router.state").filter("isState",F).filter("includedByState",R)}(window,window.angular),function(e,t){"use strict";function n(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var r=t.$$minErr("$resource"),o=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/\[[^\]]*][^\/]*/,i=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,l,u){function c(e,t){this.template=e,this.defaults=h({},i.defaults,t),this.urlParams={}}function f(e,y,E,w){function C(e,n){var i={};return n=h({},y,n),p(n,function(n,a){$(n)&&(n=n(e));var s;if(n&&n.charAt&&"@"===n.charAt(0)){s=e;var l=n.substr(1);if(null==l||""===l||"hasOwnProperty"===l||!o.test("."+l))throw r("badmember",l);for(var l=l.split("."),u=0,c=l.length;u<c&&t.isDefined(s);u++){var f=l[u];s=null!==s?s[f]:void 0}}else s=n;i[a]=s}),i}function S(e){return e.resource}function x(e){n(e||{},this)}var T=new c(e,w);return E=h({},i.defaults.actions,E),x.prototype.toJSON=function(){var e=h({},this);return delete e.$promise,delete e.$resolved,e},p(E,function(e,t){var o=/^(POST|PUT|PATCH)$/i.test(e.method),i=e.timeout,c=v(e.cancellable)?e.cancellable:T.defaults.cancellable;i&&!b(i)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,i=null),x[t]=function(s,f,v,b){function y(e){P["catch"](d),N.resolve(e)}var E,w,O,A={};switch(arguments.length){case 4:O=b,w=v;case 3:case 2:if(!$(f)){A=s,E=f,w=v;break}if($(s)){w=s,O=f;break}w=f,O=v;case 1:$(s)?w=s:o?E=s:A=s;break;case 0:break;default:throw r("badargs",arguments.length)}var N,k,_=this instanceof x,M=_?E:e.isArray?[]:new x(E),D={},I=e.interceptor&&e.interceptor.response||S,F=e.interceptor&&e.interceptor.responseError||void 0,R=!!O,L=!!F;p(e,function(e,t){switch(t){default:D[t]=g(e);case"params":case"isArray":case"interceptor":case"cancellable":}}),!_&&c&&(N=l.defer(),D.timeout=N.promise,i&&(k=u(N.resolve,i))),o&&(D.data=E),T.setUrlParams(D,h({},C(E,e.params||{}),A),e.url);var P=a(D).then(function(o){var i=o.data;if(i){if(m(i)!==!!e.isArray)throw r("badcfg",t,e.isArray?"array":"object",m(i)?"array":"object",D.method,D.url);if(e.isArray)M.length=0,p(i,function(e){"object"==typeof e?M.push(new x(e)):M.push(e)});else{var a=M.$promise;n(i,M),M.$promise=a}}return o.resource=M,o}),P=P["finally"](function(){M.$resolved=!0,!_&&c&&(M.$cancelRequest=d,u.cancel(k),N=k=D.timeout=null)}),P=P.then(function(e){var t=I(e);return(w||d)(t,e.headers,e.status,e.statusText),t},R||L?function(e){return R&&O(e),L?F(e):l.reject(e)}:void 0);return R&&!L&&P["catch"](d),_?P:(M.$promise=P,M.$resolved=!1,c&&(M.$cancelRequest=y),M)},x.prototype["$"+t]=function(e,n,r){return $(e)&&(r=n,n=e,e={}),e=x[t].call(this,e,this,n,r),e.$promise||e}}),x.bind=function(t){return t=h({},y,t),f(e,t,E,w)},x}var d=t.noop,p=t.forEach,h=t.extend,g=t.copy,m=t.isArray,v=t.isDefined,$=t.isFunction,b=t.isNumber,y=t.$$encodeUriQuery,E=t.$$encodeUriSegment;return c.prototype={setUrlParams:function(t,n,o){var i,a,s=this,l=o||s.template,u="",c=s.urlParams=Object.create(null);p(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw r("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(c[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(e,function(e){return u=e,""}),n=n||{},p(s.urlParams,function(e,t){i=n.hasOwnProperty(t)?n[t]:s.defaults[t],v(i)&&null!==i?(a=e.isQueryParamValue?y(i,!0):E(i),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return a+t})):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u+l.replace(/\/\\\./,"/."),p(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},f}]})}(window,window.angular),!function(e,t){"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(e){"use strict";var t=e.module("ngDialog",[]),n=e.element,r=e.isDefined,o=(document.body||document.documentElement).style,i=r(o.animation)||r(o.WebkitAnimation)||r(o.MozAnimation)||r(o.MsAnimation)||r(o.OAnimation),a="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",s="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",l="ngdialog-disabled-animation",u={html:!1,body:!1},c={},f=[],d=!1,p=!1;return t.provider("ngDialog",function(){var t=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(e){u.html=e||!1},this.setForceBodyReload=function(e){u.body=e||!1},this.setDefaults=function(n){e.extend(t,n)},this.setOpenOnePerName=function(e){p=e||!1};var r,o=0,h=0,g={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(m,v,$,b,y,E,w,C,S,x){var T=[],O={onDocumentKeydown:function(e){27===e.keyCode&&A.close("$escape")},activate:function(e){var t=e.data("$ngDialogOptions");t.trapFocus&&(e.on("keydown",O.onTrapFocusKeydown),T.body.on("keydown",O.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",O.onTrapFocusKeydown),T.body.off("keydown",O.onTrapFocusKeydown)},deactivateAll:function(t){e.forEach(t,function(t){var n=e.element(t);O.deactivate(n)})},setBodyPadding:function(e){var t=parseInt(T.body.css("padding-right")||0,10);T.body.css("padding-right",t+e+"px"),T.body.data("ng-dialog-original-padding",t),E.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=T.body.data("ng-dialog-original-padding");e?T.body.css("padding-right",e+"px"):T.body.css("padding-right",""),E.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var n=e.data("$ngDialogOptions"),o=e.attr("id"),s=c[o];if(s){if("undefined"!=typeof C.Hammer){var l=s.hammerTime;l.off("tap",r),l.destroy&&l.destroy(),delete s.hammerTime}else e.unbind("click");1===h&&T.body.unbind("keydown",O.onDocumentKeydown),e.hasClass("ngdialog-closing")||(h-=1);var u=e.data("$ngDialogPreviousFocus");u&&u.focus&&u.focus(),E.$broadcast("ngDialog.closing",e,t),h=h<0?0:h,i&&!n.disableAnimation?(s.$destroy(),e.unbind(a).bind(a,function(){O.closeDialogElement(e,t)}).addClass("ngdialog-closing")):(s.$destroy(),O.closeDialogElement(e,t)),g[o]&&(g[o].resolve({id:o,value:t,$dialog:e,remainingDialogs:h}),delete g[o]),c[o]&&delete c[o],f.splice(f.indexOf(o),1),f.length||(T.body.unbind("keydown",O.onDocumentKeydown),d=!1)}},closeDialogElement:function(e,t){var n=e.data("$ngDialogOptions");e.remove(),0===h&&(T.html.removeClass(n.bodyClassName),T.body.removeClass(n.bodyClassName),O.resetBodyPadding()),E.$broadcast("ngDialog.closed",e,t)},closeDialog:function(t,n){var r=t.data("$ngDialogPreCloseCallback");if(r&&e.isFunction(r)){var o=r.call(t,n);if(e.isObject(o))o.closePromise?o.closePromise.then(function(){O.performCloseDialog(t,n)},function(){return!1}):o.then(function(){O.performCloseDialog(t,n)},function(){return!1});else{if(o===!1)return!1;O.performCloseDialog(t,n)}}else O.performCloseDialog(t,n)},onTrapFocusKeydown:function(t){var n,r=e.element(t.currentTarget);if(r.hasClass("ngdialog"))n=r;else if(n=O.getActiveDialog(),null===n)return;var o=9===t.keyCode,i=t.shiftKey===!0;o&&O.handleTab(n,t,i)},handleTab:function(e,t,n){var r=O.getFocusableElements(e);if(0===r.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var o=document.activeElement,i=Array.prototype.indexOf.call(r,o),a=i===-1,s=0===i,l=i===r.length-1,u=!1;n?(a||s)&&(r[r.length-1].focus(),u=!0):(a||l)&&(r[0].focus(),u=!0),u&&(t.preventDefault(),t.stopPropagation())},autoFocus:function(e){var t=e[0],r=t.querySelector("*[autofocus]");if(null===r||(r.focus(),document.activeElement!==r)){var o=O.getFocusableElements(e);if(o.length>0)return void o[0].focus();var i=O.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(i.length>0){var a=i[0];n(a).attr("tabindex","-1").css("outline","0"),a.focus()}}},getFocusableElements:function(e){var t=e[0],n=t.querySelectorAll(s),r=O.filterTabbableElements(n);return O.filterVisibleElements(r)},filterTabbableElements:function(e){for(var t=[],r=0;r<e.length;r++){var o=e[r];"-1"!==n(o).attr("tabindex")&&t.push(o)}return t},filterVisibleElements:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];(r.offsetWidth>0||r.offsetHeight>0)&&t.push(r)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:n(e[e.length-1])},applyAriaAttributes:function(e,t){if(t.ariaAuto){if(!t.ariaRole){var n=O.getFocusableElements(e).length>0?"dialog":"alertdialog";t.ariaRole=n}t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")}t.ariaRole&&e.attr("role",t.ariaRole),O.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),O.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,r,o){if(r&&e.attr(t,r),o){var i=e.attr("id"),a=e[0].querySelector(o);if(!a)return;var s=i+"-"+t;return n(a).attr("id",s),e.attr(t,s),s}},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(t){return!1}},getRouterLocationEventName:function(){return O.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},A={__PRIVATE__:O,open:function(i){function a(t,n){var n=n||{};return n.headers=n.headers||{},e.extend(n.headers,{Accept:"text/html"}),E.$broadcast("ngDialog.templateLoading",t),y.get(t,n).then(function(e){return E.$broadcast("ngDialog.templateLoaded",t),e.data||""})}function s(t){return t?e.isString(t)&&m.plain?t:"boolean"!=typeof m.cache||m.cache?a(t,{cache:v}):a(t,{cache:!1}):"Empty template"}var u=null;if(i=i||{},!(p&&i.name&&(u=i.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(u)))){var m=e.copy(t),N=++o;u=u||"ngdialog"+N,f.push(u),"undefined"!=typeof m.data&&("undefined"==typeof i.data&&(i.data={}),i.data=e.merge(e.copy(m.data),i.data)),e.extend(m,i);var k;g[u]=k=b.defer();var _;c[u]=_=e.isObject(m.scope)?m.scope.$new():E.$new();var M,D,I,F=e.extend({},m.resolve);return e.forEach(F,function(t,n){F[n]=e.isString(t)?x.get(t):x.invoke(t,null,null,n)}),b.all({template:s(m.template||m.templateUrl),locals:b.all(F)}).then(function(t){var o=t.template,i=t.locals;m.showClose&&(o+='<div class="ngdialog-close"></div>');var a=m.overlay?"":" ngdialog-no-overlay";if(M=n('<div id="'+u+'" class="ngdialog'+a+'"></div>'),M.html(m.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+o+"</div>":'<div class="ngdialog-content" role="document">'+o+"</div>"),M.data("$ngDialogOptions",m),_.ngDialogId=u,m.data&&e.isString(m.data)){var s=m.data.replace(/^\s*/,"")[0];_.ngDialogData="{"===s||"["===s?e.fromJson(m.data):new String(m.data),_.ngDialogData.ngDialogId=u}else m.data&&e.isObject(m.data)&&(_.ngDialogData=m.data,_.ngDialogData.ngDialogId=u);if(m.className&&M.addClass(m.className),m.appendClassName&&M.addClass(m.appendClassName),m.width&&(I=M[0].querySelector(".ngdialog-content"),e.isString(m.width)?I.style.width=m.width:I.style.width=m.width+"px"),m.height&&(I=M[0].querySelector(".ngdialog-content"),e.isString(m.height)?I.style.height=m.height:I.style.height=m.height+"px"),m.disableAnimation&&M.addClass(l),D=m.appendTo&&e.isString(m.appendTo)?e.element(document.querySelector(m.appendTo)):T.body,O.applyAriaAttributes(M,m),m.preCloseCallback){var c;e.isFunction(m.preCloseCallback)?c=m.preCloseCallback:e.isString(m.preCloseCallback)&&_&&(e.isFunction(_[m.preCloseCallback])?c=_[m.preCloseCallback]:_.$parent&&e.isFunction(_.$parent[m.preCloseCallback])?c=_.$parent[m.preCloseCallback]:E&&e.isFunction(E[m.preCloseCallback])&&(c=E[m.preCloseCallback])),c&&M.data("$ngDialogPreCloseCallback",c)}if(_.closeThisDialog=function(e){O.closeDialog(M,e)},m.controller&&(e.isString(m.controller)||e.isArray(m.controller)||e.isFunction(m.controller))){var f;m.controllerAs&&e.isString(m.controllerAs)&&(f=m.controllerAs);var p=S(m.controller,e.extend(i,{$scope:_,$element:M}),!0,f);m.bindToController&&e.extend(p.instance,{ngDialogId:_.ngDialogId,ngDialogData:_.ngDialogData,closeThisDialog:_.closeThisDialog,confirm:_.confirm}),"function"==typeof p?M.data("$ngDialogControllerController",p()):M.data("$ngDialogControllerController",p)}if(w(function(){var e=document.querySelectorAll(".ngdialog");O.deactivateAll(e),$(M)(_);var t=C.innerWidth-T.body.prop("clientWidth");T.html.addClass(m.bodyClassName),T.body.addClass(m.bodyClassName);var n=t-(C.innerWidth-T.body.prop("clientWidth"));n>0&&O.setBodyPadding(n),D.append(M),O.activate(M),m.trapFocus&&O.autoFocus(M),m.name?E.$broadcast("ngDialog.opened",{dialog:M,name:m.name}):E.$broadcast("ngDialog.opened",M)}),d||(T.body.bind("keydown",O.onDocumentKeydown),d=!0),m.closeByNavigation){var g=O.getRouterLocationEventName();E.$on(g,function(e){O.closeDialog(M)===!1&&e.preventDefault()})}if(m.preserveFocus&&M.data("$ngDialogPreviousFocus",document.activeElement),r=function(e){var t=!!m.closeByDocument&&n(e.target).hasClass("ngdialog-overlay"),r=n(e.target).hasClass("ngdialog-close");(t||r)&&A.close(M.attr("id"),r?"$closeButton":"$document")},"undefined"!=typeof C.Hammer){var v=_.hammerTime=C.Hammer(M[0]);v.on("tap",r)}else M.bind("click",r);return h+=1,A}),{id:u,closePromise:k.promise,close:function(e){O.closeDialog(M,e)}}}},openConfirm:function(r){var o=b.defer(),i=e.copy(t);r=r||{},"undefined"!=typeof i.data&&("undefined"==typeof r.data&&(r.data={}),r.data=e.merge(e.copy(i.data),r.data)),e.extend(i,r),i.scope=e.isObject(i.scope)?i.scope.$new():E.$new(),i.scope.confirm=function(e){o.resolve(e);var t=n(document.getElementById(a.id));O.performCloseDialog(t,e)};var a=A.open(i);if(a)return a.closePromise.then(function(e){return e?o.reject(e.value):o.reject()}),o.promise},isOpen:function(e){var t=n(document.getElementById(e));return t.length>0},close:function(e,t){var r=n(document.getElementById(e));if(r.length)O.closeDialog(r,t);else if("$escape"===e){var o=f[f.length-1];r=n(document.getElementById(o)),r.data("$ngDialogOptions").closeByEscape&&O.closeDialog(r,"$escape")}else A.closeAll(t);return A},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),r=t.length-1;r>=0;r--){var o=t[r];O.closeDialog(n(o),e)}},getOpenDialogs:function(){return f},getDefaults:function(){return t}};return e.forEach(["html","body"],function(e){if(T[e]=m.find(e),u[e]){var t=O.getRouterLocationEventName();E.$on(t,function(){T[e]=m.find(e)})}}),A}]}),t.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,r,o){r.on("click",function(r){r.preventDefault();var i=e.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";e.isDefined(o.ngDialogClosePrevious)&&t.close(o.ngDialogClosePrevious);var a=t.getDefaults();t.open({template:o.ngDialog,className:o.ngDialogClass||a.className,appendClassName:o.ngDialogAppendClass,controller:o.ngDialogController,controllerAs:o.ngDialogControllerAs,bindToController:o.ngDialogBindToController,disableAnimation:o.ngDialogDisableAnimation,scope:i,data:o.ngDialogData,showClose:"false"!==o.ngDialogShowClose&&("true"===o.ngDialogShowClose||a.showClose),closeByDocument:"false"!==o.ngDialogCloseByDocument&&("true"===o.ngDialogCloseByDocument||a.closeByDocument),closeByEscape:"false"!==o.ngDialogCloseByEscape&&("true"===o.ngDialogCloseByEscape||a.closeByEscape),overlay:"false"!==o.ngDialogOverlay&&("true"===o.ngDialogOverlay||a.overlay),preCloseCallback:o.ngDialogPreCloseCallback||a.preCloseCallback,bodyClassName:o.ngDialogBodyClass||a.bodyClassName})})}}}]),t}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){var t=function(n,r){this.id=++e.FE.ID,this.opts=e.extend(!0,{},e.extend({},t.DEFAULTS,"object"==typeof r&&r));var o=JSON.stringify(this.opts);e.FE.OPTS_MAPPING[o]=e.FE.OPTS_MAPPING[o]||this.id,this.sid=e.FE.OPTS_MAPPING[o],e.FE.SHARED[this.sid]=e.FE.SHARED[this.sid]||{},this.shared=e.FE.SHARED[this.sid],this.shared.count=(this.shared.count||0)+1,
this.$oel=e(n),this.$oel.data("froala.editor",this),this.o_doc=n.ownerDocument,this.o_win="defaultView"in this.o_doc?this.o_doc.defaultView:this.o_doc.parentWindow;var i=e(this.o_win).scrollTop();this.$oel.on("froala.doInit",e.proxy(function(){this.$oel.off("froala.doInit"),this.doc=this.$el.get(0).ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.$doc=e(this.doc),this.$win=e(this.win),this.opts.pluginsEnabled||(this.opts.pluginsEnabled=Object.keys(e.FE.PLUGINS)),this.opts.initOnClick?(this.load(e.FE.MODULES),this.$el.on("touchstart.init",function(){e(this).data("touched",!0)}),this.$el.on("touchmove.init",function(){e(this).removeData("touched")}),this.$el.on("mousedown.init touchend.init dragenter.init focus.init",e.proxy(function(t){if("touchend"==t.type&&!this.$el.data("touched"))return!0;if(1===t.which||!t.which){this.$el.off("mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init"),this.load(e.FE.MODULES),this.load(e.FE.PLUGINS);var n=t.originalEvent&&t.originalEvent.originalTarget;n&&"IMG"==n.tagName&&e(n).trigger("mousedown"),"undefined"==typeof this.ul&&this.destroy(),"touchend"==t.type&&this.image&&t.originalEvent&&t.originalEvent.target&&e(t.originalEvent.target).is("img")&&setTimeout(e.proxy(function(){this.image.edit(e(t.originalEvent.target))},this),100),this.ready=!0,this.events.trigger("initialized")}},this))):(this.load(e.FE.MODULES),this.load(e.FE.PLUGINS),e(this.o_win).scrollTop(i),"undefined"==typeof this.ul&&this.destroy(),this.ready=!0,this.events.trigger("initialized"))},this)),this._init()};t.DEFAULTS={initOnClick:!1,pluginsEnabled:null},t.MODULES={},t.PLUGINS={},t.VERSION="2.4.2",t.INSTANCES=[],t.OPTS_MAPPING={},t.SHARED={},t.ID=0,t.prototype._init=function(){var t=this.$oel.prop("tagName"),n=e.proxy(function(){"TEXTAREA"!=t&&(this._original_html=this._original_html||this.$oel.html()),this.$box=this.$box||this.$oel,this.opts.fullPage&&(this.opts.iframe=!0),this.opts.iframe?(this.$iframe=e('<iframe src="about:blank" frameBorder="0">'),this.$wp=e("<div></div>"),this.$box.html(this.$wp),this.$wp.append(this.$iframe),this.$iframe.get(0).contentWindow.document.open(),this.$iframe.get(0).contentWindow.document.write("<!DOCTYPE html>"),this.$iframe.get(0).contentWindow.document.write("<html><head></head><body></body></html>"),this.$iframe.get(0).contentWindow.document.close(),this.$el=this.$iframe.contents().find("body"),this.el=this.$el.get(0),this.$head=this.$iframe.contents().find("head"),this.$html=this.$iframe.contents().find("html"),this.iframe_document=this.$iframe.get(0).contentWindow.document,this.$oel.trigger("froala.doInit")):(this.$el=e("<div></div>"),this.el=this.$el.get(0),this.$wp=e("<div></div>").append(this.$el),this.$box.html(this.$wp),this.$oel.trigger("froala.doInit"))},this),r=e.proxy(function(){this.$box=e("<div>"),this.$oel.before(this.$box).hide(),this._original_html=this.$oel.val(),this.$oel.parents("form").on("submit."+this.id,e.proxy(function(){this.events.trigger("form.submit")},this)),this.$oel.parents("form").on("reset."+this.id,e.proxy(function(){this.events.trigger("form.reset")},this)),n()},this),o=e.proxy(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.$el.attr("contenteditable",!0).css("outline","none").css("display","inline-block"),this.opts.multiLine=!1,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),i=e.proxy(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),a=e.proxy(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.on("click.popup",function(e){e.preventDefault()}),this.$oel.trigger("froala.doInit")},this);this.opts.editInPopup?a():"TEXTAREA"==t?r():"A"==t?o():"IMG"==t?i():"BUTTON"==t||"INPUT"==t?(this.opts.editInPopup=!0,this.opts.toolbarInline=!1,a()):n()},t.prototype.load=function(t){for(var n in t)if(t.hasOwnProperty(n)){if(this[n])continue;if(e.FE.PLUGINS[n]&&this.opts.pluginsEnabled.indexOf(n)<0)continue;if(this[n]=new t[n](this),this[n]._init&&(this[n]._init(),this.opts.initOnClick&&"core"==n))return!1}},t.prototype.destroy=function(){this.shared.count--,this.events.$off();var t=this.html.get();if(this.events.trigger("destroy",[],!0),this.events.trigger("shared.destroy",void 0,!0),0===this.shared.count){for(var n in this.shared)this.shared.hasOwnProperty(n)&&(null==this.shared[n],e.FE.SHARED[this.sid][n]=null);e.FE.SHARED[this.sid]={}}this.$oel.parents("form").off("."+this.id),this.$oel.off("click.popup"),this.$oel.removeData("froala.editor"),this.$oel.off("froalaEditor"),this.core.destroy(t),e.FE.INSTANCES.splice(e.FE.INSTANCES.indexOf(this),1)},e.fn.froalaEditor=function(n){for(var r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);if("string"==typeof n){var i=[];return this.each(function(){var t=e(this),o=t.data("froala.editor");if(o){var a,s;if(n.indexOf(".")>0&&o[n.split(".")[0]]?(o[n.split(".")[0]]&&(a=o[n.split(".")[0]]),s=n.split(".")[1]):(a=o,s=n.split(".")[0]),!a[s])return e.error("Method "+n+" does not exist in Froala Editor.");var l=a[s].apply(o,r.slice(1));void 0===l?i.push(this):0===i.length&&i.push(l)}}),1==i.length?i[0]:i}if("object"==typeof n||!n)return this.each(function(){var r=e(this).data("froala.editor");if(!r){var o=this;new t(o,n)}})},e.fn.froalaEditor.Constructor=t,e.FroalaEditor=t,e.FE=t,e.FE.XS=0,e.FE.SM=1,e.FE.MD=2,e.FE.LG=3,e.FE.MODULES.helpers=function(t){function n(){var e,t,n=-1;return"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1))),n}function r(){var e={},t=n();if(t>0)e.msie=!0;else{var r=navigator.userAgent.toLowerCase(),o=/(edge)[ \/]([\w.]+)/.exec(r)||/(chrome)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[],i={browser:o[1]||"",version:o[2]||"0"};o[1]&&(e[i.browser]=!0),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0)}return e.msie&&(e.version=t),e}function o(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&!s()}function i(){return/(Android)/g.test(navigator.userAgent)&&!s()}function a(){return/(Blackberry)/g.test(navigator.userAgent)}function s(){return/(Windows Phone)/gi.test(navigator.userAgent)}function l(){return i()||o()||a()}function u(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}function c(e){return parseInt(e,10)||0}function f(){var t=e('<div class="fr-visibility-helper"></div>').appendTo("body"),n=c(t.css("margin-left"));return t.remove(),n}function d(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function p(e){if(!/^(https?:|ftps?:|)\/\//i.test(e))return!1;e=String(e).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var t=/(http|ftp|https):\/\/[a-z\u00a1-\uffff0-9{}]+(\.[a-z\u00a1-\uffff0-9{}]*)*([a-z\u00a1-\uffff0-9.,@?^=%&amp;:\/~+#-_{}]*[a-z\u00a1-\uffff0-9@?^=%&amp;\/~+#-_{}])?/gi;return t.test(e)}function h(e){if(/^(https?:|ftps?:|)\/\//i.test(e)){if(!p(e)&&!p("http:"+e))return""}else e=encodeURIComponent(e).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/gi,"mailto:").replace(/file%3A/gi,"file:").replace(/sms%3A/gi,"sms:").replace(/tel%3A/gi,"tel:").replace(/notes%3A/gi,"notes:").replace(/data%3Aimage/gi,"data:image").replace(/blob%3A/gi,"blob:").replace(/webkit-fake-url%3A/gi,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%7B/g,"{").replace(/%7D/g,"}");return e}function g(e){return e&&!e.propertyIsEnumerable("length")&&"object"==typeof e&&"number"==typeof e.length}function m(e){function t(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}try{return e&&"transparent"!==e?/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+t(e[1])+t(e[2])+t(e[3])).toUpperCase()):""}catch(n){return null}}function v(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?"rgb("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+")":""}function $(t){var n=(t.css("text-align")||"").replace(/-(.*)-/g,"");if(["left","right","justify","center"].indexOf(n)<0){if(!S){var r=e('<div dir="auto" style="text-align: initial; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>');e("body").append(r);var o=r.find("#s1").get(0).getBoundingClientRect().left,i=r.find("#s2").get(0).getBoundingClientRect().left;r.remove(),S=o<i?"left":"right"}n=S}return n}function b(){return null==x&&(x=navigator.platform.toUpperCase().indexOf("MAC")>=0),x}function y(){function e(e,t){var r=e[t];e[t]=function(e){var t,i=!1,a=!1;if(e.match(o)){e=e.replace(o,""),this.parentNode||(n.appendChild(this),a=!0);var s=this.parentNode;return this.id||(this.id="rootedQuerySelector_id_"+(new Date).getTime(),i=!0),t=r.call(s,"#"+this.id+" "+e),i&&(this.id=""),a&&n.removeChild(this),t}return r.call(this,e)}}var n=t.o_doc.createElement("div");try{n.querySelectorAll(":scope *")}catch(r){var o=/^\s*:scope/gi;e(Element.prototype,"querySelector"),e(Element.prototype,"querySelectorAll")}}function E(){return t.o_win.pageYOffset?t.o_win.pageYOffset:t.o_doc.documentElement&&t.o_doc.documentElement.scrollTop?t.o_doc.documentElement.scrollTop:t.o_doc.body.scrollTop?t.o_doc.body.scrollTop:0}function w(){return t.o_win.pageXOffset?t.o_win.pageXOffset:t.o_doc.documentElement&&t.o_doc.documentElement.scrollLeft?t.o_doc.documentElement.scrollLeft:t.o_doc.body.scrollLeft?t.o_doc.body.scrollLeft:0}function C(){t.browser=r(),y()}var S,x=null;return{_init:C,isIOS:o,isMac:b,isAndroid:i,isBlackberry:a,isWindowsPhone:s,isMobile:l,requestAnimationFrame:u,getPX:c,screenSize:f,isTouch:d,sanitizeURL:h,isArray:g,RGBToHex:m,HEXtoRGB:v,isURL:p,getAlignment:$,scrollTop:E,scrollLeft:w}},e.FE.MODULES.events=function(t){function n(e,t,n){$(e,t,n)}function r(){n(t.$el,"cut copy paste beforepaste",function(e){E(e.type,[e])})}function o(){n(t.$el,"click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",function(e){E(e.type,[e])}),v("mousedown",function(){for(var n=0;n<e.FE.INSTANCES.length;n++)e.FE.INSTANCES[n]!=t&&e.FE.INSTANCES[n].popups&&e.FE.INSTANCES[n].popups.areVisible()&&e.FE.INSTANCES[n].$el.find(".fr-marker").remove()})}function i(){n(t.$el,"keydown keypress keyup input",function(e){E(e.type,[e])})}function a(){n(t.$win,t._mousedown,function(e){E("window.mousedown",[e]),p()}),n(t.$win,t._mouseup,function(e){E("window.mouseup",[e])}),n(t.$win,"cut copy keydown keyup touchmove touchend",function(e){E("window."+e.type,[e])})}function s(){n(t.$doc,"dragend drop",function(e){E("document."+e.type,[e])})}function l(n){if("undefined"==typeof n&&(n=!0),!t.$wp)return!1;if(t.helpers.isIOS()&&t.$win.get(0).focus(),!t.core.hasFocus()&&n){var r=t.$win.scrollTop();return t.browser.msie&&t.$box&&t.$box.css("position","fixed"),t.$el.focus(),t.browser.msie&&t.$box&&t.$box.css("position",""),r!=t.$win.scrollTop()&&t.$win.scrollTop(r),!1}if(!t.core.hasFocus()||t.$el.find(".fr-marker").length>0)return!1;var o=t.selection.info(t.el);if(o.atStart&&t.selection.isCollapsed()&&null!=t.html.defaultTag()){var i=t.markers.insert();if(i&&!t.node.blockParent(i)){e(i).remove();var a=t.$el.find(t.html.blockTagsQuery()).get(0);a&&(e(a).prepend(e.FE.MARKERS),t.selection.restore())}else i&&e(i).remove()}}function u(){n(t.$el,"focus",function(e){g()&&(l(!1),A===!1&&E(e.type,[e]))}),n(t.$el,"blur",function(e){g()&&A===!0&&(E(e.type,[e]),p())}),v("focus",function(){A=!0}),v("blur",function(){A=!1})}function c(){t.helpers.isMobile()?(t._mousedown="touchstart",t._mouseup="touchend",t._move="touchmove",t._mousemove="touchmove"):(t._mousedown="mousedown",t._mouseup="mouseup",t._move="",t._mousemove="mousemove")}function f(n){var r=e(n.currentTarget);return t.edit.isDisabled()||t.node.hasClass(r.get(0),"fr-disabled")?(n.preventDefault(),!1):"mousedown"===n.type&&1!==n.which||(t.helpers.isMobile()||n.preventDefault(),(t.helpers.isAndroid()||t.helpers.isWindowsPhone())&&0===r.parents(".fr-dropdown-menu").length&&(n.preventDefault(),n.stopPropagation()),r.addClass("fr-selected"),void t.events.trigger("commands.mousedown",[r]))}function d(n,r){var o=e(n.currentTarget);if(t.edit.isDisabled()||t.node.hasClass(o.get(0),"fr-disabled"))return n.preventDefault(),!1;if("mouseup"===n.type&&1!==n.which)return!0;if(!t.node.hasClass(o.get(0),"fr-selected"))return!0;if("touchmove"!=n.type){if(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!t.node.hasClass(o.get(0),"fr-selected"))return e(".fr-selected").removeClass("fr-selected"),!1;if(e(".fr-selected").removeClass("fr-selected"),o.data("dragging")||o.attr("disabled"))return o.removeData("dragging"),!1;var i=o.data("timeout");i&&(clearTimeout(i),o.removeData("timeout")),r.apply(t,[n])}else o.data("timeout")||o.data("timeout",setTimeout(function(){o.data("dragging",!0)},100))}function p(){T=!0}function h(){T=!1}function g(){return T}function m(e,n,r){$(e,t._mousedown,n,function(e){t.edit.isDisabled()||f(e)},!0),$(e,t._mouseup+" "+t._move,n,function(e){t.edit.isDisabled()||d(e,r)},!0),$(e,"mousedown click mouseup",n,function(e){t.edit.isDisabled()||e.stopPropagation()},!0),v("window.mouseup",function(){t.edit.isDisabled()||(e.find(n).removeClass("fr-selected"),p())})}function v(e,n,r){var o=e.split(" ");if(o.length>1){for(var i=0;i<o.length;i++)v(o[i],n,r);return!0}"undefined"==typeof r&&(r=!1);var a;a=0!=e.indexOf("shared.")?O[e]=O[e]||[]:t.shared._events[e]=t.shared._events[e]||[],r?a.unshift(n):a.push(n)}function $(e,n,r,o,i){"function"==typeof r&&(i=o,o=r,r=!1);var a=i?t.shared.$_events:N,s=i?t.sid:t.id;r?e.on(n.split(" ").join(".ed"+s+" ")+".ed"+s,r,o):e.on(n.split(" ").join(".ed"+s+" ")+".ed"+s,o),a.indexOf(e.get(0))<0&&a.push(e.get(0))}function b(t,n){for(var r=0;r<t.length;r++)e(t[r]).off(".ed"+n)}function y(){b(N,t.id),N=[],0==t.shared.count&&(b(t.shared.$_events,t.sid),t.shared.$_events=null)}function E(n,r,o){if(!t.edit.isDisabled()||o){var i;if(0!=n.indexOf("shared."))i=O[n];else{if(t.shared.count>0)return!1;i=t.shared._events[n]}var a;if(i)for(var s=0;s<i.length;s++)if(a=i[s].apply(t,r),a===!1)return!1;return a=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],r||[])),a!==!1&&a}}function w(n,r,o){if(!t.edit.isDisabled()||o){var i;if(0!=n.indexOf("shared."))i=O[n];else{if(t.shared.count>0)return!1;i=t.shared._events[n]}var a;if(i)for(var s=0;s<i.length;s++)a=i[s].apply(t,[r]),"undefined"!=typeof a&&(r=a);return a=t.$oel.triggerHandler("froalaEditor."+n,e.merge([t],[r])),"undefined"!=typeof a&&(r=a),r}}function C(){for(var e in O)O.hasOwnProperty(e)&&delete O[e]}function S(){for(var e in t.shared._events)t.shared._events.hasOwnProperty(e)&&delete t.shared._events[e]}function x(){t.shared.$_events=t.shared.$_events||[],t.shared._events={},c(),o(),a(),s(),i(),u(),p(),r(),v("destroy",C),v("shared.destroy",S)}var T,O={},A=!1,N=[];return{_init:x,on:v,trigger:E,bindClick:m,disableBlur:h,enableBlur:p,blurActive:g,focus:l,chainTrigger:w,$on:$,$off:y}},e.FE.MODULES.node=function(t){function n(e){return e&&"IFRAME"!=e.tagName?Array.prototype.slice.call(e.childNodes||[]):[]}function r(t){return!!t&&t.nodeType==Node.ELEMENT_NODE&&e.FE.BLOCK_TAGS.indexOf(t.tagName.toLowerCase())>=0}function o(o,i){if(!o)return!0;if(o.querySelector("table"))return!1;var a=n(o);1==a.length&&r(a[0])&&(a=n(a[0]));for(var s=!1,l=0;l<a.length;l++){var u=a[l];if(!(i&&t.node.hasClass(u,"fr-marker")||u.nodeType==Node.TEXT_NODE&&0==u.textContent.length)){if("BR"!=u.tagName&&(u.textContent||"").replace(/\u200B/gi,"").replace(/\n/g,"").length>0)return!1;if(s)return!1;"BR"==u.tagName&&(s=!0)}}return!(o.querySelectorAll(e.FE.VOID_ELEMENTS.join(",")).length-o.querySelectorAll("br").length||o.querySelector(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)")||o.querySelectorAll(e.FE.BLOCK_TAGS.join(",")).length>1||o.querySelector(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)"))}function i(e){for(;e&&e.parentNode!==t.el&&(!e.parentNode||!t.node.hasClass(e.parentNode,"fr-inner"));)if(e=e.parentNode,r(e))return e;return null}function a(n,o,i){if("undefined"==typeof o&&(o=[]),"undefined"==typeof i&&(i=!0),o.push(t.el),o.indexOf(n.parentNode)>=0||n.parentNode&&t.node.hasClass(n.parentNode,"fr-inner")||n.parentNode&&e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)>=0&&i)return null;for(;o.indexOf(n.parentNode)<0&&n.parentNode&&!t.node.hasClass(n.parentNode,"fr-inner")&&(e.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentNode.tagName)<0||!i)&&(!r(n)||!r(n.parentNode)||!i);)n=n.parentNode;return n}function s(e){var t={},n=e.attributes;if(n)for(var r=0;r<n.length;r++){var o=n[r];t[o.nodeName]=o.value}return t}function l(e){for(var t="",n=s(e),r=Object.keys(n).sort(),o=0;o<r.length;o++){var i=r[o],a=n[i];t+=a.indexOf('"')<0?" "+i+'="'+a+'"':" "+i+"='"+a+"'"}return t}function u(e){for(var t=e.attributes,n=0;n<t.length;n++){var r=t[n];e.removeAttribute(r.nodeName)}}function c(e){return"<"+e.tagName.toLowerCase()+l(e)+">"}function f(e){return"</"+e.tagName.toLowerCase()+">"}function d(e,n){"undefined"==typeof n&&(n=!0);for(var r=e.previousSibling;r&&n&&t.node.hasClass(r,"fr-marker");)r=r.previousSibling;return!r||r.nodeType==Node.TEXT_NODE&&""===r.textContent&&d(r)}function p(e,n){"undefined"==typeof n&&(n=!0);for(var r=e.nextSibling;r&&n&&t.node.hasClass(r,"fr-marker");)r=r.nextSibling;return!r||r.nodeType==Node.TEXT_NODE&&""===r.textContent&&p(r)}function h(t){return t&&t.nodeType==Node.ELEMENT_NODE&&e.FE.VOID_ELEMENTS.indexOf((t.tagName||"").toLowerCase())>=0}function g(e){return!!e&&["UL","OL"].indexOf(e.tagName)>=0}function m(e){return e===t.el}function v(e){return e&&e.nodeType==Node.ELEMENT_NODE&&e.getAttribute("class")&&(e.getAttribute("class")||"").indexOf("fr-deletable")>=0}function $(e){return e===t.doc.activeElement&&(!t.doc.hasFocus||t.doc.hasFocus())&&!!(m(e)||e.type||e.href||~e.tabIndex)}function b(e){return(!e.getAttribute||"false"!=e.getAttribute("contenteditable"))&&["STYLE","SCRIPT"].indexOf(e.tagName)<0}function y(t,n){return t instanceof e&&(t=t.get(0)),t&&t.classList&&t.classList.contains(n)}function E(e){return t.browser.msie?e:{acceptNode:e}}return{isBlock:r,isEmpty:o,blockParent:i,deepestParent:a,rawAttributes:s,attributes:l,clearAttributes:u,openTagString:c,closeTagString:f,isFirstSibling:d,isLastSibling:p,isList:g,isElement:m,contents:n,isVoid:h,hasFocus:$,isEditable:b,isDeletable:v,hasClass:y,filter:E}},e.FE.INVISIBLE_SPACE="&#8203;",e.FE.START_MARKER='<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.END_MARKER='<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",e.FE.MARKERS=e.FE.START_MARKER+e.FE.END_MARKER,e.FE.MODULES.markers=function(t){function n(n,r){return e('<span class="fr-marker" data-id="'+r+'" data-type="'+n+'" style="display: '+(t.browser.safari?"none":"inline-block")+'; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0]}function r(r,o,i){try{var a=r.cloneRange();if(a.collapse(o),a.insertNode(n(o,i)),o===!0&&r.collapsed)for(var s=t.$el.find('span.fr-marker[data-type="true"][data-id="'+i+'"]'),l=s.get(0).nextSibling;l&&l.nodeType===Node.TEXT_NODE&&0===l.textContent.length;)e(l).remove(),l=s.nextSibling;if(o===!0&&!r.collapsed){var s=t.$el.find('span.fr-marker[data-type="true"][data-id="'+i+'"]').get(0),l=s.nextSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(l)){var u=[l];do l=u[0],u=t.node.contents(l);while(u[0]&&t.node.isBlock(u[0]));e(l).prepend(e(s))}}if(o===!1&&!r.collapsed){var s=t.$el.find('span.fr-marker[data-type="false"][data-id="'+i+'"]').get(0),l=s.previousSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&t.node.isBlock(l)){var u=[l];do l=u[u.length-1],u=t.node.contents(l);while(u[u.length-1]&&t.node.isBlock(u[u.length-1]));e(l).append(e(s))}s.parentNode&&["TD","TH"].indexOf(s.parentNode.tagName)>=0&&s.parentNode.previousSibling&&!s.previousSibling&&e(s.parentNode.previousSibling).append(s)}var c=t.$el.find('span.fr-marker[data-type="'+o+'"][data-id="'+i+'"]').get(0);return c&&(c.style.display="none"),c}catch(f){return null}}function o(){if(!t.$wp)return null;try{var n=t.selection.ranges(0),r=n.commonAncestorContainer;if(r!=t.el&&0==t.$el.find(r).length)return null;var o=n.cloneRange(),i=n.cloneRange();o.collapse(!0);var a=e('<span class="fr-marker" style="display: none; line-height: 0;">'+e.FE.INVISIBLE_SPACE+"</span>",t.doc)[0];if(o.insertNode(a),a=t.$el.find("span.fr-marker").get(0)){for(var s=a.nextSibling;s&&s.nodeType===Node.TEXT_NODE&&0===s.textContent.length;)e(s).remove(),s=t.$el.find("span.fr-marker").get(0).nextSibling;return t.selection.clear(),t.selection.get().addRange(i),a}return null}catch(l){}}function i(){t.selection.isCollapsed()||t.selection.remove();var n=t.$el.find(".fr-marker").get(0);if(null==n&&(n=o()),null==n)return null;var r=t.node.deepestParent(n);if(r||(r=t.node.blockParent(n),r&&"LI"!=r.tagName&&(r=null)),r)if(t.node.isBlock(r)&&t.node.isEmpty(r))e(r).replaceWith('<span class="fr-marker"></span>');else if(t.cursor.isAtStart(n,r))e(r).before('<span class="fr-marker"></span>'),e(n).remove();else if(t.cursor.isAtEnd(n,r))e(r).after('<span class="fr-marker"></span>'),e(n).remove();else{var i=n,a="",s="";do i=i.parentNode,a+=t.node.closeTagString(i),s=t.node.openTagString(i)+s;while(i!=r);e(n).replaceWith('<span id="fr-break"></span>');var l=t.node.openTagString(r)+e(r).html()+t.node.closeTagString(r);l=l.replace(/<span id="fr-break"><\/span>/g,a+'<span class="fr-marker"></span>'+s),e(r).replaceWith(l)}return t.$el.find(".fr-marker").get(0)}function a(e){var n=e.clientX,r=e.clientY;s();var i,a=null;if("undefined"!=typeof t.doc.caretPositionFromPoint?(i=t.doc.caretPositionFromPoint(n,r),a=t.doc.createRange(),a.setStart(i.offsetNode,i.offset),a.setEnd(i.offsetNode,i.offset)):"undefined"!=typeof t.doc.caretRangeFromPoint&&(i=t.doc.caretRangeFromPoint(n,r),a=t.doc.createRange(),a.setStart(i.startContainer,i.startOffset),a.setEnd(i.startContainer,i.startOffset)),null!==a&&"undefined"!=typeof t.win.getSelection){var l=t.win.getSelection();l.removeAllRanges(),l.addRange(a)}else if("undefined"!=typeof t.doc.body.createTextRange)try{a=t.doc.body.createTextRange(),a.moveToPoint(n,r);var u=a.duplicate();u.moveToPoint(n,r),a.setEndPoint("EndToEnd",u),a.select()}catch(c){return!1}o()}function s(){t.$el.find(".fr-marker").remove()}return{place:r,insert:o,split:i,insertAtPoint:a,remove:s}},e.FE.MODULES.selection=function(t){function n(){var e="";return t.win.getSelection?e=t.win.getSelection():t.doc.getSelection?e=t.doc.getSelection():t.doc.selection&&(e=t.doc.selection.createRange().text),e.toString()}function r(){var e="";return e=t.win.getSelection?t.win.getSelection():t.doc.getSelection?t.doc.getSelection():t.doc.selection.createRange()}function o(e){var n=r(),o=[];if(n&&n.getRangeAt&&n.rangeCount)for(var o=[],i=0;i<n.rangeCount;i++)o.push(n.getRangeAt(i));else o=t.doc.createRange?[t.doc.createRange()]:[];return"undefined"!=typeof e?o[e]:o}function i(){var e=r();try{e.removeAllRanges?e.removeAllRanges():e.empty?e.empty():e.clear&&e.clear()}catch(t){}}function a(){var i=r();try{if(i.rangeCount){var a=o(0),s=a.startContainer;if(s.nodeType==Node.TEXT_NODE&&a.startOffset==(s.textContent||"").length&&s.nextSibling&&(s=s.nextSibling),s.nodeType==Node.ELEMENT_NODE){var l=!1;if(s.childNodes.length>0&&s.childNodes[a.startOffset]){for(var u=s.childNodes[a.startOffset];u&&u.nodeType==Node.TEXT_NODE&&0==u.textContent.length;)u=u.nextSibling;if(u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0),!l&&s.childNodes.length>1&&a.startOffset>0&&s.childNodes[a.startOffset-1]){for(var u=s.childNodes[a.startOffset-1];u&&u.nodeType==Node.TEXT_NODE&&0==u.textContent.length;)u=u.nextSibling;u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}}else if(!a.collapsed&&s.nextSibling&&s.nextSibling.nodeType==Node.ELEMENT_NODE){var u=s.nextSibling;u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}!l&&s.childNodes.length>0&&e(s.childNodes[0]).text().replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&["BR","IMG","HR"].indexOf(s.childNodes[0].tagName)<0&&(s=s.childNodes[0])}for(;s.nodeType!=Node.ELEMENT_NODE&&s.parentNode;)s=s.parentNode;for(var c=s;c&&"HTML"!=c.tagName;){if(c==t.el)return s;c=e(c).parent()[0]}}}catch(f){}return t.el}function s(){var i=r();try{if(i.rangeCount){var a=o(0),s=a.endContainer;if(s.nodeType==Node.ELEMENT_NODE){var l=!1;if(s.childNodes.length>0&&s.childNodes[a.endOffset]&&e(s.childNodes[a.endOffset]).text()===n())s=s.childNodes[a.endOffset],l=!0;else if(!a.collapsed&&s.previousSibling&&s.previousSibling.nodeType==Node.ELEMENT_NODE){var u=s.previousSibling;u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}else if(!a.collapsed&&s.childNodes.length>0&&s.childNodes[a.endOffset]){var u=s.childNodes[a.endOffset].previousSibling;u.nodeType==Node.ELEMENT_NODE&&u&&u.textContent.replace(/\u200B/g,"")===n().replace(/\u200B/g,"")&&(s=u,l=!0)}!l&&s.childNodes.length>0&&e(s.childNodes[s.childNodes.length-1]).text()===n()&&["BR","IMG","HR"].indexOf(s.childNodes[s.childNodes.length-1].tagName)<0&&(s=s.childNodes[s.childNodes.length-1])}for(s.nodeType==Node.TEXT_NODE&&0==a.endOffset&&s.previousSibling&&s.previousSibling.nodeType==Node.ELEMENT_NODE&&(s=s.previousSibling);s.nodeType!=Node.ELEMENT_NODE&&s.parentNode;)s=s.parentNode;for(var c=s;c&&"HTML"!=c.tagName;){if(c==t.el)return s;c=e(c).parent()[0]}}}catch(f){}return t.el}function l(e,t){var n=e;return n.nodeType==Node.ELEMENT_NODE&&n.childNodes.length>0&&n.childNodes[t]&&(n=n.childNodes[t]),n.nodeType==Node.TEXT_NODE&&(n=n.parentNode),n}function u(){var n=[],i=r();if(b()&&i.rangeCount)for(var a=o(),s=0;s<a.length;s++){var u=a[s],c=l(u.startContainer,u.startOffset),f=l(u.endContainer,u.endOffset);t.node.isBlock(c)&&n.indexOf(c)<0&&n.push(c);var d=t.node.blockParent(c);d&&n.indexOf(d)<0&&n.push(d);for(var p=[],h=c;h!==f&&h!==t.el;)p.indexOf(h)<0&&h.children&&h.children.length?(p.push(h),h=h.children[0]):h.nextSibling?h=h.nextSibling:h.parentNode&&(h=h.parentNode,p.push(h)),t.node.isBlock(h)&&p.indexOf(h)<0&&n.indexOf(h)<0&&(h!==f||u.endOffset>0)&&n.push(h);t.node.isBlock(f)&&n.indexOf(f)<0&&u.endOffset>0&&n.push(f);var d=t.node.blockParent(f);d&&n.indexOf(d)<0&&n.push(d)}for(var s=n.length-1;s>0;s--)e(n[s]).find(n).length&&("LI"!=n[s].tagName||1==n[s].children.length&&n.indexOf(n[s].children[0])>=0)&&n.splice(s,1);return n}function c(){if(t.$wp){t.markers.remove();for(var e=o(),n=[],r=0;r<e.length;r++)if(e[r].startContainer!==t.doc){var i=e[r],a=i.collapsed,s=t.markers.place(i,!0,r),l=t.markers.place(i,!1,r);if(t.el.normalize(),t.browser.safari&&!a){var i=t.doc.createRange();i.setStartAfter(s),i.setEndBefore(l),n.push(i)}}if(t.browser.safari&&n.length){t.selection.clear();for(var r=0;r<n.length;r++)t.selection.get().addRange(n[r])}}}function f(){var n=t.el.querySelectorAll('.fr-marker[data-type="true"]');if(!t.$wp)return t.markers.remove(),!1;if(0===n.length)return!1;if(t.browser.msie||t.browser.edge)for(var o=0;o<n.length;o++)n[o].style.display="inline-block";t.core.hasFocus()||t.browser.msie||t.browser.webkit||t.$el.focus(),i();for(var a=r(),o=0;o<n.length;o++){var s=e(n[o]).data("id"),l=n[o],u=t.doc.createRange(),c=t.$el.find('.fr-marker[data-type="false"][data-id="'+s+'"]');(t.browser.msie||t.browser.edge)&&c.css("display","inline-block");var f=null;if(c.length>0){c=c[0];try{for(var p=!1,h=l.nextSibling;h&&h.nodeType==Node.TEXT_NODE&&0==h.textContent.length;){var g=h;h=h.nextSibling,e(g).remove()}for(var m=c.nextSibling;m&&m.nodeType==Node.TEXT_NODE&&0==m.textContent.length;){var g=m;m=m.nextSibling,e(g).remove()}if(l.nextSibling==c||c.nextSibling==l){for(var v=l.nextSibling==c?l:c,$=v==l?c:l,b=v.previousSibling;b&&b.nodeType==Node.TEXT_NODE&&0==b.length;){var g=b;b=b.previousSibling,e(g).remove()}if(b&&b.nodeType==Node.TEXT_NODE)for(;b&&b.previousSibling&&b.previousSibling.nodeType==Node.TEXT_NODE;)b.previousSibling.textContent=b.previousSibling.textContent+b.textContent,b=b.previousSibling,e(b.nextSibling).remove();for(var y=$.nextSibling;y&&y.nodeType==Node.TEXT_NODE&&0==y.length;){var g=y;y=y.nextSibling,e(g).remove()}if(y&&y.nodeType==Node.TEXT_NODE)for(;y&&y.nextSibling&&y.nextSibling.nodeType==Node.TEXT_NODE;)y.nextSibling.textContent=y.textContent+y.nextSibling.textContent,y=y.nextSibling,e(y.previousSibling).remove();if(b&&(t.node.isVoid(b)||t.node.isBlock(b))&&(b=null),y&&(t.node.isVoid(y)||t.node.isBlock(y))&&(y=null),b&&y&&b.nodeType==Node.TEXT_NODE&&y.nodeType==Node.TEXT_NODE){e(l).remove(),e(c).remove();var E=b.textContent.length;b.textContent=b.textContent+y.textContent,e(y).remove(),t.spaces.normalize(b),u.setStart(b,E),u.setEnd(b,E),p=!0}else!b&&y&&y.nodeType==Node.TEXT_NODE?(e(l).remove(),e(c).remove(),t.spaces.normalize(y),f=e(t.doc.createTextNode("​")),e(y).before(f),u.setStart(y,0),u.setEnd(y,0),p=!0):!y&&b&&b.nodeType==Node.TEXT_NODE&&(e(l).remove(),e(c).remove(),t.spaces.normalize(b),f=e(t.doc.createTextNode("​")),e(b).after(f),u.setStart(b,b.textContent.length),u.setEnd(b,b.textContent.length),p=!0)}if(!p){var w,C;if((t.browser.chrome||t.browser.edge)&&l.nextSibling==c)w=d(c,u,!0)||u.setStartAfter(c),C=d(l,u,!1)||u.setEndBefore(l);else{l.previousSibling==c&&(l=c,c=l.nextSibling),c.nextSibling&&"BR"===c.nextSibling.tagName||!c.nextSibling&&t.node.isBlock(l.previousSibling)||l.previousSibling&&"BR"==l.previousSibling.tagName||(l.style.display="inline",c.style.display="inline",f=e(t.doc.createTextNode("​")));var S=l.previousSibling;S&&S.style&&"block"==t.win.getComputedStyle(S).display&&!t.opts.enter==e.FE.ENTER_BR?(u.setEndAfter(S),u.setStartAfter(S)):(w=d(l,u,!0)||e(l).before(f)&&u.setStartBefore(l),C=d(c,u,!1)||e(c).after(f)&&u.setEndAfter(c))}"function"==typeof w&&w(),"function"==typeof C&&C()}}catch(x){}}f&&f.remove();try{a.addRange(u)}catch(x){}}t.markers.remove()}function d(n,r,o){var i=n.previousSibling,a=n.nextSibling;if(i&&a&&i.nodeType==Node.TEXT_NODE&&a.nodeType==Node.TEXT_NODE){var s=i.textContent.length;return o?(a.textContent=i.textContent+a.textContent,e(i).remove(),e(n).remove(),t.spaces.normalize(a),function(){r.setStart(a,s)}):(i.textContent=i.textContent+a.textContent,e(a).remove(),e(n).remove(),t.spaces.normalize(i),function(){r.setEnd(i,s)})}if(i&&!a&&i.nodeType==Node.TEXT_NODE){var s=i.textContent.length;return o?(t.spaces.normalize(i),function(){r.setStart(i,s)}):(t.spaces.normalize(i),function(){r.setEnd(i,s)})}return!(!a||i||a.nodeType!=Node.TEXT_NODE)&&(o?(t.spaces.normalize(a),function(){r.setStart(a,0)}):(t.spaces.normalize(a),function(){r.setEnd(a,0)}))}function p(){return!0}function h(){for(var e=o(),t=0;t<e.length;t++)if(!e[t].collapsed)return!1;return!0}function g(e){var n,r,o=!1,i=!1;if(t.win.getSelection){var a=t.win.getSelection();a.rangeCount&&(n=a.getRangeAt(0),r=n.cloneRange(),r.selectNodeContents(e),r.setEnd(n.startContainer,n.startOffset),o=""===r.toString(),r.selectNodeContents(e),r.setStart(n.endContainer,n.endOffset),i=""===r.toString())}else t.doc.selection&&"Control"!=t.doc.selection.type&&(n=t.doc.selection.createRange(),r=n.duplicate(),r.moveToElementText(e),r.setEndPoint("EndToStart",n),o=""===r.text,r.moveToElementText(e),r.setEndPoint("StartToEnd",n),i=""===r.text);return{atStart:o,
atEnd:i}}function m(){if(h())return!1;t.$el.find("td, th, img").prepend('<span class="fr-mk">'+e.FE.INVISIBLE_SPACE+"</span>");var n=!1,r=g(t.el);return r.atStart&&r.atEnd&&(n=!0),t.$el.find(".fr-mk").remove(),n}function v(n,r){"undefined"==typeof r&&(r=!0);var o=e(n).html();o&&o.replace(/\u200b/g,"").length!=o.length&&e(n).html(o.replace(/\u200b/g,""));for(var i=t.node.contents(n),a=0;a<i.length;a++)i[a].nodeType!=Node.ELEMENT_NODE?e(i[a]).remove():(v(i[a],0==a),0==a&&(r=!1));n.nodeType==Node.TEXT_NODE?e(n).replaceWith('<span data-first="true" data-text="true"></span>'):r&&e(n).attr("data-first",!0)}function $(n,r){var o=t.node.contents(n.get(0));["TD","TH"].indexOf(n.get(0).tagName)>=0&&1==n.find(".fr-marker").length&&t.node.hasClass(o[0],"fr-marker")&&n.attr("data-del-cell",!0);for(var i=0;i<o.length;i++){var a=o[i];t.node.hasClass(a,"fr-marker")?r=(r+1)%2:r?e(a).find(".fr-marker").length>0?r=$(e(a),r):["TD","TH"].indexOf(a.tagName)<0&&!t.node.hasClass(a,"fr-inner")?!t.opts.keepFormatOnDelete||t.$el.find("[data-first]").length>0?e(a).remove():v(a):t.node.hasClass(a,"fr-inner")?0==e(a).find(".fr-inner").length?e(a).html("<br>"):e(a).find(".fr-inner").filter(function(){return 0==e(this).find("fr-inner").length}).html("<br>"):(e(a).empty(),e(a).attr("data-del-cell",!0)):e(a).find(".fr-marker").length>0&&(r=$(e(a),r))}return r}function b(){try{if(!t.$wp)return!1;for(var e=o(0),n=e.commonAncestorContainer;n&&!t.node.isElement(n);)n=n.parentNode;return!!t.node.isElement(n)}catch(r){return!1}}function y(){if(h())return!0;c();for(var n=function(t){for(var n=t.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;){var r=n,n=n.previousSibling;e(r).remove()}return n},r=function(t){for(var n=t.nextSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;){var r=n,n=n.nextSibling;e(r).remove()}return n},o=t.$el.find('.fr-marker[data-type="true"]'),i=0;i<o.length;i++)for(var a=o[i];!n(a)&&!t.node.isBlock(a.parentNode)&&!t.$el.is(a.parentNode);)e(a.parentNode).before(a);for(var s=t.$el.find('.fr-marker[data-type="false"]'),i=0;i<s.length;i++){for(var l=s[i];!r(l)&&!t.node.isBlock(l.parentNode)&&!t.$el.is(l.parentNode);)e(l.parentNode).after(l);l.parentNode&&t.node.isBlock(l.parentNode)&&t.node.isEmpty(l.parentNode)&&!t.$el.is(l.parentNode)&&t.opts.keepFormatOnDelete&&e(l.parentNode).after(l)}if(p()){$(t.$el,0);var u=t.$el.find('[data-first="true"]');if(u.length)t.$el.find(".fr-marker").remove(),u.append(e.FE.INVISIBLE_SPACE+e.FE.MARKERS).removeAttr("data-first"),u.attr("data-text")&&u.replaceWith(u.html());else{t.$el.find("table").filter(function(){var t=e(this).find("[data-del-cell]").length>0&&e(this).find("[data-del-cell]").length==e(this).find("td, th").length;return t}).remove(),t.$el.find("[data-del-cell]").removeAttr("data-del-cell");for(var o=t.$el.find('.fr-marker[data-type="true"]'),i=0;i<o.length;i++){var d=o[i],g=d.nextSibling,m=t.$el.find('.fr-marker[data-type="false"][data-id="'+e(d).data("id")+'"]').get(0);if(m){if(g&&g==m);else if(d){var v=t.node.blockParent(d),b=t.node.blockParent(m),y=!1,E=!1;if(v&&["UL","OL"].indexOf(v.tagName)>=0&&(v=null,y=!0),b&&["UL","OL"].indexOf(b.tagName)>=0&&(b=null,E=!0),e(d).after(m),v==b);else if(null!=v||y)if(null!=b||E||0!=e(v).parentsUntil(t.$el,"table").length)v&&b&&0==e(v).parentsUntil(t.$el,"table").length&&0==e(b).parentsUntil(t.$el,"table").length&&(e(v).append(e(b).html()),e(b).remove());else{for(var g=v;!g.nextSibling&&g.parentNode!=t.el;)g=g.parentNode;for(g=g.nextSibling;g&&"BR"!=g.tagName;){var w=g.nextSibling;e(v).append(g),g=w}g&&"BR"==g.tagName&&e(g).remove()}else{var C=t.node.deepestParent(d);C?(e(C).after(e(b).html()),e(b).remove()):0==e(b).parentsUntil(t.$el,"table").length&&(e(d).next().after(e(b).html()),e(b).remove())}}}else m=e(d).clone().attr("data-type",!1),e(d).after(m)}}}t.opts.keepFormatOnDelete||t.html.fillEmptyBlocks(),t.html.cleanEmptyTags(!0),t.clean.lists(),t.spaces.normalize();var S=t.$el.find(".fr-marker:last").get(0),x=t.$el.find(".fr-marker:first").get(0);!S.nextSibling&&x.previousSibling&&"BR"==x.previousSibling.tagName&&t.node.isElement(S.parentNode)&&t.node.isElement(x.parentNode)&&t.$el.append("<br>"),f()}function E(n){if(!n||n.getElementsByClassName("fr-marker").length>0)return!1;for(var r=n.firstChild;r&&t.node.isBlock(r);)n=r,r=r.firstChild;n.innerHTML=e.FE.MARKERS+n.innerHTML}function w(n){if(!n||n.getElementsByClassName("fr-marker").length>0)return!1;for(var r=n.lastChild;r&&t.node.isBlock(r);)n=r,r=r.lastChild;n.innerHTML=n.innerHTML+e.FE.MARKERS}function C(n,r){"undefined"==typeof r&&(r=!0);for(var o=n.previousSibling;o&&o.nodeType==Node.TEXT_NODE&&0==o.textContent.length;)o=o.previousSibling;return o?(t.node.isBlock(o)?w(o):"BR"==o.tagName?e(o).before(e.FE.MARKERS):e(o).after(e.FE.MARKERS),!0):!!r&&(t.node.isBlock(n)?E(n):e(n).before(e.FE.MARKERS),!0)}function S(n,r){"undefined"==typeof r&&(r=!0);for(var o=n.nextSibling;o&&o.nodeType==Node.TEXT_NODE&&0==o.textContent.length;)o=o.nextSibling;return o?(t.node.isBlock(o)?E(o):e(o).before(e.FE.MARKERS),!0):!!r&&(t.node.isBlock(n)?w(n):e(n).after(e.FE.MARKERS),!0)}return{text:n,get:r,ranges:o,clear:i,element:a,endElement:s,save:c,restore:f,isCollapsed:h,isFull:m,inEditor:b,remove:y,blocks:u,info:g,setAtEnd:w,setAtStart:E,setBefore:C,setAfter:S,rangeElement:l}},e.extend(e.FE.DEFAULTS,{htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],htmlRemoveTags:["script","style"],htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","allowfullscreen","allowtransparency","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","frameborder","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","mozallowfullscreen","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","webkitallowfullscreen","width","wrap"],htmlAllowComments:!0,htmlUntouched:!1,fullPage:!1}),e.FE.HTML5Map={B:"STRONG",I:"EM",STRIKE:"S"},e.FE.MODULES.clean=function(t){function n(e){if(e.nodeType==Node.ELEMENT_NODE&&e.getAttribute("class")&&e.getAttribute("class").indexOf("fr-marker")>=0)return!1;var r,o=t.node.contents(e),i=[];for(r=0;r<o.length;r++)o[r].nodeType!=Node.ELEMENT_NODE||t.node.isVoid(o[r])?o[r].nodeType==Node.TEXT_NODE&&(o[r].textContent=o[r].textContent.replace(/\u200b/g,"").replace(/&/g,"&amp;")):o[r].textContent.replace(/\u200b/g,"").length!=o[r].textContent.length&&n(o[r]);if(e.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(e)&&(e.normalize(),o=t.node.contents(e),i=e.querySelectorAll(".fr-marker"),o.length-i.length==0)){for(r=0;r<o.length;r++)if((o[r].getAttribute("class")||"").indexOf("fr-marker")<0)return!1;for(r=0;r<i.length;r++)e.parentNode.insertBefore(i[r].cloneNode(!0),e);return e.parentNode.removeChild(e),!1}}function r(e){if(e.nodeType==Node.COMMENT_NODE)return"<!--"+e.nodeValue+"-->";if(e.nodeType==Node.TEXT_NODE)return e.textContent.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\u00A0/g,"&nbsp;");if(e.nodeType!=Node.ELEMENT_NODE)return e.outerHTML;if(e.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT"].indexOf(e.tagName)>=0)return e.outerHTML;if(e.nodeType==Node.ELEMENT_NODE&&"svg"==e.tagName){var n=document.createElement("div"),o=e.cloneNode(!0);return n.appendChild(o),n.innerHTML}if("IFRAME"==e.tagName)return e.outerHTML;var i=e.childNodes;if(0===i.length)return e.outerHTML;for(var a="",s=0;s<i.length;s++)a+=r(i[s]);return t.node.openTagString(e)+a+t.node.closeTagString(e)}function o(e){return D=[],e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,function(e){return D.push(e),"[FROALA.EDITOR.SCRIPT "+(D.length-1)+"]"}),e=e.replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-fr-src="')}function i(e){return e=e.replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi,function(e,n){return t.opts.htmlRemoveTags.indexOf("script")>=0?"":D[parseInt(n,10)]}),e=e.replace(/<img((?:[\w\W]*?)) data-fr-src="/g,'<img$1 src="')}function a(e){var t;for(t in e)e.hasOwnProperty(t)&&(t.match(M)||delete e[t]);for(var n="",r=Object.keys(e).sort(),o=0;o<r.length;o++)t=r[o],n+=e[t].indexOf('"')<0?" "+t+'="'+e[t]+'"':" "+t+"='"+e[t]+"'";return n}function s(e,n,r){if(t.opts.fullPage){var o=t.html.extractDoctype(r),i=a(t.html.extractNodeAttrs(r,"html"));n=null==n?t.html.extractNode(r,"head")||"<title></title>":n;var s=a(t.html.extractNodeAttrs(r,"head")),l=a(t.html.extractNodeAttrs(r,"body"));return o+"<html"+i+"><head"+s+">"+n+"</head><body"+l+">"+e+"</body></html>"}return e}function l(n,o){var i=e("<div>"+n+"</div>"),a="";if(i){for(var s=t.node.contents(i.get(0)),l=0;l<s.length;l++)o(s[l]);s=t.node.contents(i.get(0));for(var l=0;l<s.length;l++)a+=r(s[l])}return a}function u(e,n,r){e=o(e);var a=e,u=null;if(t.opts.fullPage){var a=t.html.extractNode(e,"body")||(e.indexOf("<body")>=0?"":e);r&&(u=t.html.extractNode(e,"head")||"")}a=l(a,n),u&&(u=l(u,n));var c=s(a,u,e);return i(c)}function c(e){return e.replace(/\u200b/g,"").length==e.length?e:t.clean.exec(e,n)}function f(){var n=t.el.querySelectorAll(Object.keys(e.FE.HTML5Map).join(","));if(n.length){var r=!1;t.el.querySelector(".fr-marker")||(t.selection.save(),r=!0);for(var o=0;o<n.length;o++)""===t.node.attributes(n[o])&&e(n[o]).replaceWith("<"+e.FE.HTML5Map[n[o].tagName]+">"+n[o].innerHTML+"</"+e.FE.HTML5Map[n[o].tagName]+">");r&&t.selection.restore()}}function d(n){if("SPAN"==n.tagName&&(n.getAttribute("class")||"").indexOf("fr-marker")>=0)return!1;if("PRE"==n.tagName&&h(n),n.nodeType==Node.ELEMENT_NODE&&(n.getAttribute("data-fr-src")&&n.setAttribute("data-fr-src",t.helpers.sanitizeURL(n.getAttribute("data-fr-src"))),n.getAttribute("href")&&n.setAttribute("href",t.helpers.sanitizeURL(n.getAttribute("href"))),["TABLE","TBODY","TFOOT","TR"].indexOf(n.tagName)>=0&&(n.innerHTML=n.innerHTML.trim())),!t.opts.pasteAllowLocalImages&&n.nodeType==Node.ELEMENT_NODE&&"IMG"==n.tagName&&n.getAttribute("data-fr-src")&&0==n.getAttribute("data-fr-src").indexOf("file://"))return n.parentNode.removeChild(n),!1;if(n.nodeType==Node.ELEMENT_NODE&&e.FE.HTML5Map[n.tagName]&&""===t.node.attributes(n)){var r=e.FE.HTML5Map[n.tagName],o="<"+r+">"+n.innerHTML+"</"+r+">";n.insertAdjacentHTML("beforebegin",o),n=n.previousSibling,n.parentNode.removeChild(n.nextSibling)}if(t.opts.htmlAllowComments||n.nodeType!=Node.COMMENT_NODE)if(n.tagName&&n.tagName.match(_))n.parentNode.removeChild(n);else if(n.tagName&&!n.tagName.match(k))n.outerHTML=n.innerHTML;else{var i=n.attributes;if(i)for(var a=i.length-1;a>=0;a--){var s=i[a];s.nodeName.match(M)||n.removeAttribute(s.nodeName)}}else 0!==n.data.indexOf("[FROALA.EDITOR")&&n.parentNode.removeChild(n)}function p(e){for(var n=t.node.contents(e),r=0;r<n.length;r++)n[r].nodeType!=Node.TEXT_NODE&&p(n[r]);d(e)}function h(e){var t=e.innerHTML;t.indexOf("\n")>=0&&(e.innerHTML=t.replace(/\n/g,"<br>"))}function g(n,r,o,i){"undefined"==typeof r&&(r=[]),"undefined"==typeof o&&(o=[]),"undefined"==typeof i&&(i=!1),n=n.replace(/\u0009/g,""),n=n.replace(/<br> */g,"<br>");var a,s=e.merge([],t.opts.htmlAllowedTags);for(a=0;a<r.length;a++)s.indexOf(r[a])>=0&&s.splice(s.indexOf(r[a]),1);var l=e.merge([],t.opts.htmlAllowedAttrs);for(a=0;a<o.length;a++)l.indexOf(o[a])>=0&&l.splice(l.indexOf(o[a]),1);return l.push("data-fr-.*"),l.push("fr-.*"),k=new RegExp("^"+s.join("$|^")+"$","gi"),M=new RegExp("^"+l.join("$|^")+"$","gi"),_=new RegExp("^"+t.opts.htmlRemoveTags.join("$|^")+"$","gi"),n=u(n,p,!0)}function m(){for(var n=t.el.querySelectorAll("blockquote + blockquote"),r=0;r<n.length;r++){var o=n[r];t.node.attributes(o)==t.node.attributes(o.previousSibling)&&(e(o).prev().append(e(o).html()),e(o).remove())}}function v(){for(var e=t.el.querySelectorAll("tr"),n=0;n<e.length;n++){for(var r=e[n].children,o=!0,i=0;i<r.length;i++)if("TH"!=r[i].tagName){o=!1;break}if(0!=o&&0!=r.length){for(var a=e[n];a&&"TABLE"!=a.tagName&&"THEAD"!=a.tagName;)a=a.parentNode;var s=a;"THEAD"!=s.tagName&&(s=t.doc.createElement("THEAD"),a.insertBefore(s,a.firstChild)),s.appendChild(e[n])}}}function $(){var n=t.html.defaultTag();if(n)for(var r=t.el.querySelectorAll("td > "+n+", th > "+n),o=0;o<r.length;o++)""===t.node.attributes(r[o])&&e(r[o]).replaceWith(r[o].innerHTML+"<br>")}function b(){v(),$()}function y(){var e=[],n=function(e){return!t.node.isList(e.parentNode)};do{if(e.length){var r=e[0],o=t.doc.createElement("ul");r.parentNode.insertBefore(o,r);do{var i=r;r=r.nextSibling,o.appendChild(i)}while(r&&"LI"==r.tagName)}e=[];for(var a=t.el.querySelectorAll("li"),s=0;s<a.length;s++)n(a[s])&&e.push(a[s])}while(e.length>0)}function E(){for(var e=t.el.querySelectorAll("ol + ol, ul + ul"),n=0;n<e.length;n++){var r=e[n];if(t.node.isList(r.previousSibling)&&t.node.openTagString(r)==t.node.openTagString(r.previousSibling)){for(var o=t.node.contents(r),i=0;i<o.length;i++)r.previousSibling.appendChild(o[i]);r.parentNode.removeChild(r)}}}function w(){var e,n=function(t){t.querySelector("LI")||(e=!0,t.parentNode.removeChild(t))};do{e=!1;for(var r=t.el.querySelectorAll("li:empty"),o=0;o<r.length;o++)r[o].parentNode.removeChild(r[o]);for(var i=t.el.querySelectorAll("ul, ol"),o=0;o<i.length;o++)n(i[o])}while(e===!0)}function C(){for(var n=t.el.querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),r=0;r<n.length;r++){var o=n[r],i=o.previousSibling;i&&("LI"==i.tagName?i.appendChild(o):e(o).wrap("<li></li>"))}}function S(){for(var n=t.el.querySelectorAll("li > ul, li > ol"),r=0;r<n.length;r++){var o=n[r];if(o.nextSibling){var i=o.nextSibling,a=e("<li>");e(o.parentNode).after(a);do{var s=i;i=i.nextSibling,a.append(s)}while(i)}}}function x(){for(var n=t.el.querySelectorAll("li > ul, li > ol"),r=0;r<n.length;r++){var o=n[r];if(t.node.isFirstSibling(o))e(o).before("<br/>");else if(o.previousSibling&&"BR"==o.previousSibling.tagName){for(var i=o.previousSibling.previousSibling;i&&t.node.hasClass(i,"fr-marker");)i=i.previousSibling;i&&"BR"!=i.tagName&&e(o.previousSibling).remove()}}}function T(){for(var n=t.el.querySelectorAll("li:empty"),r=0;r<n.length;r++)e(n[r]).remove()}function O(){for(var n=t.el.querySelectorAll("ul, ol"),r=0;r<n.length;r++)for(var o=t.node.contents(n[r]),i=null,a=o.length-1;a>=0;a--)"LI"!=o[a].tagName?(i||(i=e("<li>"),i.insertBefore(o[a])),i.prepend(o[a])):i=null}function A(){y(),E(),w(),C(),S(),x(),O(),T()}function N(){t.opts.fullPage&&e.merge(t.opts.htmlAllowedTags,["head","title","style","link","base","body","html","meta"])}var k,_,M,D=[],D=[];return{_init:N,html:g,toHTML5:f,tables:b,lists:A,quotes:m,invisibleSpaces:c,exec:u}},e.FE.MODULES.spaces=function(t){function n(n,r){var o=n.previousSibling,i=n.nextSibling,a=n.textContent,s=n.parentNode;r&&(a=a.replace(/[\f\n\r\t\v ]{2,}/g," "),i&&"BR"!==i.tagName&&!t.node.isBlock(i)||!t.node.isBlock(s)||(a=a.replace(/[\f\n\r\t\v ]{1,}$/g,"")),o&&"BR"!==o.tagName&&!t.node.isBlock(o)||!t.node.isBlock(s)||(a=a.replace(/^[\f\n\r\t\v ]{1,}/g,""))),a=a.replace(new RegExp(e.FE.UNICODE_NBSP,"g")," ");for(var l="",u=0;u<a.length;u++)l+=32!=a.charCodeAt(u)||0!==u&&32!=l.charCodeAt(u-1)?a[u]:e.FE.UNICODE_NBSP;(!i||t.node.isBlock(i)||i.nodeType==Node.ELEMENT_NODE&&t.win.getComputedStyle(i)&&"block"==t.win.getComputedStyle(i).display)&&(l=l.replace(/ $/,e.FE.UNICODE_NBSP)),!o||t.node.isVoid(o)||t.node.isBlock(o)||(l=l.replace(/^\u00A0([^ $])/," $1"),1!==l.length||160!==l.charCodeAt(0)||!i||t.node.isVoid(i)||t.node.isBlock(i)||(l=" ")),l=l.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2"),n.textContent!=l&&(n.textContent=l)}function r(e,r){if("undefined"!=typeof e&&e||(e=t.el),"undefined"==typeof r&&(r=!1),!e.getAttribute||"false"!=e.getAttribute("contenteditable"))if(e.nodeType==Node.TEXT_NODE)n(e,r);else if(e.nodeType==Node.ELEMENT_NODE)for(var o=t.doc.createTreeWalker(e,NodeFilter.SHOW_TEXT,t.node.filter(function(e){return null!=e.textContent.match(/([ \u00A0\f\n\r\t\v]{2,})|(^[ \u00A0\f\n\r\t\v]{1,})|([ \u00A0\f\n\r\t\v]{1,}$)/g)&&!t.node.hasClass(e.parentNode,"fr-marker")}),!1);o.nextNode();)n(o.currentNode,r)}function o(){for(var e=[],n=t.el.querySelectorAll(".fr-marker"),o=0;o<n.length;o++){var i=null,a=t.node.blockParent(n[o]);i=a?a:n[o];for(var s=i.nextSibling,l=i.previousSibling;s&&"BR"==s.tagName;)s=s.nextSibling;for(;l&&"BR"==l.tagName;)l=l.previousSibling;i&&e.indexOf(i)<0&&e.push(i),l&&e.indexOf(l)<0&&e.push(l),s&&e.indexOf(s)<0&&e.push(s)}for(var u=0;u<e.length;u++)r(e[u])}return{normalize:r,normalizeAroundCursor:o}},e.FE.UNICODE_NBSP=String.fromCharCode(160),e.FE.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],e.FE.BLOCK_TAGS=["address","article","aside","audio","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video"],e.extend(e.FE.DEFAULTS,{htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style","script",".fa",".fr-emoticon"],htmlDoNotWrapTags:["script","style"],htmlSimpleAmpersand:!1,htmlIgnoreCSSProperties:[]}),e.FE.MODULES.html=function(t){function n(){return t.opts.enter==e.FE.ENTER_P?"p":t.opts.enter==e.FE.ENTER_DIV?"div":t.opts.enter==e.FE.ENTER_BR?null:void 0}function r(n){var r=[],o=[];if(n)for(var a=t.el.querySelectorAll(".fr-marker"),s=0;s<a.length;s++){var l=t.node.blockParent(a[s])||a[s];if(l){var u=l.nextSibling,c=l.previousSibling;l&&o.indexOf(l)<0&&t.node.isBlock(l)&&o.push(l),c&&t.node.isBlock(c)&&o.indexOf(c)<0&&o.push(c),u&&t.node.isBlock(u)&&o.indexOf(u)<0&&o.push(u)}}else o=t.el.querySelectorAll(i());var f=i();f+=","+e.FE.VOID_ELEMENTS.join(","),f+=","+t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)";for(var s=o.length-1;s>=0;s--)if(!(o[s].textContent&&o[s].textContent.replace(/\u200B|\n/g,"").length>0||o[s].querySelectorAll(f).length>0)){for(var d=t.node.contents(o[s]),p=!1,h=0;h<d.length;h++)if(d[h].nodeType!=Node.COMMENT_NODE&&d[h].textContent&&d[h].textContent.replace(/\u200B|\n/g,"").length>0){p=!0;break}p||r.push(o[s])}return r}function o(){return e.FE.BLOCK_TAGS.join(":empty, ")+":empty"}function i(){return e.FE.BLOCK_TAGS.join(", ")}function a(n){var r=e.merge([],e.FE.VOID_ELEMENTS);r=e.merge(r,t.opts.htmlAllowedEmptyTags),"undefined"==typeof n&&(r=e.merge(r,e.FE.BLOCK_TAGS));var o,i;o=t.el.querySelectorAll("*:empty:not("+r.join("):not(")+"):not(.fr-marker)");do{i=!1;for(var a=0;a<o.length;a++)0!==o[a].attributes.length&&"undefined"==typeof o[a].getAttribute("href")||(o[a].parentNode.removeChild(o[a]),i=!0);o=t.el.querySelectorAll("*:empty:not("+r.join("):not(")+"):not(.fr-marker)")}while(o.length&&i)}function s(e,r){var o=n();if(r&&(o="div"),o){for(var i=t.doc.createDocumentFragment(),a=null,s=!1,l=e.firstChild;l;){var u=l.nextSibling;if(l.nodeType==Node.ELEMENT_NODE&&(t.node.isBlock(l)||t.opts.htmlDoNotWrapTags.indexOf(l.tagName.toLowerCase())>=0&&!t.node.hasClass(l,"fr-marker")))a=null,i.appendChild(l);else if(l.nodeType!=Node.ELEMENT_NODE&&l.nodeType!=Node.TEXT_NODE)a=null,i.appendChild(l);else if("BR"==l.tagName)null==a?(a=t.doc.createElement(o),r&&a.setAttribute("data-empty",!0),a.appendChild(l),i.appendChild(a)):s===!1&&(a.appendChild(t.doc.createElement("br")),a.setAttribute("data-empty",!0)),a=null;else{var c=l.textContent;l.nodeType==Node.TEXT_NODE&&0==c.replace(/\n/g,"").replace(/(^ *)|( *$)/g,"").length||(null==a&&(a=t.doc.createElement(o),r&&a.setAttribute("class","fr-temp-div"),i.appendChild(a),s=!1),a.appendChild(l),s||t.node.hasClass(l,"fr-marker")||l.nodeType==Node.TEXT_NODE&&0===c.replace(/ /g,"").length||(s=!0))}l=u}e.innerHTML="",e.appendChild(i)}}function l(e,t){for(var n=0;n<e.length;n++)s(e[n],t)}function u(e,n,r,o){return!!t.$wp&&("undefined"==typeof e&&(e=!1),"undefined"==typeof n&&(n=!1),"undefined"==typeof r&&(r=!1),"undefined"==typeof o&&(o=!1),s(t.el,e),o&&l(t.el.querySelectorAll(".fr-inner"),e),n&&l(t.el.querySelectorAll("td, th"),e),void(r&&l(t.el.querySelectorAll("blockquote"),e)))}function c(){t.$el.find("div.fr-temp-div").each(function(){e(this).data("empty")||"LI"==this.parentNode.tagName||t.node.isBlock(this.nextSibling)&&!e(this.nextSibling).hasClass("fr-temp-div")?e(this).replaceWith(e(this).html()):e(this).replaceWith(e(this).html()+"<br>")}),t.$el.find(".fr-temp-div").removeClass("fr-temp-div").filter(function(){return""==e(this).attr("class")}).removeAttr("class")}function f(n){for(var o=r(n),i=0;i<o.length;i++){var a=o[i];"false"==a.getAttribute("contenteditable")||a.querySelector(t.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)")||t.node.isVoid(a)||"TABLE"!=a.tagName&&"TBODY"!=a.tagName&&"TR"!=a.tagName&&a.appendChild(t.doc.createElement("br"))}if(t.browser.msie&&t.opts.enter==e.FE.ENTER_BR){var s=t.node.contents(t.el);s.length&&s[s.length-1].nodeType==Node.TEXT_NODE&&t.$el.append("<br>")}}function d(){return t.$el.get(0).querySelectorAll(i())}function p(e){if("undefined"==typeof e&&(e=t.el),e&&["SCRIPT","STYLE","PRE"].indexOf(e.tagName)>=0)return!1;for(var n=t.doc.createTreeWalker(e,NodeFilter.SHOW_TEXT,t.node.filter(function(e){return null!=e.textContent.match(/([ \n]{2,})|(^[ \n]{1,})|([ \n]{1,}$)/g)}),!1);n.nextNode();){var r=n.currentNode,o=t.node.isBlock(r.parentNode)||t.node.isElement(r.parentNode),i=r.textContent.replace(/(?!^)( ){2,}(?!$)/g," ").replace(/\n/g," ").replace(/^[ ]{2,}/g," ").replace(/[ ]{2,}$/g," ");if(o){var a=r.previousSibling,s=r.nextSibling;a&&s&&" "==i?i=t.node.isBlock(a)&&t.node.isBlock(s)?"":"\n":(a||(i=i.replace(/^ */,"")),s||(i=i.replace(/ *$/,"")))}r.textContent=i}}function h(e,t,n){var r=new RegExp(t,"gi"),o=r.exec(e);return o?o[n]:null}function g(e,t){var n=e.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i);return n?t.implementation.createDocumentType(n[1],n[3],n[4]):t.implementation.createDocumentType("html")}function m(e){var t=e.doctype,n="<!DOCTYPE html>";return t&&(n="<!DOCTYPE "+t.name+(t.publicId?' PUBLIC "'+t.publicId+'"':"")+(!t.publicId&&t.systemId?" SYSTEM":"")+(t.systemId?' "'+t.systemId+'"':"")+">"),n}function v(n,r){var o=n.parentNode;if(o&&(t.node.isBlock(o)||t.node.isElement(o))&&["TD","TH"].indexOf(o.tagName)<0){var i=n.previousSibling,a=n.nextSibling;i&&o&&"BR"!=i.tagName&&!t.node.isBlock(i)&&!a&&o.textContent.replace(/\u200B/g,"").length>0&&i.textContent.length>0&&!t.node.hasClass(i,"fr-marker")&&(t.el==o&&!a&&t.opts.enter==e.FE.ENTER_BR&&t.browser.msie||(r&&t.selection.save(),n.parentNode.removeChild(n),r&&t.selection.restore()))}}function $(){var e,n=t.selection.element();e=t.node.isBlock(n)?n:t.node.blockParent(n);var r=[];if(e){var o=e.nextSibling,i=e.previousSibling;e&&r.indexOf(e)<0&&r.push(e),i&&t.node.isBlock(i)&&r.indexOf(i)<0&&r.push(i),o&&t.node.isBlock(o)&&r.indexOf(o)<0&&r.push(o)}for(var a=[],s=0;s<r.length;s++)for(var l=r[s].querySelectorAll("br"),u=0;u<l.length;u++)a.indexOf(l[u])<0&&a.push(l[u]);if(n.parentNode==t.el)for(var c=t.el.children,s=0;s<c.length;s++)"BR"==c[s].tagName&&a.indexOf(c[s])<0&&a.push(c[s]);return a}function b(e,n){var r;if(e){r=$();for(var o=0;o<r.length;o++)v(r[o],n)}else{r=t.el.getElementsByTagName("br");for(var o=0;o<r.length;o++)v(r[o],n)}}function y(){t.opts.htmlUntouched||(a(),u()),p(),t.opts.htmlUntouched||(t.spaces.normalize(null,!0),t.html.fillEmptyBlocks(),t.clean.quotes(),t.clean.lists(),t.clean.tables(),t.clean.toHTML5(),t.html.cleanBRs()),t.selection.restore(),E(),t.placeholder.refresh()}function E(){t.core.isEmpty()&&(null!=n()?t.el.querySelector(i())||t.el.querySelector(t.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)")||(t.core.hasFocus()?(t.$el.html("<"+n()+">"+e.FE.MARKERS+"<br/></"+n()+">"),t.selection.restore()):t.$el.html("<"+n()+"><br/></"+n()+">")):t.el.querySelector("*:not(.fr-marker):not(br)")||(t.core.hasFocus()?(t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore()):t.$el.html("<br/>")))}function w(e,t){return h(e,"<"+t+"[^>]*?>([\\w\\W]*)</"+t+">",1)}function C(n,r){var o=e("<div "+(h(n,"<"+r+"([^>]*?)>",1)||"")+">");return t.node.rawAttributes(o.get(0))}function S(e){return h(e,"<!DOCTYPE([^>]*?)>",0)||"<!DOCTYPE html>"}function x(n){var r=t.clean.html(n||"",[],[],t.opts.fullPage);if(t.opts.fullPage){var o=w(r,"body")||(r.indexOf("<body")>=0?"":r),i=C(r,"body"),a=w(r,"head")||"<title></title>",s=C(r,"head"),l=e("<div>").append(a).contents().each(function(){(this.nodeType==Node.COMMENT_NODE||["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName)>=0)&&this.parentNode.removeChild(this)}).end().html().trim();a=e("<div>").append(a).contents().map(function(){return this.nodeType==Node.COMMENT_NODE?"<!--"+this.nodeValue+"-->":["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName)>=0?this.outerHTML:""}).toArray().join("");var u=S(r),c=C(r,"html");t.$el.html(l+"\n"+o),t.node.clearAttributes(t.el),t.$el.attr(i),t.$el.addClass("fr-view"),t.$el.attr("spellcheck",t.opts.spellcheck),t.$el.attr("dir",t.opts.direction),t.$head.html(a),t.node.clearAttributes(t.$head.get(0)),t.$head.attr(s),t.node.clearAttributes(t.$html.get(0)),t.$html.attr(c),t.iframe_document.doctype.parentNode.replaceChild(g(u,t.iframe_document),t.iframe_document.doctype)}else t.$el.html(r);var f=t.edit.isDisabled();t.edit.on(),t.core.injectStyle(t.opts.iframeStyle),y(),t.opts.useClasses||(t.$el.find("[fr-original-class]").each(function(){this.setAttribute("class",this.getAttribute("fr-original-class")),this.removeAttribute("fr-original-class")}),t.$el.find("[fr-original-style]").each(function(){this.setAttribute("style",this.getAttribute("fr-original-style")),this.removeAttribute("fr-original-style")})),f&&t.edit.off(),t.events.trigger("html.set")}function T(e){var t=/(#[^\s\+>~\.\[:]+)/g,n=/(\[[^\]]+\])/g,r=/(\.[^\s\+>~\.\[:]+)/g,o=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,i=/(:[\w-]+\([^\)]*\))/gi,a=/(:[^\s\+>~\.\[:]+)/g,s=/([^\s\+>~\.\[:]+)/g;!function(){var t=/:not\(([^\)]*)\)/g;t.test(e)&&(e=e.replace(t,"     $1 "))}();var l=100*(e.match(t)||[]).length+10*(e.match(n)||[]).length+10*(e.match(r)||[]).length+10*(e.match(i)||[]).length+10*(e.match(a)||[]).length+(e.match(o)||[]).length;return e=e.replace(/[\*\s\+>~]/g," "),e=e.replace(/[#\.]/g," "),l+=(e.match(s)||[]).length}function O(e){if(t.events.trigger("html.processGet",[e]),e&&e.getAttribute&&""==e.getAttribute("class")&&e.removeAttribute("class"),e&&e.nodeType==Node.ELEMENT_NODE)for(var n=e.querySelectorAll('[class=""]'),r=0;r<n.length;r++)n[r].removeAttribute("class")}function A(e,n){if(!t.$wp)return t.$oel.clone().removeClass("fr-view").removeAttr("contenteditable").get(0).outerHTML;var r="";t.events.trigger("html.beforeGet");var o,i=[],a={};if(!t.opts.useClasses&&!n){var s=new RegExp("^"+t.opts.htmlIgnoreCSSProperties.join("$|^")+"$","gi");for(o=0;o<t.doc.styleSheets.length;o++){var l,u=0;try{l=t.doc.styleSheets[o].cssRules,t.doc.styleSheets[o].ownerNode&&"STYLE"==t.doc.styleSheets[o].ownerNode.nodeType&&(u=1)}catch(c){}if(l)for(var f=0,d=l.length;f<d;f++)if(l[f].selectorText&&l[f].style.cssText.length>0){var p,h=l[f].selectorText.replace(/body |\.fr-view /g,"").replace(/::/g,":");try{p=t.el.querySelectorAll(h)}catch(c){p=[]}for(var g=0;g<p.length;g++){!p[g].getAttribute("fr-original-style")&&p[g].getAttribute("style")?(p[g].setAttribute("fr-original-style",p[g].getAttribute("style")),i.push(p[g])):p[g].getAttribute("fr-original-style")||i.push(p[g]),a[p[g]]||(a[p[g]]={});for(var v=1e3*u+T(l[f].selectorText),$=l[f].style.cssText.split(";"),b=0;b<$.length;b++){var y=$[b].trim().split(":")[0];y.match(s)||(a[p[g]][y]||(a[p[g]][y]=0,(p[g].getAttribute("fr-original-style")||"").indexOf(y+":")>=0&&(a[p[g]][y]=1e4)),v>=a[p[g]][y]&&(a[p[g]][y]=v,$[b].trim().length&&(p[g].style[y.trim()]=$[b].trim().split(":")[1].trim())))}}}}for(o=0;o<i.length;o++)if(i[o].getAttribute("class")&&(i[o].setAttribute("fr-original-class",i[o].getAttribute("class")),i[o].removeAttribute("class")),(i[o].getAttribute("fr-original-style")||"").trim().length>0)for(var E=i[o].getAttribute("fr-original-style").split(";"),g=0;g<E.length;g++)E[g].indexOf(":")>0&&(i[o].style[E[g].split(":")[0].trim()]=E[g].split(":")[1].trim())}if(t.core.isEmpty()?t.opts.fullPage&&(r=m(t.iframe_document),r+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.find("head").get(0).outerHTML+"<body></body></html>"):("undefined"==typeof e&&(e=!1),t.opts.fullPage?(r=m(t.iframe_document),t.$el.removeClass("fr-view"),r+="<html"+t.node.attributes(t.$html.get(0))+">"+t.$html.html()+"</html>",t.$el.addClass("fr-view")):r=t.$el.html()),!t.opts.useClasses&&!n)for(o=0;o<i.length;o++)i[o].getAttribute("fr-original-class")&&(i[o].setAttribute("class",i[o].getAttribute("fr-original-class")),i[o].removeAttribute("fr-original-class")),i[o].getAttribute("fr-original-style")?(i[o].setAttribute("style",i[o].getAttribute("fr-original-style")),i[o].removeAttribute("fr-original-style")):i[o].removeAttribute("style");t.opts.fullPage&&(r=r.replace(/<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,""),r=r.replace(/<link([^>]*)data-fr-style="true"([^>]*)>/g,""),r=r.replace(/<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,""),r=r.replace(/<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>"),r=r.replace(/<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),r=r.replace(/<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),r=r.replace(/<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,'<body$1class="$2$4"$5>$6</body>'),r=r.replace(/<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")),t.opts.htmlSimpleAmpersand&&(r=r.replace(/\&amp;/gi,"&")),t.events.trigger("html.afterGet"),e||(r=r.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,"")),r=t.clean.invisibleSpaces(r),r=t.clean.exec(r,O);var w=t.events.chainTrigger("html.get",r);return"string"==typeof w&&(r=w),r=r.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(e){return e.replace(/<br>/g,"\n")})}function N(){var n=function(n,r){for(;r&&(r.nodeType==Node.TEXT_NODE||!t.node.isBlock(r))&&!t.node.isElement(r);)r&&r.nodeType!=Node.TEXT_NODE&&e(n).wrapInner(t.node.openTagString(r)+t.node.closeTagString(r)),r=r.parentNode;r&&n.innerHTML==r.innerHTML&&(n.innerHTML=r.outerHTML)},r=function(){var n,r=null;return t.win.getSelection?(n=t.win.getSelection(),n&&n.rangeCount&&(r=n.getRangeAt(0).commonAncestorContainer,
r.nodeType!=Node.ELEMENT_NODE&&(r=r.parentNode))):(n=t.doc.selection)&&"Control"!=n.type&&(r=n.createRange().parentElement()),null!=r&&(e.inArray(t.el,e(r).parents())>=0||r==t.el)?r:null},o="";if("undefined"!=typeof t.win.getSelection){t.browser.mozilla&&(t.selection.save(),t.$el.find('.fr-marker[data-type="false"]').length>1&&(t.$el.find('.fr-marker[data-type="false"][data-id="0"]').remove(),t.$el.find('.fr-marker[data-type="false"]:last').attr("data-id","0"),t.$el.find(".fr-marker").not('[data-id="0"]').remove()),t.selection.restore());for(var i=t.selection.ranges(),a=0;a<i.length;a++){var s=document.createElement("div");s.appendChild(i[a].cloneContents()),n(s,r()),e(s).find(".fr-element").length>0&&(s=t.el),o+=s.innerHTML}}else"undefined"!=typeof t.doc.selection&&"Text"==t.doc.selection.type&&(o=t.doc.selection.createRange().htmlText);return o}function k(e){var n=t.doc.createElement("div");return n.innerHTML=e,null!==n.querySelector(i())}function _(e){var n=t.doc.createElement("div");return n.innerHTML=e,t.selection.setAtEnd(n),n.innerHTML}function M(e){return e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&#39;")}function D(e,n,r){t.selection.isCollapsed()||t.selection.remove();var o;if(o=n?e:t.clean.html(e),o=o.replace(/\r|\n/g," "),e.indexOf('class="fr-marker"')<0&&(o=_(o)),t.core.isEmpty()&&!t.opts.keepFormatOnDelete)t.el.innerHTML=o;else{var i=t.markers.insert();if(i){var a,s=t.node.blockParent(i);if((k(o)||r)&&(a=t.node.deepestParent(i)||s&&"LI"==s.tagName)){var i=t.markers.split();if(!i)return!1;i.outerHTML=o}else i.outerHTML=o}else t.el.innerHTML=t.el.innerHTML+o}y(),t.events.trigger("html.inserted")}function I(n){var r=null;if("undefined"==typeof n&&(r=t.selection.element()),t.opts.keepFormatOnDelete)return!1;var o=r?(r.textContent.match(/\u200B/g)||[]).length-r.querySelectorAll(".fr-marker").length:0,i=(t.el.textContent.match(/\u200B/g)||[]).length-t.el.querySelectorAll(".fr-marker").length;if(i==o)return!1;var a,s;do{s=!1,a=t.el.querySelectorAll("*:not(.fr-marker)");for(var l=0;l<a.length;l++){var u=a[l];if(r!=u){var c=u.textContent;0===u.children.length&&1===c.length&&8203==c.charCodeAt(0)&&(e(u).remove(),s=!0)}}}while(s)}function F(){var e=function(){I(),t.placeholder&&t.placeholder.refresh()};t.events.on("mouseup",e),t.events.on("keydown",e),t.events.on("contentChanged",E)}return{defaultTag:n,emptyBlocks:r,emptyBlockTagsQuery:o,blockTagsQuery:i,fillEmptyBlocks:f,cleanEmptyTags:a,cleanWhiteTags:I,cleanBlankSpaces:p,blocks:d,getDoctype:m,set:x,get:A,getSelected:N,insert:D,wrap:u,unwrap:c,escapeEntities:M,checkIfEmpty:E,extractNode:w,extractNodeAttrs:C,extractDoctype:S,cleanBRs:b,_init:F}},e.extend(e.FE.DEFAULTS,{height:null,heightMax:null,heightMin:null,width:null}),e.FE.MODULES.size=function(e){function t(){n(),e.opts.height&&e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$iframe.height(e.$el.outerHeight(!0))}function n(){e.opts.heightMin?e.$el.css("minHeight",e.opts.heightMin):e.$el.css("minHeight",""),e.opts.heightMax?(e.$wp.css("maxHeight",e.opts.heightMax),e.$wp.css("overflow","auto")):(e.$wp.css("maxHeight",""),e.$wp.css("overflow","")),e.opts.height?(e.$wp.height(e.opts.height),e.$el.css("minHeight",e.opts.height-e.helpers.getPX(e.$el.css("padding-top"))-e.helpers.getPX(e.$el.css("padding-bottom"))),e.$wp.css("overflow","auto")):(e.$wp.css("height",""),e.opts.heightMin||e.$el.css("minHeight",""),e.opts.heightMax||e.$wp.css("overflow","")),e.opts.width&&e.$box.width(e.opts.width)}function r(){return!!e.$wp&&(n(),void(e.$iframe&&(e.events.on("keyup",t),e.events.on("commands.after",t),e.events.on("html.set",t),e.events.on("init",t),e.events.on("initialized",t))))}return{_init:r,syncIframe:t,refresh:n}},e.extend(e.FE.DEFAULTS,{language:null}),e.FE.LANGUAGE={},e.FE.MODULES.language=function(t){function n(e){return o&&o.translation[e]?o.translation[e]:e}function r(){e.FE.LANGUAGE&&(o=e.FE.LANGUAGE[t.opts.language]),o&&o.direction&&(t.opts.direction=o.direction)}var o;return{_init:r,translate:n}},e.extend(e.FE.DEFAULTS,{placeholderText:"Type something"}),e.FE.MODULES.placeholder=function(t){function n(){t.$placeholder||a();var n=0,r=0,o=0,i=0,s=0,l=0,u=t.node.contents(t.el),c=e(t.selection.element()).css("text-align");if(u.length&&u[0].nodeType==Node.ELEMENT_NODE){var f=e(u[0]);!t.opts.toolbarInline&&t.ready&&(n=t.helpers.getPX(f.css("margin-top")),i=t.helpers.getPX(f.css("padding-top")),r=t.helpers.getPX(f.css("margin-left")),o=t.helpers.getPX(f.css("margin-right")),s=t.helpers.getPX(f.css("padding-left")),l=t.helpers.getPX(f.css("padding-right"))),t.$placeholder.css("font-size",f.css("font-size")),t.$placeholder.css("line-height",f.css("line-height"))}else t.$placeholder.css("font-size",t.$el.css("font-size")),t.$placeholder.css("line-height",t.$el.css("line-height"));t.$wp.addClass("show-placeholder"),t.$placeholder.css({marginTop:Math.max(t.helpers.getPX(t.$el.css("margin-top")),n),paddingTop:Math.max(t.helpers.getPX(t.$el.css("padding-top")),i),paddingLeft:Math.max(t.helpers.getPX(t.$el.css("padding-left")),s),marginLeft:Math.max(t.helpers.getPX(t.$el.css("margin-left")),r),paddingRight:Math.max(t.helpers.getPX(t.$el.css("padding-right")),l),marginRight:Math.max(t.helpers.getPX(t.$el.css("margin-right")),o),textAlign:c}).text(t.language.translate(t.opts.placeholderText||t.$oel.attr("placeholder")||"")),t.$placeholder.html(t.$placeholder.text().replace(/\n/g,"<br>"))}function r(){t.$wp.removeClass("show-placeholder")}function o(){return!t.$wp||t.node.hasClass(t.$wp.get(0),"show-placeholder")}function i(){return!!t.$wp&&void(t.core.isEmpty()?n():r())}function a(){t.$placeholder=e('<span class="fr-placeholder"></span>'),t.$wp.append(t.$placeholder)}function s(){return!!t.$wp&&void t.events.on("init input keydown keyup contentChanged initialized",i)}return{_init:s,show:n,hide:r,refresh:i,isVisible:o}},e.FE.MODULES.edit=function(e){function t(){if(e.browser.mozilla)try{e.doc.execCommand("enableObjectResizing",!1,"false"),e.doc.execCommand("enableInlineTableEditing",!1,"false")}catch(t){}if(e.browser.msie)try{e.doc.body.addEventListener("mscontrolselect",function(e){return e.preventDefault(),!1})}catch(t){}}function n(){e.$wp?(e.$el.attr("contenteditable",!0),e.$el.removeClass("fr-disabled").attr("aria-disabled",!1),e.$tb&&e.$tb.removeClass("fr-disabled").attr("aria-disabled",!1),t()):e.$el.is("a")&&e.$el.attr("contenteditable",!0),i=!1}function r(){e.$wp?(e.$el.attr("contenteditable",!1),e.$el.addClass("fr-disabled").attr("aria-disabled",!0),e.$tb&&e.$tb.addClass("fr-disabled").attr("aria-disabled",!0)):e.$el.is("a")&&e.$el.attr("contenteditable",!1),i=!0}function o(){return i}var i=!1;return{on:n,off:r,disableDesign:t,isDisabled:o}},e.extend(e.FE.DEFAULTS,{editorClass:null,typingTimer:500,iframe:!1,requestWithCORS:!0,requestWithCredentials:!1,requestHeaders:{},useClasses:!0,spellcheck:!0,iframeStyle:'html{margin:0px;height:auto;}body{height:auto;padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:"";display:block;clear:both;}',iframeStyleFiles:[],direction:"auto",zIndex:1,disableRightClick:!1,scrollableContainer:"body",keepFormatOnDelete:!1,theme:null}),e.FE.MODULES.core=function(t){function n(n){if(t.opts.iframe){t.$head.find("style[data-fr-style], link[data-fr-style]").remove(),t.$head.append('<style data-fr-style="true">'+n+"</style>");for(var r=0;r<t.opts.iframeStyleFiles.length;r++){var o=e('<link data-fr-style="true" rel="stylesheet" href="'+t.opts.iframeStyleFiles[r]+'">');o.get(0).addEventListener("load",t.size.syncIframe),t.$head.append(o)}}}function r(){t.opts.iframe||t.$el.addClass("fr-element fr-view")}function o(){if(t.$box.addClass("fr-box"+(t.opts.editorClass?" "+t.opts.editorClass:"")),t.$wp.addClass("fr-wrapper"),r(),t.opts.iframe){t.$iframe.addClass("fr-iframe"),t.$el.addClass("fr-view");for(var e=0;e<t.o_doc.styleSheets.length;e++){var n;try{n=t.o_doc.styleSheets[e].cssRules}catch(o){}if(n)for(var i=0,a=n.length;i<a;i++)!n[i].selectorText||0!==n[i].selectorText.indexOf(".fr-view")&&0!==n[i].selectorText.indexOf(".fr-element")||n[i].style.cssText.length>0&&(0===n[i].selectorText.indexOf(".fr-view")?t.opts.iframeStyle+=n[i].selectorText.replace(/\.fr-view/g,"body")+"{"+n[i].style.cssText+"}":t.opts.iframeStyle+=n[i].selectorText.replace(/\.fr-element/g,"body")+"{"+n[i].style.cssText+"}")}}"auto"!=t.opts.direction&&t.$box.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.$el.attr("dir",t.opts.direction),t.$wp.attr("dir",t.opts.direction),t.opts.zIndex>1&&t.$box.css("z-index",t.opts.zIndex),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme")}function i(){return t.node.isEmpty(t.el)}function a(){t.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!t.win.FormData,progress:"upload"in new XMLHttpRequest}}function s(e,n){var r=new XMLHttpRequest;r.open(n,e,!0),t.opts.requestWithCredentials&&(r.withCredentials=!0);for(var o in t.opts.requestHeaders)t.opts.requestHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,t.opts.requestHeaders[o]);return r}function l(e){"TEXTAREA"==t.$oel.get(0).tagName&&t.$oel.val(e),t.$wp&&("TEXTAREA"==t.$oel.get(0).tagName?(t.$el.html(""),t.$wp.html(""),t.$box.replaceWith(t.$oel),t.$oel.show()):(t.$wp.replaceWith(e),t.$el.html(""),t.$box.removeClass("fr-view fr-ltr fr-box "+(t.opts.editorClass||"")),t.opts.theme&&t.$box.addClass(t.opts.theme+"-theme"))),this.$wp=null,this.$el=null,this.el=null,this.$box=null}function u(){return t.browser.mozilla&&t.helpers.isMobile()?t.selection.inEditor():t.node.hasFocus(t.el)||t.$el.find("*:focus").length>0}function c(e){if(!e)return!1;var n=e.data("instance");return!!n&&n.id==t.id}function f(){if(e.FE.INSTANCES.push(t),a(),t.$wp){o(),t.html.set(t._original_html),t.$el.attr("spellcheck",t.opts.spellcheck),t.helpers.isMobile()&&(t.$el.attr("autocomplete",t.opts.spellcheck?"on":"off"),t.$el.attr("autocorrect",t.opts.spellcheck?"on":"off"),t.$el.attr("autocapitalize",t.opts.spellcheck?"on":"off")),t.opts.disableRightClick&&t.events.$on(t.$el,"contextmenu",function(e){if(2==e.button)return!1});try{t.doc.execCommand("styleWithCSS",!1,!1)}catch(n){}}"TEXTAREA"==t.$oel.get(0).tagName&&(t.events.on("contentChanged",function(){t.$oel.val(t.html.get())}),t.events.on("form.submit",function(){t.$oel.val(t.html.get())}),t.events.on("form.reset",function(){t.html.set(t._original_html)}),t.$oel.val(t.html.get())),t.helpers.isIOS()&&t.events.$on(t.$doc,"selectionchange",function(){t.$doc.get(0).hasFocus()||t.$win.get(0).focus()}),t.events.trigger("init")}return{_init:f,destroy:l,isEmpty:i,getXHR:s,injectStyle:n,hasFocus:u,sameInstance:c}},e.FE.MODULES.cursorLists=function(t){function n(e){for(var t=e;"LI"!=t.tagName;)t=t.parentNode;return t}function r(e){for(var n=e;!t.node.isList(n);)n=n.parentNode;return n}function o(o){var i,a=n(o),s=a.nextSibling,l=a.previousSibling,u=t.html.defaultTag();if(t.node.isEmpty(a,!0)&&s){for(var c="",f="",d=o.parentNode;!t.node.isList(d)&&d.parentNode&&"LI"!==d.parentNode.tagName;)c=t.node.openTagString(d)+c,f+=t.node.closeTagString(d),d=d.parentNode;c=t.node.openTagString(d)+c,f+=t.node.closeTagString(d);var p="";for(p=d.parentNode&&"LI"==d.parentNode.tagName?f+"<li>"+e.FE.MARKERS+"<br>"+c:u?f+"<"+u+">"+e.FE.MARKERS+"<br></"+u+">"+c:f+e.FE.MARKERS+"<br>"+c,e(a).html('<span id="fr-break"></span>');["UL","OL"].indexOf(d.tagName)<0||d.parentNode&&"LI"===d.parentNode.tagName;)d=d.parentNode;var h=t.node.openTagString(d)+e(d).html()+t.node.closeTagString(d);h=h.replace(/<span id="fr-break"><\/span>/g,p),e(d).replaceWith(h),t.$el.find("li:empty").remove()}else l&&s||!t.node.isEmpty(a,!0)?(e(a).before("<li><br></li>"),e(o).remove()):l?(i=r(a),i.parentNode&&"LI"==i.parentNode.tagName?e(i.parentNode).after("<li>"+e.FE.MARKERS+"<br></li>"):u?e(i).after("<"+u+">"+e.FE.MARKERS+"<br></"+u+">"):e(i).after(e.FE.MARKERS+"<br>"),e(a).remove()):(i=r(a),i.parentNode&&"LI"==i.parentNode.tagName?s?e(i.parentNode).before("<li>"+e.FE.MARKERS+"<br></li>"):e(i.parentNode).after("<li>"+e.FE.MARKERS+"<br></li>"):u?e(i).before("<"+u+">"+e.FE.MARKERS+"<br></"+u+">"):e(i).before(e.FE.MARKERS+"<br>"),e(a).remove())}function i(r){for(var o=n(r),i="",a=r,s="",l="";a!=o;){a=a.parentNode;var u="A"==a.tagName&&t.cursor.isAtEnd(r,a)?"fr-to-remove":"";s=t.node.openTagString(e(a).clone().addClass(u).get(0))+s,l=t.node.closeTagString(a)+l}i=l+i+s+e.FE.MARKERS,e(r).replaceWith('<span id="fr-break"></span>');var c=t.node.openTagString(o)+e(o).html()+t.node.closeTagString(o);c=c.replace(/<span id="fr-break"><\/span>/g,i),e(o).replaceWith(c)}function a(r){for(var o=n(r),i=e.FE.MARKERS,a="",s=r,l=!1;s!=o;){s=s.parentNode;var u="A"==s.tagName&&t.cursor.isAtEnd(r,s)?"fr-to-remove":"";l||s==o||t.node.isBlock(s)||(l=!0,a+=e.FE.INVISIBLE_SPACE),a=t.node.openTagString(e(s).clone().addClass(u).get(0))+a,i+=t.node.closeTagString(s)}var c=a+i;e(r).remove(),e(o).after(c)}function s(o){var i=n(o),a=i.previousSibling;if(a){a=e(a).find(t.html.blockTagsQuery()).get(-1)||a,e(o).replaceWith(e.FE.MARKERS);var s=t.node.contents(a);s.length&&"BR"==s[s.length-1].tagName&&e(s[s.length-1]).remove(),e(i).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==i&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))});for(var l,u=t.node.contents(i)[0];u&&!t.node.isList(u);)l=u.nextSibling,e(a).append(u),u=l;for(a=i.previousSibling;u;)l=u.nextSibling,e(a).append(u),u=l;e(i).remove()}else{var c=r(i);if(e(o).replaceWith(e.FE.MARKERS),c.parentNode&&"LI"==c.parentNode.tagName){var f=c.previousSibling;t.node.isBlock(f)?(e(i).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==i&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}),e(f).append(e(i).html())):e(c).before(e(i).html())}else{var d=t.html.defaultTag();d&&0===e(i).find(t.html.blockTagsQuery()).length?e(c).before("<"+d+">"+e(i).html()+"</"+d+">"):e(c).before(e(i).html())}e(i).remove(),0===e(c).find("li").length&&e(c).remove()}}function l(r){var o,i=n(r),a=i.nextSibling;if(a){o=t.node.contents(a),o.length&&"BR"==o[0].tagName&&e(o[0]).remove(),e(a).find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==a&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))});for(var s,l=r,u=t.node.contents(a)[0];u&&!t.node.isList(u);)s=u.nextSibling,e(l).after(u),l=u,u=s;for(;u;)s=u.nextSibling,e(i).append(u),u=s;e(r).replaceWith(e.FE.MARKERS),e(a).remove()}else{for(var c=i;!c.nextSibling&&c!=t.el;)c=c.parentNode;if(c==t.el)return!1;if(c=c.nextSibling,t.node.isBlock(c))e.FE.NO_DELETE_TAGS.indexOf(c.tagName)<0&&(e(r).replaceWith(e.FE.MARKERS),o=t.node.contents(i),o.length&&"BR"==o[o.length-1].tagName&&e(o[o.length-1]).remove(),e(i).append(e(c).html()),e(c).remove());else for(o=t.node.contents(i),o.length&&"BR"==o[o.length-1].tagName&&e(o[o.length-1]).remove(),e(r).replaceWith(e.FE.MARKERS);c&&!t.node.isBlock(c)&&"BR"!=c.tagName;)e(i).append(e(c)),c=c.nextSibling}}return{_startEnter:o,_middleEnter:i,_endEnter:a,_backspace:s,_del:l}},e.FE.NO_DELETE_TAGS=["TH","TD","TR","TABLE","FORM"],e.FE.SIMPLE_ENTER_TAGS=["TH","TD","LI","DL","DT","FORM"],e.FE.MODULES.cursor=function(t){function n(e){return!!e&&(!!t.node.isBlock(e)||(e.nextSibling&&e.nextSibling.nodeType==Node.TEXT_NODE&&0==e.nextSibling.textContent.replace(/\u200b/g,"").length?n(e.nextSibling):!e.nextSibling&&n(e.parentNode)))}function r(e){return!!e&&(!!t.node.isBlock(e)||(e.previousSibling&&e.previousSibling.nodeType==Node.TEXT_NODE&&0==e.previousSibling.textContent.replace(/\u200b/g,"").length?r(e.previousSibling):!e.previousSibling&&r(e.parentNode)))}function o(e,n){return!!e&&e!=t.$wp.get(0)&&(e.previousSibling&&e.previousSibling.nodeType==Node.TEXT_NODE&&0==e.previousSibling.textContent.replace(/\u200b/g,"").length?o(e.previousSibling,n):!e.previousSibling&&(e.parentNode==n||o(e.parentNode,n)))}function i(e,n){return!!e&&e!=t.$wp.get(0)&&(e.nextSibling&&e.nextSibling.nodeType==Node.TEXT_NODE&&0==e.nextSibling.textContent.replace(/\u200b/g,"").length?i(e.nextSibling,n):!e.nextSibling&&(e.parentNode==n||i(e.parentNode,n)))}function a(n){return e(n).parentsUntil(t.$el,"LI").length>0&&0===e(n).parentsUntil("LI","TABLE").length}function s(n){var r=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,o=t.node.deepestParent(n,[],!r);if(o&&"BLOCKQUOTE"==o.tagName){var i=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);i&&i.previousSibling&&(o=i)}if(null!==o){var a,s=o.previousSibling;if(t.node.isBlock(o)&&t.node.isEditable(o)&&s&&e.FE.NO_DELETE_TAGS.indexOf(s.tagName)<0)if(t.node.isDeletable(s))e(s).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isEditable(s))if(t.node.isBlock(s))if(t.node.isEmpty(s)&&!t.node.isList(s))e(s).remove();else{if(t.node.isList(s)&&(s=e(s).find("li:last").get(0)),a=t.node.contents(s),a.length&&"BR"==a[a.length-1].tagName&&e(a[a.length-1]).remove(),"BLOCKQUOTE"==s.tagName&&"BLOCKQUOTE"!=o.tagName)for(a=t.node.contents(s);a.length&&t.node.isBlock(a[a.length-1]);)s=a[a.length-1],a=t.node.contents(s);else if("BLOCKQUOTE"!=s.tagName&&"BLOCKQUOTE"==o.tagName)for(a=t.node.contents(o);a.length&&t.node.isBlock(a[0]);)o=a[0],a=t.node.contents(o);e(n).replaceWith(e.FE.MARKERS),e(s).append(t.node.isEmpty(o)?e.FE.MARKERS:o.innerHTML),e(o).remove()}else e(n).replaceWith(e.FE.MARKERS),"BLOCKQUOTE"==o.tagName&&s.nodeType==Node.ELEMENT_NODE?e(s).remove():(e(s).after(t.node.isEmpty(o)?"":e(o).html()),e(o).remove(),"BR"==s.tagName&&e(s).remove())}}function l(n){for(var r=n;!r.previousSibling;)if(r=r.parentNode,t.node.isElement(r))return!1;r=r.previousSibling;var o;if(!t.node.isBlock(r)&&t.node.isEditable(r)){for(o=t.node.contents(r);r.nodeType!=Node.TEXT_NODE&&!t.node.isDeletable(r)&&o.length&&t.node.isEditable(r);)r=o[o.length-1],o=t.node.contents(r);if(r.nodeType==Node.TEXT_NODE){if(t.helpers.isIOS())return!0;var i=r.textContent,a=i.length-1;if(t.opts.tabSpaces&&i.length>=t.opts.tabSpaces){var s=i.substr(i.length-t.opts.tabSpaces,i.length-1);0==s.replace(/ /g,"").replace(new RegExp(e.FE.UNICODE_NBSP,"g"),"").length&&(a=i.length-t.opts.tabSpaces)}r.textContent=i.substring(0,a),r.textContent.length&&55357==r.textContent.charCodeAt(r.textContent.length-1)&&(r.textContent=r.textContent.substr(0,r.textContent.length-1));var l=i.length!=r.textContent.length;0==r.textContent.length?l&&t.opts.keepFormatOnDelete?e(r).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS):2!=r.parentNode.childNodes.length||r.parentNode!=n.parentNode||t.node.isBlock(r.parentNode)||t.node.isElement(r.parentNode)?(e(r).after(e.FE.MARKERS),t.node.isElement(r.parentNode)&&!n.nextSibling&&r.previousSibling&&"BR"==r.previousSibling.tagName&&e(n).after("<br>"),r.parentNode.removeChild(r)):(e(r.parentNode).after(e.FE.MARKERS),e(r.parentNode).remove()):e(r).after(e.FE.MARKERS)}else t.node.isDeletable(r)?(e(r).after(e.FE.MARKERS),e(r).remove()):t.events.trigger("node.remove",[e(r)])!==!1&&(e(r).after(e.FE.MARKERS),e(r).remove())}else if(e.FE.NO_DELETE_TAGS.indexOf(r.tagName)<0&&(t.node.isEditable(r)||t.node.isDeletable(r)))if(t.node.isDeletable(r))e(n).replaceWith(e.FE.MARKERS),e(r).remove();else if(t.node.isEmpty(r)&&!t.node.isList(r))e(r).remove(),e(n).replaceWith(e.FE.MARKERS);else{for(t.node.isList(r)&&(r=e(r).find("li:last").get(0)),o=t.node.contents(r),o&&"BR"==o[o.length-1].tagName&&e(o[o.length-1]).remove(),o=t.node.contents(r);o&&t.node.isBlock(o[o.length-1]);)r=o[o.length-1],o=t.node.contents(r);e(r).append(e.FE.MARKERS);for(var u=n;!u.previousSibling;)u=u.parentNode;for(;u&&"BR"!==u.tagName&&!t.node.isBlock(u);){var c=u;u=u.nextSibling,e(r).append(c)}u&&"BR"==u.tagName&&e(u).remove(),e(n).remove()}else n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove()}function u(){var i=!1,u=t.markers.insert();if(!u)return!0;for(var c=u.parentNode;c&&!t.node.isElement(c);){if("false"===c.getAttribute("contenteditable"))return e(u).replaceWith(e.FE.MARKERS),t.selection.restore(),!1;if("true"===c.getAttribute("contenteditable"))break;c=c.parentNode}t.el.normalize();var f=u.previousSibling;if(f){var d=f.textContent;d&&d.length&&8203==d.charCodeAt(d.length-1)&&(1==d.length?e(f).remove():(f.textContent=f.textContent.substr(0,d.length-1),f.textContent.length&&55357==f.textContent.charCodeAt(f.textContent.length-1)&&(f.textContent=f.textContent.substr(0,f.textContent.length-1))))}return n(u)?i=l(u):r(u)?a(u)&&o(u,e(u).parents("li:first").get(0))?t.cursorLists._backspace(u):s(u):i=l(u),e(u).remove(),p(),t.html.fillEmptyBlocks(!0),t.opts.htmlUntouched||(t.html.cleanEmptyTags(),t.clean.quotes(),t.clean.lists()),t.spaces.normalizeAroundCursor(),t.selection.restore(),i}function c(n){var r=e(n).parentsUntil(t.$el,"BLOCKQUOTE").length>0,o=t.node.deepestParent(n,[],!r);if(o&&"BLOCKQUOTE"==o.tagName){var i=t.node.deepestParent(n,[e(n).parentsUntil(t.$el,"BLOCKQUOTE").get(0)]);i&&i.nextSibling&&(o=i)}if(null!==o){var a,s=o.nextSibling;if(t.node.isBlock(o)&&(t.node.isEditable(o)||t.node.isDeletable(o))&&s&&e.FE.NO_DELETE_TAGS.indexOf(s.tagName)<0)if(t.node.isDeletable(s))e(s).remove(),e(n).replaceWith(e.FE.MARKERS);else if(t.node.isBlock(s)&&t.node.isEditable(s))if(t.node.isList(s))if(t.node.isEmpty(o,!0))e(o).remove(),e(s).find("li:first").prepend(e.FE.MARKERS);else{var l=e(s).find("li:first");"BLOCKQUOTE"==o.tagName&&(a=t.node.contents(o),a.length&&t.node.isBlock(a[a.length-1])&&(o=a[a.length-1])),0===l.find("ul, ol").length&&(e(n).replaceWith(e.FE.MARKERS),l.find(t.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==l.get(0)&&e(this).replaceWith(e(this).html()+(t.node.isEmpty(this)?"":"<br>"))}),e(o).append(t.node.contents(l.get(0))),l.remove(),0===e(s).find("li").length&&e(s).remove())}else{if(a=t.node.contents(s),a.length&&"BR"==a[0].tagName&&e(a[0]).remove(),"BLOCKQUOTE"!=s.tagName&&"BLOCKQUOTE"==o.tagName)for(a=t.node.contents(o);a.length&&t.node.isBlock(a[a.length-1]);)o=a[a.length-1],a=t.node.contents(o);else if("BLOCKQUOTE"==s.tagName&&"BLOCKQUOTE"!=o.tagName)for(a=t.node.contents(s);a.length&&t.node.isBlock(a[0]);)s=a[0],a=t.node.contents(s);e(n).replaceWith(e.FE.MARKERS),e(o).append(s.innerHTML),e(s).remove()}else{for(e(n).replaceWith(e.FE.MARKERS);s&&"BR"!==s.tagName&&!t.node.isBlock(s)&&t.node.isEditable(s);){var u=s;s=s.nextSibling,e(o).append(u)}s&&"BR"==s.tagName&&t.node.isEditable(s)&&e(s).remove()}}}function f(r){for(var o=r;!o.nextSibling;)if(o=o.parentNode,t.node.isElement(o))return!1;if(o=o.nextSibling,"BR"==o.tagName&&t.node.isEditable(o))if(o.nextSibling){if(t.node.isBlock(o.nextSibling)&&t.node.isEditable(o.nextSibling)){if(!(e.FE.NO_DELETE_TAGS.indexOf(o.nextSibling.tagName)<0))return void e(o).remove();o=o.nextSibling,e(o.previousSibling).remove()}}else if(n(o)){if(a(r))t.cursorLists._del(r);else{var i=t.node.deepestParent(o);i&&(e(o).remove(),c(r))}return}var s;if(!t.node.isBlock(o)&&t.node.isEditable(o)){for(s=t.node.contents(o);o.nodeType!=Node.TEXT_NODE&&s.length&&!t.node.isDeletable(o)&&t.node.isEditable(o);)o=s[0],s=t.node.contents(o);o.nodeType==Node.TEXT_NODE?(e(o).before(e.FE.MARKERS),o.textContent.length&&55357==o.textContent.charCodeAt(0)?o.textContent=o.textContent.substring(2,o.textContent.length):o.textContent=o.textContent.substring(1,o.textContent.length)):t.node.isDeletable(o)?(e(o).before(e.FE.MARKERS),e(o).remove()):t.events.trigger("node.remove",[e(o)])!==!1&&(e(o).before(e.FE.MARKERS),e(o).remove()),e(r).remove()}else if(e.FE.NO_DELETE_TAGS.indexOf(o.tagName)<0&&(t.node.isEditable(o)||t.node.isDeletable(o)))if(t.node.isDeletable(o))e(r).replaceWith(e.FE.MARKERS),e(o).remove();else if(t.node.isList(o))r.previousSibling?(e(o).find("li:first").prepend(r),t.cursorLists._backspace(r)):(e(o).find("li:first").prepend(e.FE.MARKERS),e(r).remove());else if(s=t.node.contents(o),s&&"BR"==s[0].tagName&&e(s[0]).remove(),s&&"BLOCKQUOTE"==o.tagName){var l=s[0];for(e(r).before(e.FE.MARKERS);l&&"BR"!=l.tagName;){var u=l;l=l.nextSibling,e(r).before(u)}l&&"BR"==l.tagName&&e(l).remove()}else e(r).after(e(o).html()).after(e.FE.MARKERS),e(o).remove()}function d(){var o=t.markers.insert();if(!o)return!1;if(t.el.normalize(),n(o))if(a(o))if(0===e(o).parents("li:first").find("ul, ol").length)t.cursorLists._del(o);else{var i=e(o).parents("li:first").find("ul:first, ol:first").find("li:first");i=i.find(t.html.blockTagsQuery()).get(-1)||i,i.prepend(o),t.cursorLists._backspace(o)}else c(o);else f(r(o)?o:o);e(o).remove(),p(),t.html.fillEmptyBlocks(!0),t.opts.htmlUntouched||(t.html.cleanEmptyTags(),t.clean.quotes(),t.clean.lists()),t.spaces.normalizeAroundCursor(),t.selection.restore()}function p(){for(var e=t.el.querySelectorAll("blockquote:empty"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])}function h(){t.$el.find(".fr-to-remove").each(function(){for(var n=t.node.contents(this),r=0;r<n.length;r++)n[r].nodeType==Node.TEXT_NODE&&(n[r].textContent=n[r].textContent.replace(/\u200B/g,""));e(this).replaceWith(this.innerHTML)})}function g(n,r,o){var a,s=t.node.deepestParent(n,[],!o);if(s&&"BLOCKQUOTE"==s.tagName)return i(n,s)?(a=t.html.defaultTag(),a?e(s).after("<"+a+">"+e.FE.MARKERS+"<br></"+a+">"):e(s).after(e.FE.MARKERS+"<br>"),e(n).remove(),!1):(v(n,r,o),!1);if(null==s)a=t.html.defaultTag(),a&&t.node.isElement(n.parentNode)?e(n).replaceWith("<"+a+">"+e.FE.MARKERS+"<br></"+a+">"):e(n).replaceWith((t.node.isEmpty(n.parentNode,!0)?"":"<br/>")+e.FE.MARKERS+"<br/>");else{var l=n,u="";t.node.isBlock(s)&&!r||(u="<br/>");var c="",f="";a=t.html.defaultTag();var d="",p="";a&&t.node.isBlock(s)&&(d="<"+a+">",p="</"+a+">",s.tagName==a.toUpperCase()&&(d=t.node.openTagString(e(s).clone().removeAttr("id").get(0))));do if(l=l.parentNode,!r||l!=s||r&&!t.node.isBlock(s))if(c+=t.node.closeTagString(l),l==s&&t.node.isBlock(s))f=d+f;else{var h="A"==l.tagName&&i(n,l)?"fr-to-remove":"";f=t.node.openTagString(e(l).clone().addClass(h).get(0))+f}while(l!=s);u=c+u+f+(n.parentNode==s&&t.node.isBlock(s)?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS,t.node.isBlock(s)&&!e(s).find("*:last").is("br")&&e(s).append("<br/>"),e(n).after('<span id="fr-break"></span>'),e(n).remove(),s.nextSibling&&!t.node.isBlock(s.nextSibling)||t.node.isBlock(s)||e(s).after("<br>");var g;g=!r&&t.node.isBlock(s)?t.node.openTagString(s)+e(s).html()+p:t.node.openTagString(s)+e(s).html()+t.node.closeTagString(s),g=g.replace(/<span id="fr-break"><\/span>/g,u),e(s).replaceWith(g)}}function m(n,r,a){var s,l=t.node.deepestParent(n,[],!a);if(l&&"TABLE"==l.tagName)return e(l).find("td:first, th:first").prepend(n),m(n,r,a);if(l&&"BLOCKQUOTE"==l.tagName){if(o(n,l))return s=t.html.defaultTag(),s?e(l).before("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):e(l).before(e.FE.MARKERS+"<br>"),e(n).remove(),!1;i(n,l)?g(n,r,!0):v(n,r,!0)}if(null==l)s=t.html.defaultTag(),s&&t.node.isElement(n.parentNode)?e(n).replaceWith("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):e(n).replaceWith("<br>"+e.FE.MARKERS);else{if(t.node.isBlock(l))if(r)e(n).remove(),e(l).prepend("<br>"+e.FE.MARKERS);else{if(t.node.isEmpty(l,!0))return g(n,r,a);e(l).before(t.node.openTagString(e(l).clone().removeAttr("id").get(0))+"<br>"+t.node.closeTagString(l))}else e(l).before("<br>");e(n).remove()}}function v(n,r,a){var s=t.node.deepestParent(n,[],!a);if(null==s)t.html.defaultTag()&&n.parentNode===t.el?e(n).replaceWith("<"+t.html.defaultTag()+">"+e.FE.MARKERS+"<br></"+t.html.defaultTag()+">"):(n.nextSibling&&!t.node.isBlock(n.nextSibling)||e(n).after("<br>"),e(n).replaceWith("<br>"+e.FE.MARKERS));else{var l=n,u="";"PRE"==s.tagName&&(r=!0),t.node.isBlock(s)&&!r||(u="<br>");var c="",f="";do{var d=l;if(l=l.parentNode,"BLOCKQUOTE"==s.tagName&&t.node.isEmpty(d)&&!t.node.hasClass(d,"fr-marker")&&e(d).find(n).length>0&&e(d).after(n),("BLOCKQUOTE"!=s.tagName||!i(n,l)&&!o(n,l))&&(!r||l!=s||r&&!t.node.isBlock(s))){c+=t.node.closeTagString(l);var p="A"==l.tagName&&i(n,l)?"fr-to-remove":"";f=t.node.openTagString(e(l).clone().addClass(p).removeAttr("id").get(0))+f}}while(l!=s);var h=s==n.parentNode&&t.node.isBlock(s)||n.nextSibling;if("BLOCKQUOTE"==s.tagName){n.previousSibling&&t.node.isBlock(n.previousSibling)&&n.nextSibling&&"BR"==n.nextSibling.tagName&&(e(n.nextSibling).after(n),n.nextSibling&&"BR"==n.nextSibling.tagName&&e(n.nextSibling).remove());var g=t.html.defaultTag();u=c+u+(g?"<"+g+">":"")+e.FE.MARKERS+"<br>"+(g?"</"+g+">":"")+f}else u=c+u+f+(h?"":e.FE.INVISIBLE_SPACE)+e.FE.MARKERS;e(n).replaceWith('<span id="fr-break"></span>');var m=t.node.openTagString(s)+e(s).html()+t.node.closeTagString(s);m=m.replace(/<span id="fr-break"><\/span>/g,u),e(s).replaceWith(m)}}function $(o){var i=t.markers.insert();if(!i)return!0;t.el.normalize();var s=!1;e(i).parentsUntil(t.$el,"BLOCKQUOTE").length>0&&(o=!1,s=!0),e(i).parentsUntil(t.$el,"TD, TH").length&&(s=!1),n(i)?!a(i)||o||s?g(i,o,s):t.cursorLists._endEnter(i):r(i)?!a(i)||o||s?m(i,o,s):t.cursorLists._startEnter(i):!a(i)||o||s?v(i,o,s):t.cursorLists._middleEnter(i),h(),t.opts.htmlUntouched||(t.html.fillEmptyBlocks(!0),t.html.cleanEmptyTags(),t.clean.lists()),t.spaces.normalizeAroundCursor(),t.selection.restore()}return{enter:$,backspace:u,del:d,isAtEnd:i,isAtStart:o}},e.FE.ENTER_P=0,e.FE.ENTER_DIV=1,e.FE.ENTER_BR=2,e.FE.KEYCODE={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,FF_HYPHEN:173,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,HYPHEN:189,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221},e.extend(e.FE.DEFAULTS,{enter:e.FE.ENTER_P,multiLine:!0,tabSpaces:0}),e.FE.MODULES.keys=function(t){function n(e){t.opts.multiLine?t.helpers.isIOS()||(e.preventDefault(),e.stopPropagation(),t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter()):(e.preventDefault(),e.stopPropagation())}function r(e){e.preventDefault(),e.stopPropagation(),t.opts.multiLine&&(t.selection.isCollapsed()||t.selection.remove(),t.cursor.enter(!0))}function o(e){t.selection.isCollapsed()?t.cursor.backspace()||(e.preventDefault(),e.stopPropagation(),x=!1):(e.preventDefault(),e.stopPropagation(),t.selection.remove(),t.html.fillEmptyBlocks(),x=!1),t.placeholder.refresh()}function i(e){e.preventDefault(),e.stopPropagation(),""===t.selection.text()?t.cursor.del():t.selection.remove(),t.placeholder.refresh()}function a(n){var r=t.selection.element();if(!t.helpers.isMobile()&&(t.browser.mozilla||r&&"A"==r.tagName)){n.preventDefault(),n.stopPropagation(),t.selection.isCollapsed()||t.selection.remove();var o=t.markers.insert();if(o){var i=o.previousSibling,a=o.nextSibling;!a&&o.parentNode&&"A"==o.parentNode.tagName?(o.parentNode.insertAdjacentHTML("afterend","&nbsp;"+e.FE.MARKERS),o.parentNode.removeChild(o)):(i&&i.nodeType==Node.TEXT_NODE&&1==i.textContent.length&&160==i.textContent.charCodeAt(0)?i.textContent=i.textContent+" ":o.insertAdjacentHTML("beforebegin","&nbsp;"),o.outerHTML=e.FE.MARKERS),t.selection.restore()}}}function s(){if(t.browser.mozilla&&t.selection.isCollapsed()&&!A){var e=t.selection.ranges(0),n=e.startContainer,r=e.startOffset;n&&n.nodeType==Node.TEXT_NODE&&r<=n.textContent.length&&r>0&&32==n.textContent.charCodeAt(r-1)&&(t.selection.save(),t.spaces.normalize(),t.selection.restore())}}function l(){t.selection.isFull()&&setTimeout(function(){var n=t.html.defaultTag();n?t.$el.html("<"+n+">"+e.FE.MARKERS+"<br/></"+n+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore(),
t.placeholder.refresh(),t.button.bulkRefresh(),t.undo.saveStep()},0)}function u(e){if(t.opts.tabSpaces>0)if(t.selection.isCollapsed()){t.undo.saveStep(),e.preventDefault(),e.stopPropagation();for(var n="",r=0;r<t.opts.tabSpaces;r++)n+="&nbsp;";t.html.insert(n),t.placeholder.refresh(),t.undo.saveStep()}else e.preventDefault(),e.stopPropagation(),e.shiftKey?t.commands.outdent():t.commands.indent()}function c(e){A=!1}function f(){return A}function d(s){t.events.disableBlur(),x=!0;var l=s.which;if(16===l)return!0;if(229===l)return A=!0,!0;A=!1;var c=b(l)&&!v(s),f=l==e.FE.KEYCODE.BACKSPACE||l==e.FE.KEYCODE.DELETE;if((t.selection.isFull()&&!t.opts.keepFormatOnDelete&&!t.placeholder.isVisible()||f&&t.placeholder.isVisible()&&t.opts.keepFormatOnDelete)&&(c||f)){var d=t.html.defaultTag();if(d?t.$el.html("<"+d+">"+e.FE.MARKERS+"<br/></"+d+">"):t.$el.html(e.FE.MARKERS+"<br/>"),t.selection.restore(),!b(l))return s.preventDefault(),!0}l==e.FE.KEYCODE.ENTER?s.shiftKey?r(s):n(s):l!=e.FE.KEYCODE.BACKSPACE||v(s)||s.altKey?l!=e.FE.KEYCODE.DELETE||v(s)||s.altKey?l==e.FE.KEYCODE.SPACE?a(s):l==e.FE.KEYCODE.TAB?u(s):v(s)||!b(s.which)||t.selection.isCollapsed()||s.ctrlKey||t.selection.remove():t.placeholder.isVisible()?(s.preventDefault(),s.stopPropagation()):i(s):t.placeholder.isVisible()?(s.preventDefault(),s.stopPropagation()):o(s),t.events.enableBlur()}function p(e){for(var n=t.doc.createTreeWalker(e,NodeFilter.SHOW_TEXT,t.node.filter(function(e){return/\u200B/gi.test(e.textContent)}),!1);n.nextNode();){var r=n.currentNode;r.textContent=r.textContent.replace(/\u200B/gi,"")}}function h(){if(!t.$wp)return!0;var n;t.opts.height||t.opts.heightMax?(n=t.position.getBoundingRect().top,t.helpers.isIOS()&&(n-=t.helpers.scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n>t.$wp.offset().top-t.helpers.scrollTop()+t.$wp.height()-20&&t.$wp.scrollTop(n+t.$wp.scrollTop()-(t.$wp.height()+t.$wp.offset().top)+t.helpers.scrollTop()+20)):(n=t.position.getBoundingRect().top,t.opts.toolbarBottom&&(n+=t.opts.toolbarStickyOffset),t.helpers.isIOS()&&(n-=t.helpers.scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n+=t.opts.toolbarStickyOffset,n>t.o_win.innerHeight-20&&e(t.o_win).scrollTop(n+t.helpers.scrollTop()-t.o_win.innerHeight+20),n=t.position.getBoundingRect().top,t.opts.toolbarBottom||(n-=t.opts.toolbarStickyOffset),t.helpers.isIOS()&&(n-=t.helpers.scrollTop()),t.opts.iframe&&(n+=t.$iframe.offset().top),n<t.$tb.height()+20&&e(t.o_win).scrollTop(n+t.helpers.scrollTop()-t.$tb.height()-20))}function g(){var n=t.selection.element(),r=t.node.blockParent(n);if(r&&"DIV"==r.tagName&&t.selection.info(r).atStart){var o=t.html.defaultTag();r.previousSibling&&"DIV"!=r.previousSibling.tagName&&o&&"div"!=o&&(t.selection.save(),e(r).replaceWith("<"+o+">"+r.innerHTML+"</"+o+">"),t.selection.restore())}}function m(n){if(t.helpers.isAndroid&&t.browser.mozilla)return!0;if(A)return A=!1,!1;if(!t.selection.isCollapsed())return!0;if(n&&(n.which===e.FE.KEYCODE.META||n.which==e.FE.KEYCODE.CTRL))return!0;if(n&&$(n.which))return!0;n&&n.which==e.FE.KEYCODE.ENTER&&t.helpers.isIOS()&&g(),n&&(n.which==e.FE.KEYCODE.ENTER||n.which==e.FE.KEYCODE.BACKSPACE||n.which>=37&&n.which<=40&&!t.browser.msie)&&(n.which==e.FE.KEYCODE.BACKSPACE&&x||h()),t.html.cleanBRs(!0,!0);var r=function(e){if(!e)return!1;var t=e.innerHTML;return t=t.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,""),!!(t&&/\u200B/.test(t)&&t.replace(/\u200B/gi,"").length>0)},o=function(e){var n=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return!t.helpers.isIOS()||0===((e.textContent||"").match(n)||[]).length},i=t.selection.element();r(i)&&!t.node.hasClass(i,"fr-marker")&&"IFRAME"!=i.tagName&&o(i)&&(t.selection.save(),p(i),t.selection.restore())}function v(e){if(navigator.userAgent.indexOf("Mac OS X")!=-1){if(e.metaKey&&!e.altKey)return!0}else if(e.ctrlKey&&!e.altKey)return!0;return!1}function $(t){if(t>=e.FE.KEYCODE.ARROW_LEFT&&t<=e.FE.KEYCODE.ARROW_DOWN)return!0}function b(n){if(n>=e.FE.KEYCODE.ZERO&&n<=e.FE.KEYCODE.NINE)return!0;if(n>=e.FE.KEYCODE.NUM_ZERO&&n<=e.FE.KEYCODE.NUM_MULTIPLY)return!0;if(n>=e.FE.KEYCODE.A&&n<=e.FE.KEYCODE.Z)return!0;if(t.browser.webkit&&0===n)return!0;switch(n){case e.FE.KEYCODE.SPACE:case e.FE.KEYCODE.QUESTION_MARK:case e.FE.KEYCODE.NUM_PLUS:case e.FE.KEYCODE.NUM_MINUS:case e.FE.KEYCODE.NUM_PERIOD:case e.FE.KEYCODE.NUM_DIVISION:case e.FE.KEYCODE.SEMICOLON:case e.FE.KEYCODE.FF_SEMICOLON:case e.FE.KEYCODE.DASH:case e.FE.KEYCODE.EQUALS:case e.FE.KEYCODE.FF_EQUALS:case e.FE.KEYCODE.COMMA:case e.FE.KEYCODE.PERIOD:case e.FE.KEYCODE.SLASH:case e.FE.KEYCODE.APOSTROPHE:case e.FE.KEYCODE.SINGLE_QUOTE:case e.FE.KEYCODE.OPEN_SQUARE_BRACKET:case e.FE.KEYCODE.BACKSLASH:case e.FE.KEYCODE.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}function y(n){var r=n.which;return!!(v(n)||r>=37&&r<=40||!b(r)&&r!=e.FE.KEYCODE.DELETE&&r!=e.FE.KEYCODE.BACKSPACE&&r!=e.FE.KEYCODE.ENTER)||(T||(O=t.snapshot.get()),clearTimeout(T),void(T=setTimeout(function(){T=null,t.undo.saveStep()},Math.max(250,t.opts.typingTimer))))}function E(e){var n=e.which;return!!(v(e)||n>=37&&n<=40)||void(O&&T&&(t.undo.saveStep(O),O=null))}function w(){T&&(clearTimeout(T),t.undo.saveStep(),O=null)}function C(t){var n=t.which;return v(t)||n==e.FE.KEYCODE.F5}function S(){if(t.events.on("keydown",y),t.events.on("input",s),t.events.on("keyup input",E),t.events.on("keypress",c),t.events.on("keydown",d),t.events.on("keyup",m),t.events.on("html.inserted",m),t.events.on("cut",l),!t.browser.edge&&t.el.msGetInputContext)try{t.el.msGetInputContext().addEventListener("MSCandidateWindowShow",function(){A=!0}),t.el.msGetInputContext().addEventListener("MSCandidateWindowHide",function(){A=!1,m()})}catch(e){}}var x,T,O,A=!1;return{_init:S,ctrlKey:v,isCharacter:b,isArrow:$,forceUndo:w,isIME:f,isBrowserAction:C}},e.FE.MODULES.accessibility=function(t){function n(e){if(e&&e.length){e.data("blur-event-set")||e.parents(".fr-popup").length||(t.events.$on(e,"blur",function(n){var r=e.parents(".fr-toolbar, .fr-popup").data("instance")||t;r.events.blurActive()&&r.events.trigger("blur"),r.events.enableBlur()},!0),e.data("blur-event-set",!0));var n=e.parents(".fr-toolbar, .fr-popup").data("instance")||t;n.events.disableBlur(),e.focus(),t.shared.$f_el=e}}function r(e,t){var r=t?"last":"first",o=e.find("button:visible:not(.fr-disabled), .fr-group span.fr-command:visible")[r]();if(o.length)return n(o),!0}function o(e){return e.is("input, textarea")&&a(),t.events.disableBlur(),e.focus(),!0}function i(e,n){var r=e.find("input, textarea, button, select").filter(":visible").not(":disabled").filter(n?":last":":first");if(r.length)return o(r);if(t.shared.with_kb){var i=e.find(".fr-active-item:visible:first");if(i.length)return o(i);var a=e.find("[tabIndex]:visible:first");if(a.length)return o(a)}}function a(){0===t.$el.find(".fr-marker").length&&t.core.hasFocus()&&t.selection.save()}function s(e){e.$el.find(".fr-marker").length&&(e.events.disableBlur(),e.selection.restore(),e.events.enableBlur())}function l(e){var n=e.children().not(".fr-buttons");n.data("mouseenter-event-set")||(t.events.$on(n,"mouseenter","[tabIndex]",function(r){var o=e.data("instance")||t;if(!_)return r.stopPropagation(),void r.preventDefault();var i=n.find(":focus:first");i.length&&!i.is("input, button, textarea")&&(o.events.disableBlur(),i.blur(),o.events.disableBlur(),o.events.focus())}),n.data("mouseenter-event-set",!0)),!i(n)&&t.shared.with_kb&&r(e.find(".fr-buttons"))}function u(e){t.core.hasFocus()||(t.events.disableBlur(),t.events.focus()),t.accessibility.saveSelection(),t.events.disableBlur(),t.$el.blur(),t.selection.clear(),t.events.disableBlur(),t.shared.with_kb?e.find(".fr-command[tabIndex]:first").focus():e.find("[tabIndex]:first").focus()}function c(){var e=t.popups.areVisible();if(e){var n=e.find(".fr-buttons");return n.find("button:focus, .fr-group span:focus").length?!r(e.data("instance").$tb):!r(n)}return!r(t.$tb)}function f(){var e=null;return t.shared.$f_el.is(".fr-dropdown.fr-active")?e=t.shared.$f_el:t.shared.$f_el.closest(".fr-dropdown-menu").prev().is(".fr-dropdown.fr-active")&&(e=t.shared.$f_el.closest(".fr-dropdown-menu").prev()),e}function d(o,a,s){if(t.shared.$f_el){var l=f();l&&(t.button.click(l),t.shared.$f_el=l);var u=o.find("button:visible:not(.fr-disabled), .fr-group span.fr-command:visible"),c=u.index(t.shared.$f_el);if(0==c&&!s||c==u.length-1&&s){var d;if(a){if(o.parent().is(".fr-popup")){var p=o.parent().children().not(".fr-buttons");d=!i(p,!s)}d===!1&&(t.shared.$f_el=null)}a&&d===!1||r(o,!s)}else n(e(u.get(c+(s?1:-1))));return!1}}function p(e,t){return d(e,t,!0)}function h(e,t){return d(e,t)}function g(e){if(t.shared.$f_el){if(t.shared.$f_el.is(".fr-dropdown.fr-active")){var r;return r=e?t.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").first():t.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").last(),n(r),!1}if(t.shared.$f_el.is("a.fr-command")){var r;return r=e?t.shared.$f_el.closest("li").nextAll(":visible:first").find(".fr-command:not(.fr-disabled)").first():t.shared.$f_el.closest("li").prevAll(":visible:first").find(".fr-command:not(.fr-disabled)").first(),r.length||(r=e?t.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").first():t.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").last()),n(r),!1}}}function m(){return t.shared.$f_el&&t.shared.$f_el.is(".fr-dropdown:not(.fr-active)")?$():g(!0)}function v(){return g()}function $(){if(t.shared.$f_el){if(t.shared.$f_el.hasClass("fr-dropdown"))t.button.click(t.shared.$f_el);else if(t.shared.$f_el.is("button.fr-back")){t.opts.toolbarInline&&(t.events.disableBlur(),t.events.focus());var e=t.popups.areVisible(t);e&&(t.shared.with_kb=!1),t.button.click(t.shared.$f_el),x(e)}else{if(t.events.disableBlur(),t.button.click(t.shared.$f_el),t.shared.$f_el.attr("data-popup")){var n=t.popups.areVisible(t);n&&n.data("popup-button",t.shared.$f_el)}else if(t.shared.$f_el.attr("data-modal")){var r=t.modals.areVisible(t);r&&r.data("modal-button",t.shared.$f_el)}t.shared.$f_el=null}return!1}}function b(){t.shared.$f_el&&(t.events.disableBlur(),t.shared.$f_el.blur(),t.shared.$f_el=null),t.events.trigger("toolbar.focusEditor")!==!1&&(t.events.disableBlur(),t.events.focus())}function y(e){if(t.shared.$f_el){var r=f();return r?(t.button.click(r),n(r)):e.parent().find(".fr-back:visible").length?(t.shared.with_kb=!1,t.opts.toolbarInline&&(t.events.disableBlur(),t.events.focus()),t.button.exec(e.parent().find(".fr-back:visible:first")),x(e.parent())):t.shared.$f_el.is("button, .fr-group span")&&(e.parent().is(".fr-popup")?(s(t),t.shared.$f_el=null,t.events.trigger("toolbar.esc")!==!1&&(t.popups.hide(e.parent()),t.opts.toolbarInline&&t.toolbar.showInline(null,!0),x(e.parent()))):b()),!1}}function E(n,r){var o=navigator.userAgent.indexOf("Mac OS X")!=-1?n.metaKey:n.ctrlKey,i=n.which,a=!1;return i!=e.FE.KEYCODE.TAB||o||n.shiftKey||n.altKey?i!=e.FE.KEYCODE.ARROW_RIGHT||o||n.shiftKey||n.altKey?i!=e.FE.KEYCODE.TAB||o||!n.shiftKey||n.altKey?i!=e.FE.KEYCODE.ARROW_LEFT||o||n.shiftKey||n.altKey?i!=e.FE.KEYCODE.ARROW_UP||o||n.shiftKey||n.altKey?i!=e.FE.KEYCODE.ARROW_DOWN||o||n.shiftKey||n.altKey?i!=e.FE.KEYCODE.ENTER||o||n.shiftKey||n.altKey?i!=e.FE.KEYCODE.ESC||o||n.shiftKey||n.altKey?i!=e.FE.KEYCODE.F10||o||n.shiftKey||!n.altKey||(a=c()):a=y(r):a=$():a=m():a=v():a=h(r):a=h(r,!0):a=p(r):a=p(r,!0),t.shared.$f_el||void 0!==a||(a=!0),!a&&t.keys.isBrowserAction(n)&&(a=!0),!!a||(n.preventDefault(),n.stopPropagation(),!1)}function w(n){n&&n.length&&(t.events.$on(n,"keydown",function(r){if(!e(r.target).is("a.fr-command, button.fr-command, .fr-group span.fr-command"))return!0;var o=n.parents(".fr-popup").data("instance")||n.data("instance")||t;t.shared.with_kb=!0;var i=o.accessibility.exec(r,n);return t.shared.with_kb=!1,i},!0),t.events.$on(n,"mouseenter","[tabIndex]",function(r){var o=n.parents(".fr-popup").data("instance")||n.data("instance")||t;if(!_)return r.stopPropagation(),void r.preventDefault();var i=e(r.currentTarget);o.shared.$f_el&&o.shared.$f_el.not(i)&&o.accessibility.focusEditor()},!0))}function C(e){var n=t.popups.get(e),r=S(e);w(n.find(".fr-buttons")),t.events.$on(n,"mouseenter","tabIndex",r._tiMouseenter,!0),t.events.$on(n.children().not(".fr-buttons"),"keydown","[tabIndex]",r._tiKeydown,!0),t.popups.onHide(e,function(){s(n.data("instance")||t)}),t.popups.onShow(e,function(){_=!1,setTimeout(function(){_=!0},0)})}function S(n){var o=t.popups.get(n);return{_tiKeydown:function(a){var l=o.data("instance")||t;if(l.events.trigger("popup.tab",[a])===!1)return!1;var u=a.which,c=o.find(":focus:first");if(e.FE.KEYCODE.TAB==u){a.preventDefault();var f=o.children().not(".fr-buttons"),d=f.find("input, textarea, button, select").filter(":visible").not(".fr-no-touch input, .fr-no-touch textarea, .fr-no-touch button, .fr-no-touch select, :disabled").toArray(),p=d.indexOf(this)+(a.shiftKey?-1:1);if(0<=p&&p<d.length)return l.events.disableBlur(),e(d[p]).focus(),a.stopPropagation(),!1;var h=o.find(".fr-buttons");if(h.length&&r(h,!!a.shiftKey))return a.stopPropagation(),!1;if(i(f))return a.stopPropagation(),!1}else{if(e.FE.KEYCODE.ENTER!=u)return e.FE.KEYCODE.ESC==u?(a.preventDefault(),a.stopPropagation(),s(l),l.popups.isVisible(n)&&o.find(".fr-back:visible").length?(l.opts.toolbarInline&&(l.events.disableBlur(),l.events.focus()),l.button.exec(o.find(".fr-back:visible:first")),x(o)):l.popups.isVisible(n)&&o.find(".fr-dismiss:visible").length?l.button.exec(o.find(".fr-dismiss:visible:first")):(l.popups.hide(n),l.opts.toolbarInline&&l.toolbar.showInline(null,!0),x(o)),!1):e.FE.KEYCODE.SPACE==u&&(c.is(".fr-submit")||c.is(".fr-dismiss"))?(a.preventDefault(),a.stopPropagation(),l.events.disableBlur(),l.button.exec(c),!0):l.keys.isBrowserAction(a)?void a.stopPropagation():c.is("input[type=text], textarea")?void a.stopPropagation():e.FE.KEYCODE.SPACE==u&&(c.is(".fr-link-attr")||c.is("input[type=file]"))?void a.stopPropagation():(a.stopPropagation(),a.preventDefault(),!1);var g=null;o.find(".fr-submit:visible").length>0?g=o.find(".fr-submit:visible:first"):o.find(".fr-dismiss:visible").length&&(g=o.find(".fr-dismiss:visible:first")),g&&(a.preventDefault(),a.stopPropagation(),l.events.disableBlur(),l.button.exec(g))}},_tiMouseenter:function(e){var n=o.data("instance")||t;A(n)}}}function x(e){var t=e.data("popup-button");t&&setTimeout(function(){n(t),e.data("popup-button",null)},0)}function T(e){var t=e.data("modal-button");t&&setTimeout(function(){n(t),e.data("modal-button",null)},0)}function O(){return null!=t.shared.$f_el}function A(e){var n=t.popups.areVisible(e);n&&n.data("popup-button",null)}function N(n){var r=navigator.userAgent.indexOf("Mac OS X")!=-1?n.metaKey:n.ctrlKey,o=n.which;if(o==e.FE.KEYCODE.F10&&!r&&!n.shiftKey&&n.altKey){t.shared.with_kb=!0;var a=t.popups.areVisible(t),s=!1;return a&&(s=i(a.children().not(".fr-buttons"))),s||c(),t.shared.with_kb=!1,n.preventDefault(),n.stopPropagation(),!1}return!0}function k(){t.$wp?t.events.on("keydown",N,!0):t.events.$on(t.$win,"keydown",N,!0),t.events.on("mousedown",function(e){A(t),t.shared.$f_el&&(s(t),e.stopPropagation(),t.events.disableBlur(),t.shared.$f_el=null)},!0),t.events.on("blur",function(e){t.shared.$f_el=null,A(t)},!0)}var _=!0;return{_init:k,registerPopup:C,registerToolbar:w,focusToolbarElement:n,focusToolbar:r,focusContent:i,focusPopup:l,focusModal:u,focusEditor:b,focusPopupButton:x,focusModalButton:T,hasFocus:O,exec:E,saveSelection:a,restoreSelection:s}},e.FE.MODULES.format=function(t){function n(e,t){var n="<"+e;for(var r in t)t.hasOwnProperty(r)&&(n+=" "+r+'="'+t[r]+'"');return n+=">"}function r(e){return"</"+e+">"}function o(e,t){var n=e;for(var r in t)t.hasOwnProperty(r)&&(e+="id"==r?"#"+t[r]:"class"==r?"."+t[r]:"["+r+'="'+t[r]+'"]');return n}function i(e,t){return!(!e||e.nodeType!=Node.ELEMENT_NODE)&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function a(r,o,i){if(r){if(t.node.isBlock(r))return a(r.firstChild,o,i),!1;for(var s=e(n(o,i)).insertBefore(r),l=r;l&&!e(l).is(".fr-marker")&&0==e(l).find(".fr-marker").length;){var u=l;l=l.nextSibling,s.append(u)}if(l)e(l).find(".fr-marker").length&&a(l.firstChild,o,i);else{for(var c=s.get(0).parentNode;c&&!c.nextSibling&&!t.node.isElement(c);)c=c.parentNode;if(c){var f=c.nextSibling;f&&(t.node.isBlock(f)?a(f.firstChild,o,i):a(f,o,i))}}s.is(":empty")&&s.remove()}}function s(s,l){if("undefined"==typeof l&&(l={}),l.style&&delete l.style,t.selection.isCollapsed()){t.markers.insert();var u=t.$el.find(".fr-marker");u.replaceWith(n(s,l)+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+r(s)),t.selection.restore()}else{t.selection.save();var c=t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling;a(c,s,l);var f;do f=t.$el.find(o(s,l)+" > "+o(s,l)),f.each(function(){e(this).replaceWith(this.innerHTML)});while(f.length);t.el.normalize();for(var d=t.el.querySelectorAll(".fr-marker"),p=0;p<d.length;p++){var h=e(d[p]);1==h.data("type")?i(h.get(0).nextSibling,o(s,l))&&h.next().prepend(h):i(h.get(0).previousSibling,o(s,l))&&h.prev().append(h)}t.selection.restore()}}function l(e,n,r,a){if(!a){var s=!1;if(e.data("type")===!0)for(;t.node.isFirstSibling(e.get(0))&&!e.parent().is(t.$el);)e.parent().before(e),s=!0;else if(e.data("type")===!1)for(;t.node.isLastSibling(e.get(0))&&!e.parent().is(t.$el);)e.parent().after(e),s=!0;if(s)return!0}if(e.parents(n).length||"undefined"==typeof n){var l="",u="",c=e.parent();if(c.is(t.$el)||t.node.isBlock(c.get(0)))return!1;for(;"undefined"==typeof n&&!t.node.isBlock(c.parent().get(0))||"undefined"!=typeof n&&!i(c.get(0),o(n,r));)l+=t.node.closeTagString(c.get(0)),u=t.node.openTagString(c.get(0))+u,c=c.parent();var f=e.get(0).outerHTML;e.replaceWith('<span id="mark"></span>');var d=c.html().replace(/<span id="mark"><\/span>/,l+t.node.closeTagString(c.get(0))+u+f+l+t.node.openTagString(c.get(0))+u);return c.replaceWith(t.node.openTagString(c.get(0))+d+t.node.closeTagString(c.get(0))),!0}return!1}function u(n,r,a,s){for(var l=t.node.contents(n.get(0)),c=0;c<l.length;c++){var f=l[c];t.node.hasClass(f,"fr-marker")?r=(r+1)%2:r?e(f).find(".fr-marker").length>0?r=u(e(f),r,a,s):(e(e(f).find(a||"*").get().reverse()).each(function(){t.node.isBlock(this)||t.node.isVoid(this)||e(this).replaceWith(this.innerHTML)}),"undefined"==typeof a&&f.nodeType==Node.ELEMENT_NODE&&!t.node.isVoid(f)&&!t.node.isBlock(f)||i(f,o(a,s))?e(f).replaceWith(f.innerHTML):"undefined"==typeof a&&f.nodeType==Node.ELEMENT_NODE&&t.node.isBlock(f)&&t.node.clearAttributes(f)):e(f).find(".fr-marker").length>0&&(r=u(e(f),r,a,s))}return r}function c(n,r){"undefined"==typeof r&&(r={}),r.style&&delete r.style;var o=t.selection.isCollapsed();t.selection.save();for(var i=!0;i;){i=!1;for(var a=t.$el.find(".fr-marker"),s=0;s<a.length;s++)if(l(e(a[s]),n,r,o)){i=!0;break}}u(t.$el,0,n,r),o&&t.$el.find(".fr-marker").before(e.FE.INVISIBLE_SPACE).after(e.FE.INVISIBLE_SPACE),t.html.cleanEmptyTags(),t.el.normalize(),t.selection.restore()}function f(e,t){m(e,t)?c(e,t):s(e,t)}function d(t,n){var r=e(t);r.css(n,""),""===r.attr("style")&&r.replaceWith(r.html())}function p(t,n){return 0===e(t).attr("style").indexOf(n+":")||e(t).attr("style").indexOf(";"+n+":")>=0||e(t).attr("style").indexOf("; "+n+":")>=0}function h(n,r){if(t.selection.isCollapsed()){t.markers.insert();var o=t.$el.find(".fr-marker"),i=o.parent();if(t.node.openTagString(i.get(0))=='<span style="'+n+": "+i.css(n)+';">')if(t.node.isEmpty(i.get(0)))i.replaceWith('<span style="'+n+": "+r+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>");else{var s={};s[n]=r,l(o,"span",s,!0),o=t.$el.find(".fr-marker"),o.replaceWith('<span style="'+n+": "+r+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>")}else t.node.isEmpty(i.get(0))&&i.is("span")?(o.replaceWith(e.FE.MARKERS),i.css(n,r)):o.replaceWith('<span style="'+n+": "+r+';">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>");t.selection.restore()}else{t.selection.save();for(var u=t.$el.find(".fr-marker"),c=0;c<u.length;c++){var o=e(u[c]);if(o.data("type")===!0)for(;t.node.isFirstSibling(o.get(0))&&!o.parent().is(t.$el);)o.parent().before(o);else for(;t.node.isLastSibling(o.get(0))&&!o.parent().is(t.$el);)o.parent().after(o)}var f=t.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling,h={"class":"fr-unprocessed"};for(r&&(h.style=n+": "+r+";"),a(f,"span",h),t.$el.find(".fr-marker + .fr-unprocessed").each(function(){e(this).prepend(e(this).prev())}),t.$el.find(".fr-unprocessed + .fr-marker").each(function(){e(this).prev().append(this)});t.$el.find("span.fr-unprocessed").length>0;){var g=t.$el.find("span.fr-unprocessed:first").removeClass("fr-unprocessed");if(g.parent().get(0).normalize(),g.parent().is("span")&&1==g.parent().get(0).childNodes.length){g.parent().css(n,r);var m=g;g=g.parent(),m.replaceWith(m.html())}for(var v=g.find("span"),c=v.length-1;c>=0;c--)d(v[c],n);var $=g.parentsUntil(t.$el,"span[style]").filter(function(){return p(this,n)});if($.length){var b="",y="",E="",w="",C=g.get(0);do C=C.parentNode,e(C).addClass("fr-split"),b+=t.node.closeTagString(C),y=t.node.openTagString(e(C).clone().addClass("fr-split").get(0))+y,$.get(0)!=C&&(E+=t.node.closeTagString(C),w=t.node.openTagString(e(C).clone().addClass("fr-split").get(0))+w);while($.get(0)!=C);var S=b+t.node.openTagString(e($.get(0)).clone().css(n,r||"").get(0))+w+g.css(n,"").get(0).outerHTML+E+"</span>"+y;g.replaceWith('<span id="fr-break"></span>');var x=$.get(0).outerHTML;e($.get(0)).replaceWith(x.replace(/<span id="fr-break"><\/span>/g,S))}}for(;t.$el.find(".fr-split:empty").length>0;)t.$el.find(".fr-split:empty").remove();t.$el.find(".fr-split").removeClass("fr-split"),t.$el.find('span[style=""]').removeAttr("style"),t.$el.find('span[class=""]').removeAttr("class"),t.html.cleanEmptyTags(),e(t.$el.find("span").get().reverse()).each(function(){this.attributes&&0!=this.attributes.length||e(this).replaceWith(this.innerHTML)}),t.el.normalize();var T=t.$el.find("span[style] + span[style]");for(c=0;c<T.length;c++){var O=e(T[c]),A=e(T[c]).prev();O.get(0).previousSibling==A.get(0)&&t.node.openTagString(O.get(0))==t.node.openTagString(A.get(0))&&(O.prepend(A.html()),A.remove())}t.el.normalize(),t.selection.restore()}}function g(e){h(e,null)}function m(e,n){"undefined"==typeof n&&(n={}),n.style&&delete n.style;var r=t.selection.ranges(0),a=r.startContainer;a.nodeType==Node.ELEMENT_NODE&&a.childNodes.length>0&&a.childNodes[r.startOffset]&&(a=a.childNodes[r.startOffset]);for(var s=a;s&&s.nodeType==Node.ELEMENT_NODE&&!i(s,o(e,n));)s=s.firstChild;if(s&&s.nodeType==Node.ELEMENT_NODE&&i(s,o(e,n)))return!0;var l=a;for(l&&l.nodeType!=Node.ELEMENT_NODE&&(l=l.parentNode);l&&l.nodeType==Node.ELEMENT_NODE&&l!=t.el&&!i(l,o(e,n));)l=l.parentNode;return!(!l||l.nodeType!=Node.ELEMENT_NODE||l==t.el||!i(l,o(e,n)))}return{is:m,toggle:f,apply:s,remove:c,applyStyle:h,removeStyle:g}},e.FE.COMMANDS={bold:{title:"Bold",toggle:!0,refresh:function(e){var t=this.format.is("strong");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},italic:{title:"Italic",toggle:!0,refresh:function(e){var t=this.format.is("em");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},underline:{title:"Underline",toggle:!0,refresh:function(e){var t=this.format.is("u");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},strikeThrough:{title:"Strikethrough",toggle:!0,refresh:function(e){var t=this.format.is("s");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},subscript:{title:"Subscript",toggle:!0,refresh:function(e){var t=this.format.is("sub");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},superscript:{title:"Superscript",toggle:!0,refresh:function(e){var t=this.format.is("sup");e.toggleClass("fr-active",t).attr("aria-pressed",t)}},outdent:{title:"Decrease Indent"},indent:{title:"Increase Indent"},undo:{title:"Undo",undo:!1,forcedRefresh:!0,disabled:!0},redo:{title:"Redo",undo:!1,forcedRefresh:!0,disabled:!0},insertHR:{title:"Insert Horizontal Line"},clearFormatting:{title:"Clear Formatting"},selectAll:{title:"Select All",undo:!1}},e.FE.RegisterCommand=function(t,n){e.FE.COMMANDS[t]=n},e.FE.MODULES.commands=function(t){function n(n,r){if(t.events.trigger("commands.before",e.merge([n],r||[]))!==!1){var o=e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].callback||s[n],i=!0,a=!1;e.FE.COMMANDS[n]&&("undefined"!=typeof e.FE.COMMANDS[n].focus&&(i=e.FE.COMMANDS[n].focus),"undefined"!=typeof e.FE.COMMANDS[n].accessibilityFocus&&(a=e.FE.COMMANDS[n].accessibilityFocus)),(!t.core.hasFocus()&&i&&!t.popups.areVisible()||!t.core.hasFocus()&&a&&t.accessibility.hasFocus())&&t.events.focus(!0),e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].undo!==!1&&(t.$el.find(".fr-marker").length&&(t.events.disableBlur(),t.selection.restore()),t.undo.saveStep()),o&&o.apply(t,e.merge([n],r||[])),t.events.trigger("commands.after",e.merge([n],r||[])),e.FE.COMMANDS[n]&&e.FE.COMMANDS[n].undo!==!1&&t.undo.saveStep()}}function r(e,n){t.format.toggle(n)}function o(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var r=t.selection.blocks(),o=0;o<r.length;o++)if("LI"!=r[o].tagName&&"LI"!=r[o].parentNode.tagName){var i=e(r[o]),a="rtl"==t.opts.direction||"rtl"==i.css("direction")?"margin-right":"margin-left",s=t.helpers.getPX(i.css(a));i.css(a,Math.max(s+20*n,0)||""),i.removeClass("fr-temp-div")}t.selection.save(),t.html.unwrap(),t.selection.restore()}function i(e){return function(){n(e)}}function a(){t.events.on("keydown",function(e){var n=t.selection.element();if(n&&"HR"==n.tagName&&!t.keys.isArrow(e.which))return e.preventDefault(),!1}),t.events.on("keyup",function(n){var r=t.selection.element();if(r&&"HR"==r.tagName)if(n.which==e.FE.KEYCODE.ARROW_LEFT||n.which==e.FE.KEYCODE.ARROW_UP){if(r.previousSibling)return t.node.isBlock(r.previousSibling)?t.selection.setAtEnd(r.previousSibling):e(r).before(e.FE.MARKERS),t.selection.restore(),!1}else if((n.which==e.FE.KEYCODE.ARROW_RIGHT||n.which==e.FE.KEYCODE.ARROW_DOWN)&&r.nextSibling)return t.node.isBlock(r.nextSibling)?t.selection.setAtStart(r.nextSibling):e(r).after(e.FE.MARKERS),t.selection.restore(),!1}),t.events.on("mousedown",function(e){if(e.target&&"HR"==e.target.tagName)return e.preventDefault(),e.stopPropagation(),!1}),t.events.on("mouseup",function(n){var r=t.selection.element(),o=t.selection.endElement();r==o&&r&&"HR"==r.tagName&&(r.nextSibling&&(t.node.isBlock(r.nextSibling)?t.selection.setAtStart(r.nextSibling):e(r).after(e.FE.MARKERS)),t.selection.restore())})}var s={bold:function(){r("bold","strong")},subscript:function(){r("subscript","sub")},superscript:function(){r("superscript","sup")},italic:function(){r("italic","em")},strikeThrough:function(){r("strikeThrough","s")},underline:function(){r("underline","u")},undo:function(){t.undo.run()},redo:function(){t.undo.redo()},indent:function(){o(1)},outdent:function(){o(-1)},show:function(){t.opts.toolbarInline&&t.toolbar.showInline(null,!0)},insertHR:function(){t.selection.remove();var e="";t.core.isEmpty()&&(e="<br>",t.html.defaultTag()&&(e="<"+t.html.defaultTag()+">"+e+"</"+t.html.defaultTag()+">")),t.html.insert('<hr id="fr-just">'+e);var n=t.$el.find("hr#fr-just");n.removeAttr("id"),t.selection.setAfter(n.get(0),!1)||t.selection.setBefore(n.get(0),!1),t.selection.restore()},clearFormatting:function(){t.format.remove()},selectAll:function(){t.doc.execCommand("selectAll",!1,!1)}},l={};for(var u in s)s.hasOwnProperty(u)&&(l[u]=i(u));return e.extend(l,{exec:n,_init:a})},e.FE.MODULES.data=function(e){function t(e){return e}function n(e){if(!e)return e;for(var n="",i=t("charCodeAt"),a=t("fromCharCode"),s=f.indexOf(e[0]),l=1;l<e.length-2;l++){for(var u=r(++s),c=e[i](l),d="";/[0-9-]/.test(e[l+1]);)d+=e[++l];d=parseInt(d,10)||0,c=o(c,u,d),c^=s-1&31,n+=String[a](c)}return n}function r(e){for(var t=e.toString(),n=0,r=0;r<t.length;r++)n+=parseInt(t.charAt(r),10);return n>10?n%9+1:n}function o(e,t,n){for(var r=Math.abs(n);r-- >0;)e-=t;return n<0&&(e+=123),e}function i(e){return!(!e||"none"!=e.css("display")||(e.remove(),0))}function a(){return i(u)||i(c)}function s(){return!!e.$box&&(e.$box.append(p(t(p("kTDD4spmKD1klaMB1C7A5RA1G3RA10YA5qhrjuvnmE1D3FD2bcG-7noHE6B2JB4C3xXA8WF6F-10RG2C3G3B-21zZE3C3H3xCA16NC4DC1f1hOF1MB3B-21whzQH5UA2WB10kc1C2F4D3XC2YD4D1C4F3GF2eJ2lfcD-13HF1IE1TC11TC7WE4TA4d1A2YA6XA4d1A3yCG2qmB-13GF4A1B1KH1HD2fzfbeQC3TD9VE4wd1H2A20A2B-22ujB3nBG2A13jBC10D3C2HD5D1H1KB11uD-16uWF2D4A3F-7C9D-17c1E4D4B3d1D2CA6B2B-13qlwzJF2NC2C-13E-11ND1A3xqUA8UE6bsrrF-7C-22ia1D2CF2H1E2akCD2OE1HH1dlKA6PA5jcyfzB-22cXB4f1C3qvdiC4gjGG2H2gklC3D-16wJC1UG4dgaWE2D5G4g1I2H3B7vkqrxH1H2EC9C3E4gdgzKF1OA1A5PF5C4WWC3VA6XA4e1E3YA2YA5HE4oGH4F2H2IB10D3D2NC5G1B1qWA9PD6PG5fQA13A10XA4C4A3e1H2BA17kC-22cmOB1lmoA2fyhcptwWA3RA8A-13xB-11nf1I3f1B7GB3aD3pavFC10D5gLF2OG1LSB2D9E7fQC1F4F3wpSB5XD3NkklhhaE-11naKA9BnIA6D1F5bQA3A10c1QC6Kjkvitc2B6BE3AF3E2DA6A4JD2IC1jgA-64MB11D6C4==")))),u=e.$box.find("> div:last"),c=u.find("> a"),void("rtl"==e.opts.direction&&u.css("left","auto").css("right",0)))}function l(){var n=e.opts.key||[""];"string"==typeof n&&(n=[n]),e.ul=!0;for(var r=0;r<n.length;r++){var o=p(n[r])||"";if(!(o!==p(t(p("mcVRDoB1BGILD7YFe1BTXBA7B6==")))&&o.indexOf(d,o.length-d.length)<0&&[p("9qqG-7amjlwq=="),p("KA3B3C2A6D1D5H5H1A3=="),p("QzbzvxyB2yA-9m=="),p("naamngiA3dA-16xtE-11C-9B1H-8sc==")].indexOf(d)<0)){e.ul=!1;break}}e.ul===!0&&s(),e.events.on("contentChanged",function(){e.ul===!0&&a()&&s()}),e.events.on("destroy",function(){u&&u.length&&u.remove()},!0)}var u,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=function(){for(var e=0,t=document.domain,n=t.split("."),r="_gd"+(new Date).getTime();e<n.length-1&&document.cookie.indexOf(r+"="+r)==-1;)t=n.slice(-1-++e).join("."),document.cookie=r+"="+r+";domain="+t+";";return document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",(t||"").replace(/(^\.*)|(\.*$)/g,"")}(),p=t(n);return{_init:l}},e.extend(e.FE.DEFAULTS,{pastePlain:!1,pasteDeniedTags:["colgroup","col"],pasteDeniedAttrs:["class","id","style"],pasteAllowLocalImages:!1}),e.FE.MODULES.paste=function(t){function n(n){e.FE.copied_html=t.html.getSelected(),e.FE.copied_text=e("<div>").html(e.FE.copied_html).text(),"cut"==n.type&&(t.undo.saveStep(),setTimeout(function(){t.selection.save(),t.html.wrap(),t.selection.restore(),t.events.focus(),t.undo.saveStep()},0))}function r(e){if(h)return!1;if(e.originalEvent&&(e=e.originalEvent),t.events.trigger("paste.before",[e])===!1)return e.preventDefault(),!1;if(f=t.$win.scrollTop(),e&&e.clipboardData&&e.clipboardData.getData){var n="",r=e.clipboardData.types;if(t.helpers.isArray(r))for(var i=0;i<r.length;i++)n+=r[i]+";";else n=r;if(d="",/text\/html/.test(n)?d=e.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&t.browser.safari?d=e.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(d=t.html.escapeEntities(e.clipboardData.getData("text/plain")).replace(/\n/g,"<br>")),""!==d)return s(),e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!1;d=null}o()}function o(){t.selection.save(),t.events.disableBlur(),d=null,p?p.html(""):(p=e('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 9999; line-height: 140%;" tabIndex="-1"></div>'),t.$box.after(p),t.events.on("destroy",function(){p.remove()})),p.focus(),t.win.setTimeout(s,1)}function i(e){e=e.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),
e=e.replace(/<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),e=e.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),e=e.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),e=e.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),e=e.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),e=e.replace(/<!--[\s\S]*?-->/gi,""),e=e.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var n=["style","script","applet","embed","noframes","noscript"],r=0;r<n.length;r++){var o=new RegExp("<"+n[r]+".*?"+n[r]+"(.*?)>","gi");e=e.replace(o,"")}e=e.replace(/&nbsp;/gi," "),e=e.replace(/<td([^>]*)><\/td>/g,"<td$1><br></td>"),e=e.replace(/<th([^>]*)><\/th>/g,"<th$1><br></th>");var i;do i=e,e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(e!=i);e=e.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),e=e.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),e=t.clean.html(e,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs),e=e.replace(/<a>(.[^<]+)<\/a>/gi,"$1"),e=e.replace(/<br> */g,"<br>");var a=t.o_doc.createElement("div");a.innerHTML=e;for(var s=a.querySelectorAll("li[data-indent]"),r=0;r<s.length;r++){var l=s[r],u=l.previousElementSibling;if(u&&"LI"==u.tagName){var c=u.querySelector(":scope > ul, :scope > ol");c||(c=document.createElement("ul"),u.appendChild(c)),c.appendChild(l)}else l.removeAttribute("data-indent")}return t.html.cleanBlankSpaces(a),e=a.innerHTML}function a(e){var n=t.doc.createElement("div");n.innerHTML=e;for(var r=n.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote"),o=0;o<r.length;o++){var i=r[o];i.outerHTML="<"+(t.html.defaultTag()||"DIV")+">"+i.innerHTML+"</"+(t.html.defaultTag()||"DIV")+">"}r=n.querySelectorAll("*:not("+"p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img".split(",").join("):not(")+")");for(var o=r.length-1;o>=0;o--){var i=r[o];i.outerHTML=i.innerHTML}var a=function(e){for(var n=t.node.contents(e),r=0;r<n.length;r++)n[r].nodeType!=Node.TEXT_NODE&&n[r].nodeType!=Node.ELEMENT_NODE?n[r].parentNode.removeChild(n[r]):a(n[r])};return a(n),n.innerHTML}function s(){t.keys.forceUndo();var n=t.snapshot.get();null===d&&(d=p.get(0).innerHTML,t.selection.restore(),t.events.enableBlur());var r=t.events.chainTrigger("paste.beforeCleanup",d);"string"==typeof r&&(d=r);var o=!1;d.match(/(class=\"?Mso|class=\'?Mso|style=\"[^\"]*\bmso\-|style=\'[^\']*\bmso\-|w:WordDocument)/gi)&&(o=!0),d.indexOf("<body")>=0&&(d=d.replace(/[.\s\S\w\W<>]*<body[^>]*>[\s]*([.\s\S\w\W<>]*)\s]*<\/body>[.\s\S\w\W<>]*/g,"$1"),d=d.replace(/([^>])\n([^<])/g,"$1 $2"));var s=!1;if(d.indexOf('id="docs-internal-guid')>=0&&(d=d.replace(/^.* id="docs-internal-guid[^>]*>(.*)<\/b>.*$/,"$1"),s=!0),o)d=d.replace(/^\n*/g,"").replace(/^ /g,""),0===d.indexOf("<colgroup>")&&(d="<table>"+d+"</table>"),d=i(d),d=u(d);else{t.opts.htmlAllowComments=!1,d=t.clean.html(d,t.opts.pasteDeniedTags,t.opts.pasteDeniedAttrs),t.opts.htmlAllowComments=!0,d=u(d),d=d.replace(/\r|\n|\t/g,"");var c=t.doc.createElement("div");c.innerHTML=d,e.FE.copied_text&&c.textContent.replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")==e.FE.copied_text.replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")&&(d=e.FE.copied_html),d=d.replace(/^ */g,"").replace(/ *$/g,"")}if(t.opts.pastePlain&&(d=a(d)),r=t.events.chainTrigger("paste.afterCleanup",d),"string"==typeof r&&(d=r),""!==d){var f=t.o_doc.createElement("div");f.innerHTML=d,t.spaces.normalize(f);for(var h=f.getElementsByTagName("span"),g=0;g<h.length;g++){var m=h[g];0===m.attributes.length&&(m.outerHTML=m.innerHTML)}var v=f.children;if(1==v.length&&["OL","UL"].indexOf(v[0].tagName)>=0&&(v[0].outerHTML=v[0].innerHTML),!s)for(var $=f.getElementsByTagName("br"),g=0;g<$.length;g++){var b=$[g];t.node.isBlock(b.previousSibling)&&b.parentNode.removeChild(b)}if(t.opts.enter==e.FE.ENTER_BR)for(var y=f.querySelectorAll("p, div"),g=0;g<y.length;g++){var E=y[g];E.outerHTML=E.innerHTML+(E.nextSibling&&!t.node.isEmpty(E)?"<br>":"")}else if(t.opts.enter==e.FE.ENTER_DIV)for(var y=f.getElementsByTagName("p"),g=0;g<y.length;g++){var E=y[g];E.outerHTML="<div>"+E.innerHTML+"</div>"}d=f.innerHTML,t.html.insert(d,!0)}l(),t.undo.saveStep(n),t.undo.saveStep()}function l(){t.events.trigger("paste.after")}function u(e){var n=t.o_doc.createElement("div");n.innerHTML=e;for(var r=n.querySelectorAll("*:empty:not(br):not(img):not(td):not(th)");r.length;){for(var o=0;o<r.length;o++)r[o].parentNode.removeChild(r[o]);r=n.querySelectorAll("*:empty:not(br):not(img):not(td):not(th)")}for(var i=n.querySelectorAll(":scope > div:not([style]), td > div, th > div, li > div");i.length;){var a=i[i.length-1];if(t.html.defaultTag()&&"div"!=t.html.defaultTag())a.querySelector(t.html.blockTagsQuery())?a.outerHTML=a.innerHTML:a.outerHTML="<"+t.html.defaultTag()+">"+a.innerHTML+"</"+t.html.defaultTag()+">";else{var s=a.querySelectorAll("*");s.length&&"BR"===s[s.length-1].tagName?a.outerHTML=a.innerHTML:a.outerHTML=a.innerHTML+"<br>"}i=n.querySelectorAll(":scope > div:not([style]), td > div, th > div, li > div")}for(i=n.querySelectorAll("div:not([style])");i.length;){for(o=0;o<i.length;o++){var l=i[o],u=l.innerHTML.replace(/\u0009/gi,"").trim();l.outerHTML=u}i=n.querySelectorAll("div:not([style])")}return n.innerHTML}function c(){t.events.on("copy",n),t.events.on("cut",n),t.events.on("paste",r),t.browser.msie&&t.browser.version<11&&(t.events.on("mouseup",function(e){2==e.button&&(setTimeout(function(){h=!1},50),h=!0)},!0),t.events.on("beforepaste",r))}var f,d,p,h=!1;return{_init:c}},e.extend(e.FE.DEFAULTS,{shortcutsEnabled:["show","bold","italic","underline","strikeThrough","indent","outdent","undo","redo"],shortcutsHint:!0}),e.FE.SHORTCUTS_MAP={},e.FE.RegisterShortcut=function(t,n,r,o,i,a){e.FE.SHORTCUTS_MAP[(i?"^":"")+(a?"@":"")+t]={cmd:n,val:r,letter:o,shift:i,option:a},e.FE.DEFAULTS.shortcutsEnabled.push(n)},e.FE.RegisterShortcut(e.FE.KEYCODE.E,"show",null,"E",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.B,"bold",null,"B",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.I,"italic",null,"I",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.U,"underline",null,"U",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.S,"strikeThrough",null,"S",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.CLOSE_SQUARE_BRACKET,"indent",null,"]",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.OPEN_SQUARE_BRACKET,"outdent",null,"[",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"undo",null,"Z",!1,!1),e.FE.RegisterShortcut(e.FE.KEYCODE.Z,"redo",null,"Z",!0,!1),e.FE.MODULES.shortcuts=function(t){function n(n){if(!t.opts.shortcutsHint)return null;if(!i){i={};for(var r in e.FE.SHORTCUTS_MAP)e.FE.SHORTCUTS_MAP.hasOwnProperty(r)&&t.opts.shortcutsEnabled.indexOf(e.FE.SHORTCUTS_MAP[r].cmd)>=0&&(i[e.FE.SHORTCUTS_MAP[r].cmd+"."+(e.FE.SHORTCUTS_MAP[r].val||"")]={shift:e.FE.SHORTCUTS_MAP[r].shift,option:e.FE.SHORTCUTS_MAP[r].option,letter:e.FE.SHORTCUTS_MAP[r].letter})}var o=i[n];return o?(t.helpers.isMac()?String.fromCharCode(8984):"Ctrl+")+(o.shift?t.helpers.isMac()?String.fromCharCode(8679):"Shift+":"")+(o.option?t.helpers.isMac()?String.fromCharCode(8997):"Alt+":"")+o.letter:null}function r(n){if(!t.core.hasFocus())return!0;var r=n.which,o=navigator.userAgent.indexOf("Mac OS X")!=-1?n.metaKey:n.ctrlKey;if("keyup"==n.type&&a&&r!=e.FE.KEYCODE.META)return a=!1,!1;"keydown"==n.type&&(a=!1);var i=(n.shiftKey?"^":"")+(n.altKey?"@":"")+r;if(o&&e.FE.SHORTCUTS_MAP[i]){var s=e.FE.SHORTCUTS_MAP[i].cmd;if(s&&t.opts.shortcutsEnabled.indexOf(s)>=0){var l,u=e.FE.SHORTCUTS_MAP[i].val;if(s&&!u?l=t.$tb.find('.fr-command[data-cmd="'+s+'"]'):s&&u&&(l=t.$tb.find('.fr-command[data-cmd="'+s+'"][data-param1="'+u+'"]')),l.length)return n.preventDefault(),n.stopPropagation(),l.parents(".fr-toolbar").data("instance",t),"keydown"==n.type&&(t.button.exec(l),a=!0),!1;if(s&&t.commands[s])return n.preventDefault(),n.stopPropagation(),"keydown"==n.type&&(t.commands[s](),a=!0),!1}}}function o(){t.events.on("keydown",r,!0),t.events.on("keyup",r,!0)}var i=null,a=!1;return{_init:o,get:n}},e.FE.MODULES.snapshot=function(e){function t(e){for(var t=e.parentNode.childNodes,n=0,r=null,o=0;o<t.length;o++){if(r){var i=t[o].nodeType===Node.TEXT_NODE&&""===t[o].textContent,a=r.nodeType===Node.TEXT_NODE&&t[o].nodeType===Node.TEXT_NODE;i||a||n++}if(t[o]==e)return n;r=t[o]}}function n(n){var r=[];if(!n.parentNode)return[];for(;!e.node.isElement(n);)r.push(t(n)),n=n.parentNode;return r.reverse()}function r(e,t){for(;e&&e.nodeType===Node.TEXT_NODE;){var n=e.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&(t+=n.textContent.length),e=n}return t}function o(e){return{scLoc:n(e.startContainer),scOffset:r(e.startContainer,e.startOffset),ecLoc:n(e.endContainer),ecOffset:r(e.endContainer,e.endOffset)}}function i(){var t={};if(e.events.trigger("snapshot.before"),t.html=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,""),t.ranges=[],e.$wp&&e.selection.inEditor()&&e.core.hasFocus())for(var n=e.selection.ranges(),r=0;r<n.length;r++)t.ranges.push(o(n[r]));return e.events.trigger("snapshot.after"),t}function a(t){for(var n=e.el,r=0;r<t.length;r++)n=n.childNodes[t[r]];return n}function s(t,n){try{var r=a(n.scLoc),o=n.scOffset,i=a(n.ecLoc),s=n.ecOffset,l=e.doc.createRange();l.setStart(r,o),l.setEnd(i,s),t.addRange(l)}catch(u){}}function l(t){e.$el.html()!=t.html&&e.$el.html(t.html);var n=e.selection.get();e.selection.clear(),e.events.focus(!0);for(var r=0;r<t.ranges.length;r++)s(n,t.ranges[r])}function u(t,n){return t.html==n.html&&(!e.core.hasFocus()||JSON.stringify(t.ranges)==JSON.stringify(n.ranges))}return{get:i,restore:l,equal:u}},e.FE.MODULES.undo=function(e){function t(t){var n=t.which,r=e.keys.ctrlKey(t);r&&(90==n&&t.shiftKey&&t.preventDefault(),90==n&&t.preventDefault())}function n(){return!(0===e.undo_stack.length||e.undo_index<=1)}function r(){return e.undo_index!=e.undo_stack.length}function o(t){return!(!e.undo_stack||e.undoing||e.el.querySelector(".fr-marker"))&&void("undefined"==typeof t?(t=e.snapshot.get(),e.undo_stack[e.undo_index-1]&&e.snapshot.equal(e.undo_stack[e.undo_index-1],t)||(i(),e.undo_stack.push(t),e.undo_index++,t.html!=f&&(e.events.trigger("contentChanged"),f=t.html))):(i(),e.undo_index>0?e.undo_stack[e.undo_index-1]=t:(e.undo_stack.push(t),e.undo_index++)))}function i(){if(!e.undo_stack||e.undoing)return!1;for(;e.undo_stack.length>e.undo_index;)e.undo_stack.pop()}function a(){if(e.undo_index>1){e.undoing=!0;var t=e.undo_stack[--e.undo_index-1];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),f=t.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.undo"),e.undoing=!1}}function s(){if(e.undo_index<e.undo_stack.length){e.undoing=!0;var t=e.undo_stack[e.undo_index++];clearTimeout(e._content_changed_timer),e.snapshot.restore(t),f=t.html,e.popups.hideAll(),e.toolbar.enable(),e.events.trigger("contentChanged"),e.events.trigger("commands.redo"),e.undoing=!1}}function l(){e.undo_index=0,e.undo_stack=[]}function u(){e.undo_stack=[]}function c(){l(),e.events.on("initialized",function(){f=(e.$wp?e.$el.html():e.$oel.get(0).outerHTML).replace(/ style=""/g,"")}),e.events.on("blur",function(){e.el.querySelector(".fr-dragging")||e.undo.saveStep()}),e.events.on("keydown",t),e.events.on("destroy",u)}var f=null;return{_init:c,run:a,redo:s,canDo:n,canRedo:r,dropRedo:i,reset:l,saveStep:o}},e.FE.ICON_DEFAULT_TEMPLATE="font_awesome",e.FE.ICON_TEMPLATES={font_awesome:'<i class="fa fa-[NAME]" aria-hidden="true"></i>',text:'<span style="text-align: center;">[NAME]</span>',image:"<img src=[SRC] alt=[ALT] />",svg:'<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">[PATH]</svg>'},e.FE.ICONS={bold:{NAME:"bold"},italic:{NAME:"italic"},underline:{NAME:"underline"},strikeThrough:{NAME:"strikethrough"},subscript:{NAME:"subscript"},superscript:{NAME:"superscript"},color:{NAME:"tint"},outdent:{NAME:"outdent"},indent:{NAME:"indent"},undo:{NAME:"rotate-left"},redo:{NAME:"rotate-right"},insertHR:{NAME:"minus"},clearFormatting:{NAME:"eraser"},selectAll:{NAME:"mouse-pointer"}},e.FE.DefineIconTemplate=function(t,n){e.FE.ICON_TEMPLATES[t]=n},e.FE.DefineIcon=function(t,n){e.FE.ICONS[t]=n},e.FE.MODULES.icon=function(t){function n(t){var n=null,r=e.FE.ICONS[t];if("undefined"!=typeof r){var o=r.template||e.FE.ICON_DEFAULT_TEMPLATE;o&&(o=e.FE.ICON_TEMPLATES[o])&&(n=o.replace(/\[([a-zA-Z]*)\]/g,function(e,n){return"NAME"==n?r[n]||t:r[n]}))}return n||t}function r(t){var n=e.FE.ICONS[t],r=e.FE.ICON_DEFAULT_TEMPLATE;if("undefined"!=typeof n){var r=n.template||e.FE.ICON_DEFAULT_TEMPLATE;return r}return r}return{create:n,getTemplate:r}},e.extend(e.FE.DEFAULTS,{tooltips:!0}),e.FE.MODULES.tooltip=function(t){function n(){t.$tooltip&&t.$tooltip.removeClass("fr-visible").css("left","-3000px").css("position","fixed")}function r(n,r){if(n.data("title")||n.data("title",n.attr("title")),!n.data("title"))return!1;t.$tooltip||i(),n.removeAttr("title"),t.$tooltip.text(n.data("title")),t.$tooltip.addClass("fr-visible");var o=n.offset().left+(n.outerWidth()-t.$tooltip.outerWidth())/2;o<0&&(o=0),o+t.$tooltip.outerWidth()>e(t.o_win).width()&&(o=e(t.o_win).width()-t.$tooltip.outerWidth()),"undefined"==typeof r&&(r=t.opts.toolbarBottom);var a=r?n.offset().top-t.$tooltip.height():n.offset().top+n.outerHeight();t.$tooltip.css("position",""),t.$tooltip.css("left",o),t.$tooltip.css("top",Math.ceil(a)),"static"!=e(t.o_doc).find("body").css("position")?(t.$tooltip.css("margin-left",-e(t.o_doc).find("body").offset().left),t.$tooltip.css("margin-top",-e(t.o_doc).find("body").offset().top)):(t.$tooltip.css("margin-left",""),t.$tooltip.css("margin-top",""))}function o(o,i,a){t.opts.tooltips&&!t.helpers.isMobile()&&(t.events.$on(o,"mouseenter",i,function(n){t.node.hasClass(n.currentTarget,"fr-disabled")||t.edit.isDisabled()||r(e(n.currentTarget),a)},!0),t.events.$on(o,"mouseleave "+t._mousedown+" "+t._mouseup,i,function(e){n()},!0))}function i(){t.opts.tooltips&&!t.helpers.isMobile()&&(t.shared.$tooltip?t.$tooltip=t.shared.$tooltip:(t.shared.$tooltip=e('<div class="fr-tooltip"></div>'),t.$tooltip=t.shared.$tooltip,t.opts.theme&&t.$tooltip.addClass(t.opts.theme+"-theme"),e(t.o_doc).find("body").append(t.$tooltip)),t.events.on("shared.destroy",function(){t.$tooltip.html("").removeData().remove(),t.$tooltip=null},!0))}return{hide:n,to:r,bind:o}},e.FE.MODULES.button=function(t){function n(n){var r=n.next(),o=t.node.hasClass(n.get(0),"fr-active"),i=(t.helpers.isMobile(),e(".fr-dropdown.fr-active").not(n)),a=n.parents(".fr-toolbar, .fr-popup").data("instance")||t;if(a.helpers.isIOS()&&!a.el.querySelector(".fr-marker")&&(a.selection.save(),a.selection.clear(),a.selection.restore()),!o){var s=n.data("cmd");r.find(".fr-command").removeClass("fr-active").attr("aria-selected",!1),e.FE.COMMANDS[s]&&e.FE.COMMANDS[s].refreshOnShow&&e.FE.COMMANDS[s].refreshOnShow.apply(a,[n,r]),r.css("left",n.offset().left-n.parent().offset().left-("rtl"==t.opts.direction?r.width()-n.outerWidth():0)),t.opts.toolbarBottom?r.css("bottom",t.$tb.height()-n.position().top):r.css("top",n.position().top+n.outerHeight())}n.addClass("fr-blink").toggleClass("fr-active"),n.hasClass("fr-active")?(r.attr("aria-hidden",!1),n.attr("aria-expanded",!0)):(r.attr("aria-hidden",!0),n.attr("aria-expanded",!1)),setTimeout(function(){n.removeClass("fr-blink")},300),r.offset().left+r.outerWidth()>t.$sc.offset().left+t.$sc.outerWidth()&&r.css("margin-left",-(r.offset().left+r.outerWidth()-t.$sc.offset().left-t.$sc.outerWidth())),i.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),i.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""),0!=n.parents(".fr-popup").length||t.opts.toolbarInline||(t.node.hasClass(n.get(0),"fr-active")?t.$tb.css("zIndex",(t.opts.zIndex||1)+4):t.$tb.css("zIndex",""));var l=r.find("a.fr-command.fr-active");l.length?t.accessibility.focusToolbarElement(l):t.accessibility.focusToolbarElement(n)}function r(t){t.addClass("fr-blink"),setTimeout(function(){t.removeClass("fr-blink")},500);for(var n=t.data("cmd"),r=[];"undefined"!=typeof t.data("param"+(r.length+1));)r.push(t.data("param"+(r.length+1)));var o=e(".fr-dropdown.fr-active");o.length&&(o.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),o.parent(".fr-toolbar:not(.fr-inline)").css("zIndex","")),t.parents(".fr-popup, .fr-toolbar").data("instance").commands.exec(n,r)}function o(e){r(e)}function i(r){var i=r.parents(".fr-popup, .fr-toolbar").data("instance");if(0!=r.parents(".fr-popup").length||r.data("popup")||i.popups.hideAll(),i.popups.areVisible()&&!i.popups.areVisible(i)){for(var a=0;a<e.FE.INSTANCES.length;a++)e.FE.INSTANCES[a]!=i&&e.FE.INSTANCES[a].popups&&e.FE.INSTANCES[a].popups.areVisible()&&e.FE.INSTANCES[a].$el.find(".fr-marker").remove();i.popups.hideAll()}t.node.hasClass(r.get(0),"fr-dropdown")?n(r):(o(r),e.FE.COMMANDS[r.data("cmd")]&&0!=e.FE.COMMANDS[r.data("cmd")].refreshAfterCallback&&i.button.bulkRefresh())}function a(t){var n=e(t.currentTarget);i(n)}function s(e){var t=e.find(".fr-dropdown.fr-active");t.length&&(t.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0),t.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""))}function l(e){e.preventDefault(),e.stopPropagation()}function u(e){if(e.stopPropagation(),!t.helpers.isMobile())return!1}function c(n,r){t.events.bindClick(n,".fr-command:not(.fr-disabled)",a),t.events.$on(n,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu",l,!0),t.events.$on(n,t._mousedown+" "+t._mouseup+" "+t._move,".fr-dropdown-menu .fr-dropdown-wrapper",u,!0);var o=n.get(0).ownerDocument,i="defaultView"in o?o.defaultView:o.parentWindow,c=function(r){(!r||r.type==t._mouseup&&r.target!=e("html").get(0)||"keydown"==r.type&&(t.keys.isCharacter(r.which)&&!t.keys.ctrlKey(r)||r.which==e.FE.KEYCODE.ESC))&&s(n)};t.events.$on(e(i),t._mouseup+" resize keydown",c,!0),t.opts.iframe&&t.events.$on(t.$win,t._mouseup,c,!0),t.node.hasClass(n.get(0),"fr-popup")?e.merge(y,n.find(".fr-btn").toArray()):e.merge(b,n.find(".fr-btn").toArray()),t.tooltip.bind(n,".fr-btn, .fr-title",r)}function f(e,n){var r="";if(n.html)r+="function"==typeof n.html?n.html.call(t):n.html;else{var o=n.options;"function"==typeof o&&(o=o()),r+='<ul class="fr-dropdown-list" role="presentation">';for(var i in o)if(o.hasOwnProperty(i)){var a=t.shortcuts.get(e+"."+i);a=a?'<span class="fr-shortcut">'+a+"</span>":"",r+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="'+e+'" data-param1="'+i+'" title="'+o[i]+'">'+t.language.translate(o[i])+"</a></li>"}r+="</ul>"}return r}function d(e,n,r){if(t.helpers.isMobile()&&n.showOnMobile===!1)return"";var o=n.displaySelection;"function"==typeof o&&(o=o(t));var i;if(o){var a="function"==typeof n.defaultSelection?n.defaultSelection(t):n.defaultSelection;i='<span style="width:'+(n.displaySelectionWidth||100)+'px">'+(a||t.language.translate(n.title))+"</span>"}else i=t.icon.create(n.icon||e),i+='<span class="fr-sr-only">'+(t.language.translate(n.title)||"")+"</span>";var s=n.popup?' data-popup="true"':"",l=n.modal?' data-modal="true"':"",u=t.shortcuts.get(e+".");u=u?" ("+u+")":"";var c=e+"-"+t.id,d='<button id="'+c+'"type="button" tabIndex="-1" role="button"'+(n.toggle?' aria-pressed="false"':"")+("dropdown"==n.type?' aria-controls="drop" aria-expanded="false" aria-haspopup="true"':"")+(n.disabled?' aria-disabled="true"':"")+' title="'+(t.language.translate(n.title)||"")+u+'" class="fr-command fr-btn'+("dropdown"==n.type?" fr-dropdown":"")+(" fr-btn-"+t.icon.getTemplate(n.icon))+(n.displaySelection?" fr-selection":"")+(n.back?" fr-back":"")+(n.disabled?" fr-disabled":"")+(r?"":" fr-hidden")+'" data-cmd="'+e+'"'+s+l+">"+i+"</button>";if("dropdown"==n.type){var p='<div class="fr-dropdown-menu" role="listbox" aria-labelledby="'+c+'" aria-hidden="true"><div class="fr-dropdown-wrapper" role="presentation"><div class="fr-dropdown-content" role="presentation">';p+=f(e,n),p+="</div></div></div>",d+=p}return d}function p(n,r){for(var o="",i=0;i<n.length;i++){var a=n[i],s=e.FE.COMMANDS[a];if(!(s&&"undefined"!=typeof s.plugin&&t.opts.pluginsEnabled.indexOf(s.plugin)<0))if(s){var l="undefined"==typeof r||r.indexOf(a)>=0;o+=d(a,s,l)}else"|"==a?o+='<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>':"-"==a&&(o+='<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>')}return o}function h(n){var r,o=n.parents(".fr-popup, .fr-toolbar").data("instance")||t,i=n.data("cmd");t.node.hasClass(n.get(0),"fr-dropdown")?r=n.next():(n.removeClass("fr-active"),n.attr("aria-pressed")&&n.attr("aria-pressed",!1)),e.FE.COMMANDS[i]&&e.FE.COMMANDS[i].refresh?e.FE.COMMANDS[i].refresh.apply(o,[n,r]):t.refresh[i]&&o.refresh[i](n,r)}function g(n){var r=t.$tb?t.$tb.data("instance")||t:t;return 0==t.events.trigger("buttons.refresh")||void setTimeout(function(){for(var o=r.selection.inEditor()&&r.core.hasFocus(),i=0;i<n.length;i++){var a=e(n[i]),s=a.data("cmd");0==a.parents(".fr-popup").length?o||e.FE.COMMANDS[s]&&e.FE.COMMANDS[s].forcedRefresh?r.button.refresh(a):t.node.hasClass(a.get(0),"fr-dropdown")||(a.removeClass("fr-active"),a.attr("aria-pressed")&&a.attr("aria-pressed",!1)):a.parents(".fr-popup").is(":visible")&&r.button.refresh(a)}},0)}function m(){g(b),g(y)}function v(){b=[],y=[]}function $(){t.opts.toolbarInline?t.events.on("toolbar.show",m):(t.events.on("mouseup",m),t.events.on("keyup",m),t.events.on("blur",m),t.events.on("focus",m),t.events.on("contentChanged",m)),t.events.on("shared.destroy",v)}var b=[];(t.opts.toolbarInline||t.opts.toolbarContainer)&&(t.shared.buttons||(t.shared.buttons=[]),b=t.shared.buttons);var y=[];return t.shared.popup_buttons||(t.shared.popup_buttons=[]),y=t.shared.popup_buttons,{_init:$,buildList:p,bindCommands:c,refresh:h,bulkRefresh:m,exec:r,click:i,hideActiveDropdowns:s}},e.FE.MODULES.modals=function(t){function n(e){return p[e]}function r(n,r){var o='<div tabIndex="-1" class="fr-modal'+(t.opts.theme?" "+t.opts.theme+"-theme":"")+'"><div class="fr-modal-wrapper">',i='<i title="'+t.language.translate("Cancel")+'" class="fa fa-times fr-modal-close"></i>';return o+='<div class="fr-modal-head">'+n+i+"</div>",o+='<div tabIndex="-1" class="fr-modal-body">'+r+"</div>",o+="</div></div>",e(o)}function o(n,o,i){if(t.shared.$overlay||(t.shared.$overlay=e('<div class="fr-overlay">').appendTo("body")),d=t.shared.$overlay,t.opts.theme&&d.addClass(t.opts.theme+"-theme"),!p[n]){var a=r(o,i);p[n]={$modal:a,$head:a.find(".fr-modal-head"),$body:a.find(".fr-modal-body")},t.helpers.isMobile()||a.addClass("fr-desktop"),a.appendTo("body"),t.events.bindClick(a,"i.fr-modal-close",function(){s(n)}),p[n].$body.css("margin-top",p[n].$head.outerHeight()),t.events.$on(a,"keydown",function(r){var o=r.which;return o==e.FE.KEYCODE.ESC?(s(n),t.accessibility.focusModalButton(a),!1):!(!e(r.currentTarget).is("input[type=text], textarea")&&o!=e.FE.KEYCODE.ARROW_UP&&o!=e.FE.KEYCODE.ARROW_DOWN&&!t.keys.isBrowserAction(r)&&(r.preventDefault(),r.stopPropagation(),1))},!0),s(n)}return p[n]}function i(){for(var e in p){var t=p[e];t&&t.$modal&&t.$modal.removeData().remove()}d&&d.removeData().remove(),p={}}function a(e){if(p[e]){var n=p[e].$modal;n.data("instance",t),n.show(),d.show(),t.$doc.find("body").addClass("prevent-scroll"),t.helpers.isMobile()&&t.$doc.find("body").addClass("fr-mobile"),n.addClass("fr-active"),t.accessibility.focusModal(n)}}function s(e){if(p[e]){var n=p[e].$modal,r=n.data("instance")||t;r.events.enableBlur(),n.hide(),d.hide(),r.$doc.find("body").removeClass("prevent-scroll fr-mobile"),n.removeClass("fr-active"),t.accessibility.restoreSelection(r)}}function l(e){if(p[e]){var n=p[e],r=n.$modal,o=n.$body,i=t.$win.height(),a=r.find(".fr-modal-wrapper"),s=a.outerHeight(!0),l=a.height()-(o.outerHeight(!0)-o.height()),u=i-s+l,c=o.get(0).scrollHeight,f="auto";c>u&&(f=u),o.height(f)}}function u(e){var n;if("string"==typeof e){if(!p[e])return;n=p[e].$modal}else n=e;return n&&t.node.hasClass(n,"fr-active")&&t.core.sameInstance(n)||!1}function c(e){for(var t in p)if(p.hasOwnProperty(t)&&u(t)&&("undefined"==typeof e||p[t].$modal.data("instance")==e))return p[t].$modal;return!1}function f(){t.events.on("shared.destroy",i,!0)}t.shared.modals||(t.shared.modals={});var d,p=t.shared.modals;return{_init:f,get:n,create:o,show:a,hide:s,resize:l,isVisible:u,areVisible:c}},e.FE.POPUP_TEMPLATES={"text.edit":"[_EDIT_]"},e.FE.RegisterTemplate=function(t,n){e.FE.POPUP_TEMPLATES[t]=n},e.FE.MODULES.popups=function(t){function n(e,n){n.is(":visible")||(n=t.$sc),n.is(C[e].data("container"))||(C[e].data("container",n),n.append(C[e]))}function r(r,o,s,l){if(a()&&t.$el.find(".fr-marker").length>0?(t.events.disableBlur(),t.selection.restore()):(t.events.disableBlur(),t.events.focus(),t.events.enableBlur()),d([r]),!C[r])return!1;var u=e(".fr-dropdown.fr-active");u.removeClass("fr-active").attr("aria-expanded",!1).parent(".fr-toolbar").css("zIndex",""),u.next().attr("aria-hidden",!0),C[r].data("instance",t),t.$tb&&t.$tb.data("instance",t);var c=C[r].outerWidth(),f=(C[r].outerHeight(),i(r));C[r].addClass("fr-active").removeClass("fr-hidden").find("input, textarea").removeAttr("disabled");var p=C[r].data("container");t.opts.toolbarInline&&p&&t.$tb&&p.get(0)==t.$tb.get(0)&&(n(r,t.$sc),s=t.$tb.offset().top-t.helpers.getPX(t.$tb.css("margin-top")),o=t.$tb.offset().left+t.$tb.outerWidth()/2+(parseFloat(t.$tb.find(".fr-arrow").css("margin-left"))||0)+t.$tb.find(".fr-arrow").outerWidth()/2,t.node.hasClass(t.$tb.get(0),"fr-above")&&s&&(s+=t.$tb.outerHeight()),l=0),p=C[r].data("container"),!t.opts.iframe||l||f||(o&&(o-=t.$iframe.offset().left),s&&(s-=t.$iframe.offset().top)),p.is(t.$tb)?t.$tb.css("zIndex",(t.opts.zIndex||1)+4):C[r].css("zIndex",(t.opts.zIndex||1)+4),o&&(o-=c/2),t.opts.toolbarBottom&&p&&t.$tb&&p.get(0)==t.$tb.get(0)&&(C[r].addClass("fr-above"),s&&(s-=C[r].outerHeight())),C[r].removeClass("fr-active"),t.position.at(o,s,C[r],l||0),C[r].addClass("fr-active"),f||t.accessibility.focusPopup(C[r]),t.opts.toolbarInline&&t.toolbar.hide(),t.events.trigger("popups.show."+r),$(r)._repositionPopup(),h()}function o(e,n){t.events.on("popups.show."+e,n)}function i(e){return C[e]&&t.node.hasClass(C[e],"fr-active")&&t.core.sameInstance(C[e])||!1}function a(e){for(var t in C)if(C.hasOwnProperty(t)&&i(t)&&("undefined"==typeof e||C[t].data("instance")==e))return C[t];return!1}function s(e){var n=null;n="string"!=typeof e?e:C[e],n&&t.node.hasClass(n,"fr-active")&&(n.removeClass("fr-active fr-above"),t.events.trigger("popups.hide."+e),t.$tb&&(t.opts.zIndex>1?t.$tb.css("zIndex",t.opts.zIndex+1):t.$tb.css("zIndex","")),t.events.disableBlur(),n.find("input, textarea, button").filter(":focus").blur(),n.find("input, textarea").attr("disabled","disabled"))}function l(e,n){t.events.on("popups.hide."+e,n)}function u(e){var n=C[e];if(n&&!n.data("inst"+t.id)){var r=$(e);b(r,e)}return n}function c(e,n){t.events.on("popups.refresh."+e,n)}function f(n){t.events.trigger("popups.refresh."+n);for(var r=C[n].find(".fr-command"),o=0;o<r.length;o++){var i=e(r[o]);0==i.parents(".fr-dropdown-menu").length&&t.button.refresh(i)}}function d(e){"undefined"==typeof e&&(e=[]);for(var t in C)C.hasOwnProperty(t)&&e.indexOf(t)<0&&s(t)}function p(){t.shared.exit_flag=!0}function h(){t.shared.exit_flag=!1}function g(){return t.shared.exit_flag}function m(n,r){var o=e.FE.POPUP_TEMPLATES[n];"function"==typeof o&&(o=o.apply(t));for(var i in r)r.hasOwnProperty(i)&&(o=o.replace("[_"+i.toUpperCase()+"_]",r[i]));return o}function v(n,r){var o=m(n,r),i=e('<div class="fr-popup'+(t.helpers.isMobile()?" fr-mobile":" fr-desktop")+(t.opts.toolbarInline?" fr-inline":"")+'"><span class="fr-arrow"></span>'+o+"</div>");t.opts.theme&&i.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&t.$tb.css("z-index",t.opts.zIndex+2),"auto"!=t.opts.direction&&i.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),i.find("input, textarea").attr("dir",t.opts.direction).attr("disabled","disabled");var a=e("body");return a.append(i),i.data("container",a),C[n]=i,t.button.bindCommands(i,!1),i}function $(n){var r=C[n];return{_windowResize:function(){var e=r.data("instance")||t;!e.helpers.isMobile()&&r.is(":visible")&&(e.events.disableBlur(),e.popups.hide(n),e.events.enableBlur())},_inputFocus:function(n){var o=r.data("instance")||t,i=e(n.currentTarget);if(i.is("input:file")&&i.closest(".fr-layer").addClass("fr-input-focus"),n.preventDefault(),n.stopPropagation(),setTimeout(function(){o.events.enableBlur()},0),o.helpers.isMobile()){var a=e(o.o_win).scrollTop();setTimeout(function(){e(o.o_win).scrollTop(a)},0)}},_inputBlur:function(n){var o=r.data("instance")||t,i=e(n.currentTarget);i.is("input:file")&&i.closest(".fr-layer").removeClass("fr-input-focus"),document.activeElement!=this&&e(this).is(":visible")&&(o.events.blurActive()&&o.events.trigger("blur"),o.events.enableBlur())},_editorKeydown:function(o){var a=r.data("instance")||t;a.keys.ctrlKey(o)||o.which==e.FE.KEYCODE.ALT||o.which==e.FE.KEYCODE.ESC||(i(n)&&r.find(".fr-back:visible").length?a.button.exec(r.find(".fr-back:visible:first")):o.which!=e.FE.KEYCODE.ALT&&a.popups.hide(n))},_preventFocus:function(n){var o=r.data("instance")||t;"mouseup"==n.type&&t.button.hideActiveDropdowns(r);var i=n.originalEvent?n.originalEvent.target||n.originalEvent.originalTarget:null;"mouseup"==n.type||e(i).is(":focus")||o.events.disableBlur();var a="input, textarea, button, select, label, .fr-command";return i&&!e(i).is(a)&&0===e(i).parents(a).length?(n.stopPropagation(),!1):(i&&e(i).is(a)&&n.stopPropagation(),void h())},_editorMouseup:function(e){r.is(":visible")&&g()&&r.find("input:focus, textarea:focus, button:focus, select:focus").filter(":visible").length>0&&t.events.disableBlur()},_windowMouseup:function(e){if(!t.core.sameInstance(r))return!0;var o=r.data("instance")||t;r.is(":visible")&&g()&&(e.stopPropagation(),o.markers.remove(),o.popups.hide(n),h())},_windowKeydown:function(o){if(!t.core.sameInstance(r))return!0;var i=r.data("instance")||t,a=o.which;if(e.FE.KEYCODE.ESC==a){if(i.popups.isVisible(n)&&i.opts.toolbarInline)return o.stopPropagation(),i.popups.isVisible(n)&&(r.find(".fr-back:visible").length?(i.button.exec(r.find(".fr-back:visible:first")),i.accessibility.focusPopupButton(r)):r.find(".fr-dismiss:visible").length?i.button.exec(r.find(".fr-dismiss:visible:first")):(i.popups.hide(n),i.toolbar.showInline(null,!0),i.accessibility.FocusPopupButton(r))),!1;if(i.popups.isVisible(n))return r.find(".fr-back:visible").length?(i.button.exec(r.find(".fr-back:visible:first")),i.accessibility.focusPopupButton(r)):r.find(".fr-dismiss:visible").length?i.button.exec(r.find(".fr-dismiss:visible:first")):(i.popups.hide(n),i.accessibility.focusPopupButton(r)),!1}},_doPlaceholder:function(t){var n=e(this).next();0==n.length&&e(this).attr("placeholder")&&e(this).after('<label for="'+e(this).attr("id")+'">'+e(this).attr("placeholder")+"</label>"),e(this).toggleClass("fr-not-empty",""!=e(this).val())},_repositionPopup:function(e){if(!t.opts.height&&!t.opts.heightMax||t.opts.toolbarInline)return!0;if(t.$wp&&i(n)&&r.parent().get(0)==t.$sc.get(0)){var o=r.offset().top-t.$wp.offset().top,a=t.$wp.outerHeight();t.node.hasClass(r.get(0),"fr-above")&&(o+=r.outerHeight()),o>a||o<0?r.addClass("fr-hidden"):r.removeClass("fr-hidden")}}}}function b(e,n){t.events.on("mouseup",e._editorMouseup,!0),t.$wp&&t.events.on("keydown",e._editorKeydown),t.events.on("blur",function(e){a()&&t.markers.remove(),d()}),t.$wp&&!t.helpers.isMobile()&&t.events.$on(t.$wp,"scroll.popup"+n,e._repositionPopup),t.events.on("window.mouseup",e._windowMouseup,!0),t.events.on("window.keydown",e._windowKeydown,!0),C[n].data("inst"+t.id,!0),t.events.on("destroy",function(){t.core.sameInstance(C[n])&&C[n].removeClass("fr-active").appendTo("body");
},!0)}function y(n,r){var o=v(n,r),i=$(n);return b(i,n),t.events.$on(o,"mousedown mouseup touchstart touchend touch","*",i._preventFocus,!0),t.events.$on(o,"focus","input, textarea, button, select",i._inputFocus,!0),t.events.$on(o,"blur","input, textarea, button, select",i._inputBlur,!0),t.accessibility.registerPopup(n),t.events.$on(o,"keydown keyup change input","input, textarea",i._doPlaceholder,!0),t.helpers.isIOS()&&t.events.$on(o,"touchend","label",function(){e("#"+e(this).attr("for")).prop("checked",function(e,t){return!t})},!0),t.events.$on(e(t.o_win),"resize",i._windowResize,!0),o}function E(){for(var e in C)if(C.hasOwnProperty(e)){var t=C[e];t.html("").removeData().remove(),C[e]=null}C=[]}function w(){t.events.on("shared.destroy",E,!0),t.events.on("window.mousedown",p),t.events.on("window.touchmove",h),t.events.on("mousedown",function(e){a()&&(e.stopPropagation(),t.$el.find(".fr-marker").remove(),p(),t.events.disableBlur())})}t.shared.popups||(t.shared.popups={});var C=t.shared.popups;return t.shared.exit_flag=!1,{_init:w,create:y,get:u,show:r,hide:s,onHide:l,hideAll:d,setContainer:n,refresh:f,onRefresh:c,onShow:o,isVisible:i,areVisible:a}},e.FE.MODULES.position=function(t){function n(){var e=t.selection.ranges(0),n=e.getBoundingClientRect();if(0==n.top&&0==n.left&&0==n.width||0==n.height){var r=!1;0==t.$el.find(".fr-marker").length&&(t.selection.save(),r=!0);var o=t.$el.find(".fr-marker:first");o.css("display","inline"),o.css("line-height","");var i=o.offset(),a=o.outerHeight();o.css("display","none"),o.css("line-height",0),n={},n.left=i.left,n.width=0,n.height=a,n.top=i.top-(t.helpers.isMobile()?0:t.helpers.scrollTop()),n.right=1,n.bottom=1,n.ok=!0,r&&t.selection.restore()}return n}function r(e,n,r){var o=e.get(0).offsetHeight;if(!t.helpers.isMobile()&&t.$tb&&e.parent().get(0)!=t.$tb.get(0)){var i=(e.get(0).parentNode.clientHeight-20-(t.opts.toolbarBottom?t.$tb.get(0).offsetHeight:0),e.parent().offset().top),a=n-o-(r||0);e.parent().get(0)==t.$sc.get(0)&&(i-=e.parent().position().top);var s=t.$sc.get(0).scrollHeight;i+n+o>t.$sc.offset().top+s&&e.parent().offset().top+a>0?(n=a,e.addClass("fr-above")):e.removeClass("fr-above")}return n}function o(e,n){var r=e.get(0).offsetWidth;return n+r>t.$sc.get(0).clientWidth-10&&(n=t.$sc.get(0).clientWidth-r-10),n<0&&(n=10),n}function i(e){var r=n();e.css({top:0,left:0});var o=r.top+r.height,i=r.left+r.width/2-e.get(0).offsetWidth/2+t.helpers.scrollLeft();t.opts.iframe||(o+=t.helpers.scrollTop()),a(i,o,e,r.height)}function a(e,n,i,a){var s=i.data("container");!s||"BODY"===s.get(0).tagName&&"static"==s.css("position")||(e&&(e-=s.offset().left),n&&(n-=s.offset().top),"BODY"!=s.get(0).tagName?(e&&(e+=s.get(0).scrollLeft),n&&(n+=s.get(0).scrollTop)):"absolute"==s.css("position")&&(e&&(e+=s.position().left),n&&(n+=s.position().top))),t.opts.iframe&&s&&t.$tb&&s.get(0)!=t.$tb.get(0)&&(e&&(e+=t.$iframe.offset().left),n&&(n+=t.$iframe.offset().top));var l=o(i,e);if(e){i.css("left",l);var u=i.data("fr-arrow");u||(u=i.find(".fr-arrow"),i.data("fr-arrow",u)),u.data("margin-left")||u.data("margin-left",t.helpers.getPX(u.css("margin-left"))),u.css("margin-left",e-l+u.data("margin-left"))}n&&i.css("top",r(i,n,a))}function s(n){var r=e(n),o=r.is(".fr-sticky-on"),i=r.data("sticky-top"),a=r.data("sticky-scheduled");if("undefined"==typeof i){r.data("sticky-top",0);var s=e('<div class="fr-sticky-dummy" style="height: '+r.outerHeight()+'px;"></div>');t.$box.prepend(s)}else t.$box.find(".fr-sticky-dummy").css("height",r.outerHeight());if(t.core.hasFocus()||t.$tb.find("input:visible:focus").length>0){var l=t.helpers.scrollTop(),u=Math.min(Math.max(l-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-r.outerHeight());u!=i&&u!=a&&(clearTimeout(r.data("sticky-timeout")),r.data("sticky-scheduled",u),r.outerHeight()<l-t.$tb.parent().offset().top&&r.addClass("fr-opacity-0"),r.data("sticky-timeout",setTimeout(function(){var e=t.helpers.scrollTop(),n=Math.min(Math.max(e-t.$tb.parent().offset().top,0),t.$tb.parent().outerHeight()-r.outerHeight());n>0&&"BODY"==t.$tb.parent().get(0).tagName&&(n+=t.$tb.parent().position().top),n!=i&&(r.css("top",Math.max(n,0)),r.data("sticky-top",n),r.data("sticky-scheduled",n)),r.removeClass("fr-opacity-0")},100))),o||(r.css("top","0"),r.width(t.$tb.parent().width()),r.addClass("fr-sticky-on"),t.$box.addClass("fr-sticky-box"))}else clearTimeout(e(n).css("sticky-timeout")),r.css("top","0"),r.css("position",""),r.width(""),r.data("sticky-top",0),r.removeClass("fr-sticky-on"),t.$box.removeClass("fr-sticky-box")}function l(n){if(n.offsetWidth){var r,o,i=e(n),a=i.outerHeight(),s=i.data("sticky-position"),l=e("body"==t.opts.scrollableContainer?t.o_win:t.opts.scrollableContainer).outerHeight(),u=0,c=0;"body"!==t.opts.scrollableContainer&&(u=t.$sc.offset().top,c=e(t.o_win).outerHeight()-u-l);var f="body"==t.opts.scrollableContainer?t.helpers.scrollTop():u,d=i.is(".fr-sticky-on");i.data("sticky-parent")||i.data("sticky-parent",i.parent());var p=i.data("sticky-parent"),h=p.offset().top,g=p.outerHeight();if(i.data("sticky-offset")||(i.data("sticky-offset",!0),i.after('<div class="fr-sticky-dummy" style="height: '+a+'px;"></div>')),!s){var m="auto"!==i.css("top")||"auto"!==i.css("bottom");m||i.css("position","fixed"),s={top:t.node.hasClass(i.get(0),"fr-top"),bottom:t.node.hasClass(i.get(0),"fr-bottom")},m||i.css("position",""),i.data("sticky-position",s),i.data("top",t.node.hasClass(i.get(0),"fr-top")?i.css("top"):"auto"),i.data("bottom",t.node.hasClass(i.get(0),"fr-bottom")?i.css("bottom"):"auto")}var v=function(){return h<f+r&&h+g-a>=f+r},$=function(){return h+a<f+l-o&&h+g>f+l-o};r=t.helpers.getPX(i.data("top")),o=t.helpers.getPX(i.data("bottom"));var b=s.top&&v(),y=s.bottom&&$();b||y?(i.css("width",p.width()+"px"),d||(i.addClass("fr-sticky-on"),i.removeClass("fr-sticky-off"),i.css("top")&&("auto"!=i.data("top")?i.css("top",t.helpers.getPX(i.data("top"))+u):i.data("top","auto")),i.css("bottom")&&("auto"!=i.data("bottom")?i.css("bottom",t.helpers.getPX(i.data("bottom"))+c):i.css("bottom","auto")))):t.node.hasClass(i.get(0),"fr-sticky-off")||(i.width(""),i.removeClass("fr-sticky-on"),i.addClass("fr-sticky-off"),i.css("top")&&"auto"!=i.data("top")&&s.top&&i.css("top",0),i.css("bottom")&&"auto"!=i.data("bottom")&&s.bottom&&i.css("bottom",0))}}function u(){var e=document.createElement("test"),n=e.style;return n.cssText="position:"+["-webkit-","-moz-","-ms-","-o-",""].join("sticky; position:")+" sticky;",n.position.indexOf("sticky")!==-1&&!t.helpers.isIOS()&&!t.helpers.isAndroid()&&!t.browser.chrome}function c(){if(!u())if(t._stickyElements=[],t.helpers.isIOS()){var n=function(){t.helpers.requestAnimationFrame()(n);for(var e=0;e<t._stickyElements.length;e++)s(t._stickyElements[e])};n(),t.events.$on(e(t.o_win),"scroll",function(){if(t.core.hasFocus())for(var n=0;n<t._stickyElements.length;n++){var r=e(t._stickyElements[n]),o=r.parent(),i=t.helpers.scrollTop();r.outerHeight()<i-o.offset().top&&(r.addClass("fr-opacity-0"),r.data("sticky-top",-1),r.data("sticky-scheduled",-1))}},!0)}else t.events.$on(e("body"==t.opts.scrollableContainer?t.o_win:t.opts.scrollableContainer),"scroll",f,!0),t.events.$on(e(t.o_win),"resize",f,!0),t.events.on("initialized",f),t.events.on("focus",f),t.events.$on(e(t.o_win),"resize","textarea",f,!0);t.events.on("destroy",function(e){t._stickyElements=[]})}function f(){if(t._stickyElements)for(var e=0;e<t._stickyElements.length;e++)l(t._stickyElements[e])}function d(e){e.addClass("fr-sticky"),t.helpers.isIOS()&&e.addClass("fr-sticky-ios"),u()||t._stickyElements.push(e.get(0))}function p(){c()}return{_init:p,forSelection:i,addSticky:d,refresh:f,at:a,getBoundingRect:n}},e.FE.MODULES.refresh=function(t){function n(e){a(e,!t.undo.canDo())}function r(e){a(e,!t.undo.canRedo())}function o(e){if(t.node.hasClass(e.get(0),"fr-no-refresh"))return!1;for(var n=t.selection.blocks(),r=0;r<n.length;r++){for(var o=n[r].previousSibling;o&&o.nodeType==Node.TEXT_NODE&&0===o.textContent.length;)o=o.previousSibling;if("LI"!=n[r].tagName||o)return a(e,!1),!0;a(e,!0)}}function i(n){if(t.node.hasClass(n.get(0),"fr-no-refresh"))return!1;for(var r=t.selection.blocks(),o=0;o<r.length;o++){var i="rtl"==t.opts.direction||"rtl"==e(r[o]).css("direction")?"margin-right":"margin-left";if("LI"==r[o].tagName||"LI"==r[o].parentNode.tagName)return a(n,!1),!0;if(t.helpers.getPX(e(r[o]).css(i))>0)return a(n,!1),!0}a(n,!0)}function a(e,t){e.toggleClass("fr-disabled",t).attr("aria-disabled",t)}return{undo:n,redo:r,outdent:i,indent:o}},e.extend(e.FE.DEFAULTS,{editInPopup:!1}),e.FE.MODULES.textEdit=function(t){function n(){var e='<div id="fr-text-edit-'+t.id+'" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="'+t.language.translate("Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">'+t.language.translate("Update")+"</button></div></div>",n={edit:e};t.popups.create("text.edit",n)}function r(){var n,r=t.popups.get("text.edit");n="INPUT"===t.$el.prop("tagName")?t.$el.attr("placeholder"):t.$el.text(),r.find("input").val(n).trigger("change"),t.popups.setContainer("text.edit",e("body")),t.popups.show("text.edit",t.$el.offset().left+t.$el.outerWidth()/2,t.$el.offset().top+t.$el.outerHeight(),t.$el.outerHeight())}function o(){t.events.$on(t.$el,t._mouseup,function(e){setTimeout(function(){r()},10)})}function i(){var e=t.popups.get("text.edit"),n=e.find("input").val();0==n.length&&(n=t.opts.placeholderText),"INPUT"===t.$el.prop("tagName")?t.$el.attr("placeholder",n):t.$el.text(n),t.events.trigger("contentChanged"),t.popups.hide("text.edit")}function a(){t.opts.editInPopup&&(n(),o())}return{_init:a,update:i}},e.FE.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.textEdit.update()}}),e.extend(e.FE.DEFAULTS,{toolbarBottom:!1,toolbarButtons:["fullscreen","print","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","|","specialCharacters","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting","selectAll","html","applyFormat","removeFormat","help"],toolbarButtonsXS:["bold","italic","fontFamily","fontSize","|","undo","redo"],toolbarButtonsSM:["bold","italic","underline","|","fontFamily","fontSize","insertLink","insertImage","table","|","undo","redo"],toolbarButtonsMD:["fullscreen","bold","italic","underline","fontFamily","fontSize","color","paragraphStyle","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting"],toolbarContainer:null,toolbarInline:!1,toolbarSticky:!0,toolbarStickyOffset:0,toolbarVisibleWithoutSelection:!1}),e.FE.MODULES.toolbar=function(t){function n(e,t){for(var n=0;n<t.length;n++)"-"!=t[n]&&"|"!=t[n]&&e.indexOf(t[n])<0&&e.push(t[n])}function r(){var r=e.merge([],o());n(r,t.opts.toolbarButtonsXS||[]),n(r,t.opts.toolbarButtonsSM||[]),n(r,t.opts.toolbarButtonsMD||[]),n(r,t.opts.toolbarButtons);for(var i=r.length-1;i>=0;i--)"-"!=r[i]&&"|"!=r[i]&&r.indexOf(r[i])<i&&r.splice(i,1);var a=t.button.buildList(r,o());t.$tb.append(a),t.button.bindCommands(t.$tb)}function o(){var e=t.helpers.screenSize();return E[e]}function i(){var e=o();t.$tb.find(".fr-separator").remove(),t.$tb.find("> .fr-command").addClass("fr-hidden");for(var n=0;n<e.length;n++)if("|"==e[n]||"-"==e[n])t.$tb.append(t.button.buildList([e[n]]));else{var r=t.$tb.find('> .fr-command[data-cmd="'+e[n]+'"]'),i=null;t.node.hasClass(r.next().get(0),"fr-dropdown-menu")&&(i=r.next()),r.removeClass("fr-hidden").appendTo(t.$tb),i&&i.appendTo(t.$tb)}}function a(){t.events.$on(e(t.o_win),"resize",i),t.events.$on(e(t.o_win),"orientationchange",i)}function s(n,r){setTimeout(function(){if(n&&n.which==e.FE.KEYCODE.ESC);else if(t.selection.inEditor()&&t.core.hasFocus()&&!t.popups.areVisible()&&(t.opts.toolbarVisibleWithoutSelection||!t.selection.isCollapsed()&&!t.keys.isIME()||r)){if(t.$tb.data("instance",t),0==t.events.trigger("toolbar.show",[n]))return!1;t.$tb.show(),t.opts.toolbarContainer||t.position.forSelection(t.$tb),t.opts.zIndex>1?t.$tb.css("z-index",t.opts.zIndex+1):t.$tb.css("z-index",null)}},0)}function l(n){var r=e(".fr-dropdown.fr-active");return!!r.next().find(t.o_doc.activeElement).length||void(t.events.trigger("toolbar.hide")!==!1&&t.$tb.hide())}function u(){return 0!=t.events.trigger("toolbar.show")&&void t.$tb.show()}function c(n){clearTimeout(w),n&&n.which==e.FE.KEYCODE.ESC||(w=setTimeout(s,t.opts.typingTimer))}function f(){t.events.on("window.mousedown",l),t.events.on("keydown",l),t.events.on("blur",l),t.events.on("window.mouseup",s),t.helpers.isMobile()?t.helpers.isIOS()||(t.events.on("window.touchend",s),t.browser.mozilla&&setInterval(s,200)):t.events.on("window.keyup",c),t.events.on("keydown",function(t){t&&t.which==e.FE.KEYCODE.ESC&&l()}),t.events.on("keydown",function(t){if(t.which==e.FE.KEYCODE.ALT)return t.stopPropagation(),!1},!0),t.events.$on(t.$wp,"scroll.toolbar",s),t.events.on("commands.after",s),t.helpers.isMobile()&&(t.events.$on(t.$doc,"selectionchange",c),t.events.$on(t.$doc,"orientationchange",s))}function d(){t.opts.toolbarInline?(t.$sc.append(t.$tb),t.$tb.data("container",t.$sc),t.$tb.addClass("fr-inline"),t.$tb.prepend('<span class="fr-arrow"></span>'),f(),t.opts.toolbarBottom=!1):(t.opts.toolbarBottom&&!t.helpers.isIOS()?(t.$box.append(t.$tb),t.$tb.addClass("fr-bottom"),t.$box.addClass("fr-bottom")):(t.opts.toolbarBottom=!1,t.$box.prepend(t.$tb),t.$tb.addClass("fr-top"),t.$box.addClass("fr-top")),t.$tb.addClass("fr-basic"),t.opts.toolbarSticky&&(t.opts.toolbarStickyOffset&&(t.opts.toolbarBottom?t.$tb.css("bottom",t.opts.toolbarStickyOffset):t.$tb.css("top",t.opts.toolbarStickyOffset)),t.position.addSticky(t.$tb)))}function p(){t.$tb.html("").removeData().remove(),t.$tb=null}function h(){t.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),t.$box.find(".fr-sticky-dummy").remove()}function g(){t.opts.theme&&t.$tb.addClass(t.opts.theme+"-theme"),t.opts.zIndex>1&&t.$tb.css("z-index",t.opts.zIndex+1),"auto"!=t.opts.direction&&t.$tb.removeClass("fr-ltr fr-rtl").addClass("fr-"+t.opts.direction),t.helpers.isMobile()?t.$tb.addClass("fr-mobile"):t.$tb.addClass("fr-desktop"),t.opts.toolbarContainer?(t.opts.toolbarInline&&(f(),l()),t.opts.toolbarBottom?t.$tb.addClass("fr-bottom"):t.$tb.addClass("fr-top")):d(),b=t.$tb.get(0).ownerDocument,y="defaultView"in b?b.defaultView:b.parentWindow,r(),a(),t.accessibility.registerToolbar(t.$tb),t.events.$on(t.$tb,t._mousedown+" "+t._mouseup,function(e){var n=e.originalEvent?e.originalEvent.target||e.originalEvent.originalTarget:null;if(n&&"INPUT"!=n.tagName&&!t.edit.isDisabled())return e.stopPropagation(),e.preventDefault(),!1},!0)}function m(){return t.$sc=e(t.opts.scrollableContainer),!!t.$wp&&(t.opts.toolbarContainer?(t.shared.$tb?(t.$tb=t.shared.$tb,t.opts.toolbarInline&&f()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,e(t.opts.toolbarContainer).append(t.$tb),g(),t.$tb.data("instance",t)),t.opts.toolbarInline?t.$box.addClass("fr-inline"):t.$box.addClass("fr-basic"),t.events.on("focus",function(){t.$tb.data("instance",t)},!0),t.opts.toolbarInline=!1):t.opts.toolbarInline?(t.$box.addClass("fr-inline"),t.shared.$tb?(t.$tb=t.shared.$tb,f()):(t.shared.$tb=e('<div class="fr-toolbar"></div>'),t.$tb=t.shared.$tb,g())):(t.$box.addClass("fr-basic"),t.$tb=e('<div class="fr-toolbar"></div>'),g(),t.$tb.data("instance",t)),t.events.on("destroy",h,!0),void t.events.on(t.opts.toolbarInline||t.opts.toolbarContainer?"shared.destroy":"destroy",p,!0))}function v(){!C&&t.$tb&&(t.$tb.find("> .fr-command").addClass("fr-disabled fr-no-refresh").attr("aria-disabled",!0),C=!0)}function $(){C&&t.$tb&&(t.$tb.find("> .fr-command").removeClass("fr-disabled fr-no-refresh").attr("aria-disabled",!1),C=!1),t.button.bulkRefresh()}var b,y,E=[];E[e.FE.XS]=t.opts.toolbarButtonsXS||t.opts.toolbarButtons,E[e.FE.SM]=t.opts.toolbarButtonsSM||t.opts.toolbarButtons,E[e.FE.MD]=t.opts.toolbarButtonsMD||t.opts.toolbarButtons,E[e.FE.LG]=t.opts.toolbarButtons;var w=null,C=!1;return{_init:m,hide:l,show:u,showInline:s,disable:v,enable:$}}}),angular.module("invitationsApp",["ui.router","ngResource","ngDialog","lbServices","angular-barcode","froala"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("app",{url:"/",views:{header:{templateUrl:"views/header.html",controller:"HeaderController"},content:{templateUrl:"views/home.html"},footer:{templateUrl:"views/footer.html"}}}).state("app.aboutus",{url:"aboutus",views:{"content@":{templateUrl:"views/aboutus.html"}}}).state("app.contactus",{url:"contactus",views:{"content@":{templateUrl:"views/contactus.html",controller:"ContactController"}}}).state("app.customers",{url:"Customers/:id",views:{"content@":{templateUrl:"views/customers.html",controller:"CustomersController"}}}).state("app.hosts",{url:"Customers/:id/hosts",views:{"content@":{templateUrl:"views/hosts.html",controller:"HostsController"}}}).state("app.events",{url:"Hosts/:id/events",views:{"content@":{templateUrl:"views/events.html",controller:"EventsController"}}}).state("app.guests",{url:"Events/:id/guests",views:{"content@":{templateUrl:"views/guests.html",controller:"GuestsController"}}}).state("app.confirmation",{url:"Guests/:id/confirmation",views:{"content@":{templateUrl:"views/confirmation.html",controller:"ConfirmationController"}}}).state("app.barcode",{url:"Guests/:id/barcode",views:{"content@":{templateUrl:"views/invitation.html",controller:"BarcodeController"}}}).state("app.presence",{url:"Events/:id/presence",views:{"content@":{templateUrl:"views/presence.html",controller:"PresenceController"}}}),t.otherwise("/")}]),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("angular-barcode",[],t):"object"==typeof exports?exports["angular-barcode"]=t():e["angular-barcode"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(43),i=r(o);t["default"]=angular.module("angular-barcode",[]).directive("angularBarcode",i["default"]),e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function o(e,t){n(this,o),this.data=e,this.text=t.text||e,this.options=t};t["default"]=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){n(this,e),this.startBin="101",this.endBin="101",this.middleBin="01010",this.Lbinary=["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],this.Gbinary=["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],this.Rbinary=["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"]}return e.prototype.encode=function(e,t,n){var r="";n=n||"";for(var o=0;o<e.length;o++)"L"==t[o]?r+=this.Lbinary[e[o]]:"G"==t[o]?r+=this.Gbinary[e[o]]:"R"==t[o]&&(r+=this.Rbinary[e[o]]),o<e.length-1&&(r+=n);return r},e}();t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){for(var n=0;n<t;n++)e="0"+e;return e}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=function(e){function t(n,r){return o(this,t),i(this,e.call(this,n,r))}return a(t,e),t.prototype.encode=function(){for(var e="110",t=0;t<this.data.length;t++){var n=parseInt(this.data[t]),r=n.toString(2);r=s(r,4-r.length);for(var o=0;o<r.length;o++)e+="0"==r[o]?"100":"110"}return e+="1001",{data:e,text:this.text}},t.prototype.valid=function(){return this.data.search(/^[0-9]+$/)!==-1},t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n.substring(1),r));a.bytes=[];for(var s=0;s<n.length;++s)a.bytes.push(n.charCodeAt(s));return a.encodings=[740,644,638,176,164,100,224,220,124,608,604,572,436,244,230,484,260,254,650,628,614,764,652,902,868,836,830,892,844,842,752,734,590,304,112,94,416,128,122,672,576,570,464,422,134,496,478,142,910,678,582,768,762,774,880,862,814,896,890,818,914,602,930,328,292,200,158,68,62,424,412,232,218,76,74,554,616,978,556,146,340,212,182,508,268,266,956,940,938,758,782,974,400,310,118,512,506,960,954,502,518,886,966,668,680,692,5379],a}return a(t,e),t.prototype.encode=function(){var e,t=this.bytes,n=t.shift()-105;if(103===n)e=this.nextA(t,1);else if(104===n)e=this.nextB(t,1);else{if(105!==n)throw new c;e=this.nextC(t,1)}return{text:this.text==this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:this.getEncoding(n)+e.result+this.getEncoding((e.checksum+n)%103)+this.getEncoding(106)}},t.prototype.getEncoding=function(e){return this.encodings[e]?(this.encodings[e]+1e3).toString(2):""},t.prototype.valid=function(){return this.data.search(/^[\x00-\x7F\xC8-\xD3]+$/)!==-1},t.prototype.nextA=function(e,t){if(e.length<=0)return{result:"",checksum:0};var n,r;if(e[0]>=200)r=e[0]-105,e.shift(),99===r?n=this.nextC(e,t+1):100===r?n=this.nextB(e,t+1):98===r?(e[0]=e[0]>95?e[0]-96:e[0],n=this.nextA(e,t+1)):n=this.nextA(e,t+1);else{var o=e[0];r=o<32?o+64:o-32,e.shift(),n=this.nextA(e,t+1)}var i=this.getEncoding(r),a=r*t;return{result:i+n.result,checksum:a+n.checksum}},t.prototype.nextB=function(e,t){if(e.length<=0)return{result:"",checksum:0};var n,r;e[0]>=200?(r=e[0]-105,e.shift(),99===r?n=this.nextC(e,t+1):101===r?n=this.nextA(e,t+1):98===r?(e[0]=e[0]<32?e[0]+96:e[0],n=this.nextB(e,t+1)):n=this.nextB(e,t+1)):(r=e[0]-32,e.shift(),n=this.nextB(e,t+1));var o=this.getEncoding(r),i=r*t;return{result:o+n.result,checksum:i+n.checksum}},t.prototype.nextC=function(e,t){if(e.length<=0)return{result:"",checksum:0};var n,r;e[0]>=200?(r=e[0]-105,e.shift(),n=100===r?this.nextB(e,t+1):101===r?this.nextA(e,t+1):this.nextC(e,t+1)):(r=10*(e[0]-48)+e[1]-48,e.shift(),e.shift(),n=this.nextC(e,t+1));var o=this.getEncoding(r),i=r*t;return{result:o+n.result,checksum:i+n.checksum}},t}(l["default"]),c=function(e){function t(){o(this,t);var n=i(this,e.call(this));return n.name="InvalidStartCharacterException",n.message="The encoding does not start with a start character.",n}return a(t,e),t}(Error);t["default"]=u},function(e,t){"use strict";function n(e){for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n]);t+=(n+e.length)%2===0?r:2*r%10+Math.floor(2*r/10)}return(10-t%10)%10}function r(e){for(var t=0,n=[2,3,4,5,6,7],r=0;r<e.length;r++){var o=parseInt(e[e.length-1-r]);t+=n[r%n.length]*o}return(11-t%11)%11}Object.defineProperty(t,"__esModule",{value:!0}),t.mod10=n,t.mod11=r},function(e,t){"use strict";function n(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&"undefined"!=typeof t[n]&&(r[n]=t[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(o,i){n(this,t);var a=r(this,e.call(this));return a.name="InvalidInputException",a.symbology=o,a.input=i,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return o(t,e),t}(Error),a=function(e){function t(){n(this,t);var o=r(this,e.call(this));return o.name="InvalidElementException",o.message="Not supported type to render on",o}return o(t,e),t}(Error),s=function(e){function t(){n(this,t);var o=r(this,e.call(this));return o.name="NoElementException",o.message="No element to render on.",o}return o(t,e),t}(Error);t.InvalidInputException=i,t.InvalidElementException=a,t.NoElementException=s},function(e,t){"use strict";function n(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&(n=t[n],"string"==typeof e[n]&&(e[n]=parseInt(e[n],10)));return"string"==typeof e.displayValue&&(e.displayValue="false"!=e.displayValue),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function i(e,t,n){if(n.displayValue&&t<e){if("center"==n.textAlign)return Math.floor((e-t)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(e-t)}return 0}function a(e,t,n){for(var r=0;r<e.length;r++){var a,s=e[r],l=(0,f["default"])(t,s.options);a=l.displayValue?u(s.text,l,n):0;var c=s.data.length*l.width;s.width=Math.ceil(Math.max(a,c)),s.height=o(s,l),s.barcodePadding=i(a,c,l)}}function s(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t}function l(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t}function u(e,t,n){var r;r="undefined"==typeof n?document.createElement("canvas").getContext("2d"):n,r.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var o=r.measureText(e).width;return o}Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalWidthOfEncodings=t.calculateEncodingAttributes=t.getBarcodePadding=t.getEncodingHeight=t.getMaximumHeightOfEncodings=void 0;var c=n(6),f=r(c);t.getMaximumHeightOfEncodings=l,t.getEncodingHeight=o,t.getBarcodePadding=i,t.calculateEncodingAttributes=a,t.getTotalWidthOfEncodings=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){x.prototype[t]=x.prototype[t.toUpperCase()]=x.prototype[t.toLowerCase()]=function(n,r){var o=this;return o._errorHandler.wrapBarcodeCall(function(){var a=(0,f["default"])(o._options,r);a=(0,b["default"])(a);var s=e[t],l=i(n,s,a);return o._encodings.push(l),o})}}function i(e,t,n){e=""+e;var r=new t(e,n);if(!r.valid())throw new w.InvalidInputException(r.constructor.name,e);var o=r.encode();o=(0,p["default"])(o);for(var i=0;i<o.length;i++)o[i].options=(0,f["default"])(n,o[i].options);return o}function a(){return u["default"].CODE128?"CODE128":Object.keys(u["default"])[0]}function s(e,t,n){t=(0,p["default"])(t);for(var r=0;r<t.length;r++)t[r].options=(0,f["default"])(n,t[r].options),(0,g["default"])(t[r].options);(0,g["default"])(n);var o=e.renderer,i=new o(e.element,t,n);i.render(),e.afterRender&&e.afterRender()}var l=n(33),u=r(l),c=n(6),f=r(c),d=n(39),p=r(d),h=n(36),g=r(h),m=n(38),v=r(m),$=n(8),b=r($),y=n(35),E=r(y),w=n(7),C=n(9),S=r(C),x=function(){},T=function(e,t,n){var r=new x;if("undefined"==typeof e)throw Error("No element to render on was provided.");return r._renderProperties=(0,v["default"])(e),r._encodings=[],r._options=S["default"],r._errorHandler=new E["default"](r),"undefined"!=typeof t&&(n=n||{},n.format||(n.format=a()),r.options(n)[n.format](t,n).render()),r};T.getModule=function(e){return u["default"][e]};for(var O in u["default"])u["default"].hasOwnProperty(O)&&o(u["default"],O);x.prototype.options=function(e){return this._options=(0,f["default"])(this._options,e),this},x.prototype.blank=function(e){var t="0".repeat(e);return this._encodings.push({data:t}),this},x.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var n=(0,f["default"])(this._options,e.options);"auto"==n.format&&(n.format=a()),this._errorHandler.wrapBarcodeCall(function(){var t=n.value,r=u["default"][n.format.toUpperCase()],o=i(t,r,n);s(e,o,n)})}}},x.prototype.render=function(){if(!this._renderProperties)throw new w.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)s(this._renderProperties[e],this._encodings,this._options);else s(this._renderProperties,this._encodings,this._options);return this},x.prototype._defaults=S["default"],"undefined"!=typeof window&&(window.JsBarcode=T),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var n=[];return jQuery(this).each(function(){n.push(this)}),T(n,e,t)}),e.exports=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=r(s),u=function(e){function t(n,r){return o(this,t),i(this,e.call(this,String.fromCharCode(208)+n,r))}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[\x00-\x5F\xC8-\xCF]+$/)!==-1},t}(l["default"]);t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=r(s),u=function(e){function t(n,r){return o(this,t),i(this,e.call(this,String.fromCharCode(209)+n,r))}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[\x20-\x7F\xC8-\xCF]+$/)!==-1},t}(l["default"]);t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=r(s),u=function(e){function t(n,r){return o(this,t),i(this,e.call(this,String.fromCharCode(210)+n,r))}return a(t,e),t.prototype.valid=function(){return this.data.search(/^(\xCF*[0-9]{2}\xCF*)+$/)!==-1},t}(l["default"]);t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=e.match(/^[\x00-\x5F\xC8-\xCF]*/)[0].length,r=e.match(/^[\x20-\x7F\xC8-\xCF]*/)[0].length,o=e.match(/^(\xCF*[0-9]{2}\xCF*)*/)[0].length;return t=o>=2?String.fromCharCode(210)+c(e):n>r?String.fromCharCode(208)+l(e):String.fromCharCode(209)+u(e),t=t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(e,t){return String.fromCharCode(203)+t})}function l(e){var t=e.match(/^([\x00-\x5F\xC8-\xCF]+?)(([0-9]{2}){2,})([^0-9]|$)/);if(t)return t[1]+String.fromCharCode(204)+c(e.substring(t[1].length));var n=e.match(/^[\x00-\x5F\xC8-\xCF]+/);return n[0].length===e.length?e:n[0]+String.fromCharCode(205)+u(e.substring(n[0].length))}function u(e){var t=e.match(/^([\x20-\x7F\xC8-\xCF]+?)(([0-9]{2}){2,})([^0-9]|$)/);if(t)return t[1]+String.fromCharCode(204)+c(e.substring(t[1].length));var n=e.match(/^[\x20-\x7F\xC8-\xCF]+/);return n[0].length===e.length?e:n[0]+String.fromCharCode(206)+l(e.substring(n[0].length))}function c(e){var t=e.match(/^(\xCF*[0-9]{2}\xCF*)+/)[0],n=t.length;if(n===e.length)return e;e=e.substring(n);var r=e.match(/^[\x00-\x5F\xC8-\xCF]*/)[0].length,o=e.match(/^[\x20-\x7F\xC8-\xCF]*/)[0].length;return r>=o?t+String.fromCharCode(206)+l(e):t+String.fromCharCode(205)+u(e)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(4),d=r(f),p=function(e){function t(n,r){if(o(this,t),n.search(/^[\x00-\x7F\xC8-\xD3]+$/)!==-1)var a=i(this,e.call(this,s(n),r));else var a=i(this,e.call(this,n,r));return i(a)}return a(t,e),t}(d["default"]);t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CODE128C=t.CODE128B=t.CODE128A=t.CODE128=void 0;var o=n(15),i=r(o),a=n(12),s=r(a),l=n(13),u=r(l),c=n(14),f=r(c);t.CODE128=i["default"],t.CODE128A=s["default"],t.CODE128B=u["default"],t.CODE128C=f["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return l(c(e))}function l(e){return m[e].toString(2)}function u(e){return g[e]}function c(e){return g.indexOf(e)}function f(e){for(var t=0,n=0;n<e.length;n++)t+=c(e[n]);return t%=43}Object.defineProperty(t,"__esModule",{value:!0}),t.CODE39=void 0;var d=n(1),p=r(d),h=function(e){function t(n,r){return o(this,t),n=n.toUpperCase(),r.mod43&&(n+=u(f(n))),i(this,e.call(this,n,r))}return a(t,e),t.prototype.encode=function(){for(var e=s("*"),t=0;t<this.data.length;t++)e+=s(this.data[t])+"0";return e+=s("*"),{data:e,text:this.text}},t.prototype.valid=function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1},t}(p["default"]),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],m=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];t.CODE39=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=0;for(t=0;t<12;t+=2)n+=parseInt(e[t]);for(t=1;t<12;t+=2)n+=3*parseInt(e[t]);return(10-n%10)%10}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=r(l),c=n(1),f=r(c),d=function(e){function t(n,r){o(this,t),n.search(/^[0-9]{12}$/)!==-1&&(n+=s(n));var a=i(this,e.call(this,n,r));return!r.flat&&r.fontSize>10*r.width?a.fontSize=10*r.width:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a.lastChar=r.lastChar,a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{13}$/)!==-1&&this.data[12]==s(this.data)},t.prototype.encode=function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()},t.prototype.getStructure=function(){return["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},t.prototype.guardedEncoding=function(){var e=new u["default"],t=[],n=this.getStructure()[this.data[0]],r=this.data.substr(1,6),o=this.data.substr(7,6);return this.options.displayValue&&t.push({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),t.push({data:e.encode(r,n),text:this.text.substr(1,6),options:{fontSize:this.fontSize}}),t.push({data:"01010",options:{height:this.guardHeight}}),t.push({data:e.encode(o,"RRRRRR"),text:this.text.substr(7,6),options:{fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),this.options.lastChar&&this.options.displayValue&&(t.push({data:"00"}),t.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}})),t},t.prototype.flatEncoding=function(){var e=new u["default"],t="",n=this.getStructure()[this.data[0]];return t+="101",t+=e.encode(this.data.substr(1,6),n),t+="01010",t+=e.encode(this.data.substr(7,6),"RRRRRR"),t+="101",{data:t,text:this.text}},t}(f["default"]);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),u=n(1),c=r(u),f=function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.structure=["LL","LG","GL","GG"],a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{2}$/)!==-1},t.prototype.encode=function(){var e=new l["default"],t=this.structure[parseInt(this.data)%4],n="1011";return n+=e.encode(this.data,t,"01"),{data:n,text:this.text}},t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),u=n(1),c=r(u),f=function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.structure=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{5}$/)!==-1},t.prototype.encode=function(){var e=new l["default"],t=this.checksum(),n="1011";return n+=e.encode(this.data,this.structure[t],"01"),{data:n,text:this.text}},t.prototype.checksum=function(){var e=0;return e+=3*parseInt(this.data[0]),e+=9*parseInt(this.data[1]),e+=3*parseInt(this.data[2]),e+=9*parseInt(this.data[3]),e+=3*parseInt(this.data[4]),e%10},t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=0;for(t=0;t<7;t+=2)n+=3*parseInt(e[t]);for(t=1;t<7;t+=2)n+=parseInt(e[t]);return(10-n%10)%10}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=r(l),c=n(1),f=r(c),d=function(e){function t(n,r){return o(this,t),n.search(/^[0-9]{7}$/)!==-1&&(n+=s(n)),i(this,e.call(this,n,r))}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{8}$/)!==-1&&this.data[7]==s(this.data)},t.prototype.encode=function(){var e=new u["default"],t="",n=this.data.substr(0,4),r=this.data.substr(4,4);return t+=e.startBin,t+=e.encode(n,"LLLL"),t+=e.middleBin,t+=e.encode(r,"RRRR"),t+=e.endBin,{data:t,text:this.text}},t}(f["default"]);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n=0;for(t=1;t<11;t+=2)n+=parseInt(e[t]);for(t=0;t<11;t+=2)n+=3*parseInt(e[t]);return(10-n%10)%10}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=r(l),c=n(1),f=r(c),d=function(e){function t(n,r){o(this,t),n.search(/^[0-9]{11}$/)!==-1&&(n+=s(n));var a=i(this,e.call(this,n,r));return a.displayValue=r.displayValue,r.fontSize>10*r.width?a.fontSize=10*r.width:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==s(this.data)},t.prototype.encode=function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()},t.prototype.flatEncoding=function(){var e=new u["default"],t="";return t+="101",t+=e.encode(this.data.substr(0,6),"LLLLLL"),t+="01010",t+=e.encode(this.data.substr(6,6),"RRRRRR"),t+="101",{data:t,text:this.text}},t.prototype.guardedEncoding=function(){var e=new u["default"],t=[];return this.displayValue&&t.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101"+e.encode(this.data[0],"L"),options:{height:this.guardHeight}}),t.push({data:e.encode(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),t.push({data:"01010",options:{height:this.guardHeight}}),t.push({data:e.encode(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),t.push({data:e.encode(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),t},t}(f["default"]);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UPC=t.EAN2=t.EAN5=t.EAN8=t.EAN13=void 0;var o=n(18),i=r(o),a=n(21),s=r(a),l=n(20),u=r(l),c=n(19),f=r(c),d=n(22),p=r(d);t.EAN13=i["default"],t.EAN8=s["default"],t.EAN5=u["default"],t.EAN2=f["default"],t.UPC=p["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GenericBarcode=void 0;var s=n(1),l=r(s),u=function(e){function t(n,r){return o(this,t),i(this,e.call(this,n,r))}return a(t,e),t.prototype.encode=function(){return{data:"10101010101010101010101010101010101010101",text:this.text}},t.prototype.valid=function(){return!0},t}(l["default"]);t.GenericBarcode=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){for(var t=0,n=0;n<13;n++)t+=parseInt(e[n])*(3-n%2*2);return 10*Math.ceil(t/10)-t}Object.defineProperty(t,"__esModule",{value:!0}),t.ITF14=void 0;var l=n(1),u=r(l),c=function(e){function t(n,r){o(this,t),n.search(/^[0-9]{13}$/)!==-1&&(n+=s(n));var a=i(this,e.call(this,n,r));return a.binaryRepresentation={0:"00110",1:"10001",2:"01001",3:"11000",4:"00101",5:"10100",6:"01100",7:"00011",8:"10010",9:"01010"},a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[0-9]{14}$/)!==-1&&this.data[13]==s(this.data)},t.prototype.encode=function(){for(var e="1010",t=0;t<14;t+=2)e+=this.calculatePair(this.data.substr(t,2));return e+="11101",{data:e,text:this.text}},t.prototype.calculatePair=function(e){for(var t="",n=this.binaryRepresentation[e[0]],r=this.binaryRepresentation[e[1]],o=0;o<5;o++)t+="1"==n[o]?"111":"1",t+="1"==r[o]?"000":"0";return t},t}(u["default"]);t.ITF14=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ITF=void 0;var s=n(1),l=r(s),u=function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.binaryRepresentation={0:"00110",1:"10001",2:"01001",3:"11000",4:"00101",5:"10100",6:"01100",7:"00011",8:"10010",9:"01010"},a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^([0-9]{2})+$/)!==-1},t.prototype.encode=function(){for(var e="1010",t=0;t<this.data.length;t+=2)e+=this.calculatePair(this.data.substr(t,2));return e+="11101",{data:e,text:this.text}},t.prototype.calculatePair=function(e){for(var t="",n=this.binaryRepresentation[e[0]],r=this.binaryRepresentation[e[1]],o=0;o<5;o++)t+="1"==n[o]?"111":"1",t+="1"==r[o]?"000":"0";return t},t}(l["default"]);t.ITF=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=n(5),c=function(e){function t(n,r){return o(this,t),i(this,e.call(this,n+(0,u.mod10)(n),r))}return a(t,e),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=n(5),c=function(e){function t(n,r){return o(this,t),n+=(0,u.mod10)(n),n+=(0,u.mod10)(n),i(this,e.call(this,n,r))}return a(t,e),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=n(5),c=function(e){function t(n,r){return o(this,t),i(this,e.call(this,n+(0,u.mod11)(n),r))}return a(t,e),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=n(5),c=function(e){function t(n,r){return o(this,t),n+=(0,u.mod11)(n),n+=(0,u.mod10)(n),i(this,e.call(this,n,r))}return a(t,e),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MSI1110=t.MSI1010=t.MSI11=t.MSI10=t.MSI=void 0;var o=n(3),i=r(o),a=n(27),s=r(a),l=n(29),u=r(l),c=n(28),f=r(c),d=n(30),p=r(d);t.MSI=i["default"],t.MSI10=s["default"],t.MSI11=u["default"],t.MSI1010=f["default"],t.MSI1110=p["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.codabar=void 0;var s=n(1),l=r(s),u=function(e){function t(n,r){o(this,t),0===n.search(/^[0-9\-\$\:\.\+\/]+$/)&&(n="A"+n+"A");var a=i(this,e.call(this,n.toUpperCase(),r));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return a(t,e),t.prototype.valid=function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1},t.prototype.encode=function(){for(var e=[],t=this.getEncodings(),n=0;n<this.data.length;n++)e.push(t[this.data.charAt(n)]),n!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}},t.prototype.getEncodings=function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1010010011",C:"1001001011",D:"1010011001"}},t}(l["default"]);t.codabar=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(16),i=n(23),a=n(25),s=n(26),l=n(31),u=n(34),c=n(32),f=n(24);t["default"]={CODE39:r.CODE39,CODE128:o.CODE128,CODE128A:o.CODE128A,CODE128B:o.CODE128B,CODE128C:o.CODE128C,EAN13:i.EAN13,EAN8:i.EAN8,EAN5:i.EAN5,EAN2:i.EAN2,UPC:i.UPC,ITF14:a.ITF14,ITF:s.ITF,MSI:l.MSI,MSI10:l.MSI10,MSI11:l.MSI11,MSI1010:l.MSI1010,MSI1110:l.MSI1110,pharmacode:u.pharmacode,codabar:c.codabar,GenericBarcode:f.GenericBarcode}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.pharmacode=void 0;var s=n(1),l=r(s),u=function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.number=parseInt(n,10),a}return a(t,e),t.prototype.encode=function(){for(var e=this.number,t="";!isNaN(e)&&0!=e;)e%2===0?(t="11100"+t,e=(e-2)/2):(t="100"+t,e=(e-1)/2);return t=t.slice(0,-2),{data:t,text:this.text}},t.prototype.valid=function(){return this.number>=3&&this.number<=131070},t}(l["default"]);t.pharmacode=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){n(this,e),this.api=t}return e.prototype.handleCatch=function(e){if("InvalidInputException"!==e.name)throw e;if(this.api._options.valid===this.api._defaults.valid)throw e.message;this.api._options.valid(!1),this.api.render=function(){}},e.prototype.wrapBarcodeCall=function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(e){return this.handleCatch(e),this.api}},e}();t["default"]=r},function(e,t){"use strict";function n(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t={};for(var n in l["default"])l["default"].hasOwnProperty(n)&&(e.hasAttribute("jsbarcode-"+n.toLowerCase())&&(t[n]=e.getAttribute("jsbarcode-"+n.toLowerCase())),e.hasAttribute("data-"+n.toLowerCase())&&(t[n]=e.getAttribute("data-"+n.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,a["default"])(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),a=r(i),s=n(9),l=r(s);t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if("string"==typeof e)return i(e);if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(o(e[n]));return t}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLImageElement)return a(e);if("undefined"!=typeof SVGElement&&e instanceof SVGElement)return{element:e,options:(0,l["default"])(e),renderer:c["default"].SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)return{element:e,options:(0,l["default"])(e),renderer:c["default"].CanvasRenderer};if(e.getContext)return{element:e,renderer:c["default"].CanvasRenderer};throw new f.InvalidElementException}function i(e){var t=document.querySelectorAll(e);if(0!==t.length){for(var n=[],r=0;r<t.length;r++)n.push(o(t[r]));return n}}function a(e){var t=document.createElement("canvas");return{element:t,options:(0,l["default"])(e),renderer:c["default"].CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(37),l=r(s),u=n(41),c=r(u),f=n(7);t["default"]=o},function(e,t){"use strict";function n(e){function t(e){if(Array.isArray(e))for(var r=0;r<e.length;r++)t(e[r]);else e.text=e.text||"",e.data=e.data||"",n.push(e)}var n=[];return t(e),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=r(i),s=n(10),l=function(){function e(t,n,r){o(this,e),this.canvas=t,this.encodings=n,this.options=r}return e.prototype.render=function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,a["default"])(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()},e.prototype.prepareCanvas=function(){var e=this.canvas.getContext("2d");e.save(),(0,s.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,s.getTotalWidthOfEncodings)(this.encodings),n=(0,s.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)},e.prototype.drawCanvasBarcode=function(e,t){var n,r=this.canvas.getContext("2d"),o=t.data;n="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,r.fillStyle=e.lineColor;for(var i=0;i<o.length;i++){var a=i*e.width+t.barcodePadding;"1"===o[i]?r.fillRect(a,n,e.width,e.height):o[i]&&r.fillRect(a,n,e.width,e.height*o[i])}},e.prototype.drawCanvasText=function(e,t){var n=this.canvas.getContext("2d"),r=e.fontOptions+" "+e.fontSize+"px "+e.font;if(e.displayValue){var o,i;i="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,n.font=r,"left"==e.textAlign||t.barcodePadding>0?(o=0,n.textAlign="left"):"right"==e.textAlign?(o=t.width-1,n.textAlign="right"):(o=t.width/2,n.textAlign="center"),n.fillText(t.text,o,i)}},e.prototype.moveCanvasDrawing=function(e){var t=this.canvas.getContext("2d");t.translate(e.width,0)},e.prototype.restoreCanvas=function(){var e=this.canvas.getContext("2d");e.restore()},e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(40),i=r(o),a=n(42),s=r(a);t["default"]={CanvasRenderer:i["default"],SVGRenderer:s["default"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){var r=document.createElementNS(f,"g");return r.setAttribute("transform","translate("+e+", "+t+")"),n.appendChild(r),r}function a(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}function s(e,t,n,r,o){var i=document.createElementNS(f,"rect");return i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",n),i.setAttribute("height",r),o.appendChild(i),i}Object.defineProperty(t,"__esModule",{value:!0});var l=n(6),u=r(l),c=n(10),f="http://www.w3.org/2000/svg",d=function(){
function e(t,n,r){o(this,e),this.svg=t,this.encodings=n,this.options=r}return e.prototype.render=function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var n=this.encodings[t],r=(0,u["default"])(this.options,n.options),o=i(e,r.marginTop,this.svg);a(o,r),this.drawSvgBarcode(o,r,n),this.drawSVGText(o,r,n),e+=n.width}},e.prototype.prepareSVG=function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,c.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,c.getTotalWidthOfEncodings)(this.encodings),t=(0,c.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,t),this.options.background&&s(0,0,n,t,this.svg).setAttribute("style","fill:"+this.options.background+";")},e.prototype.drawSvgBarcode=function(e,t,n){var r,o=n.data;r="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var i=0,a=0,l=0;l<o.length;l++)a=l*t.width+n.barcodePadding,"1"===o[l]?i++:i>0&&(s(a-t.width*i,r,t.width*i,t.height,e),i=0);i>0&&s(a-t.width*(i-1),r,t.width*i,t.height,e)},e.prototype.drawSVGText=function(e,t,n){var r=document.createElementNS(f,"text");if(t.displayValue){var o,i;r.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),i="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||n.barcodePadding>0?(o=0,r.setAttribute("text-anchor","start")):"right"==t.textAlign?(o=n.width-1,r.setAttribute("text-anchor","end")):(o=n.width/2,r.setAttribute("text-anchor","middle")),r.setAttribute("x",o),r.setAttribute("y",i),r.appendChild(document.createTextNode(n.text)),e.appendChild(r)}},e.prototype.setSvgAttributes=function(e,t){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+t),n.setAttribute("xmlns",f),n.setAttribute("version","1.1"),n.style.transform="translate(0,0)"},e}();t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=r(o);t["default"]=function(){"ngInject";return{replace:!0,restrict:"E",require:"ngModel",scope:{bcType:"@",bcClass:"@?",bcOptions:"="},template:"",link:function(e,t,n,r){var o=function(){var t=e.bcClass||"barcode",n="";switch(e.bcType){case"svg":n='<svg class="'+t+'"></svg>';break;case"img":n='<img class="'+t+'">';break;case"canvas":n='<canvas class="'+t+'"></canvas>';break;default:n='<img class="'+t+'">'}return n},a={format:"CODE128",lineColor:"#000000",width:2,height:100,displayValue:!1,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",margin:10,marginTop:10,marginBottom:10,marginLeft:10,marginRight:10,valid:function(){return!0}},s=function(e){return Object.keys(a).forEach(function(t){e.hasOwnProperty(t)?e[t]=e[t]||a[t]:e[t]=a[t]}),e},l=function(e){var n=angular.element(o()),a=r.$viewValue||"",s=(0,i["default"])(n[0],a,e);return angular.forEach(t.children(),function(e){return e.remove()}),t.append(n),s};l(s(e.hasOwnProperty("bcOptions")&&"undefined"!=typeof e.bcOptions?e.bcOptions:a)),e.$watch("bcOptions",function(e){l(e)},!0),r.$render=function(){l(e.bcOptions)}}}},e.exports=t["default"]}])}),angular.module("invitationsApp").controller("HeaderController",["$scope","$state","$location","$rootScope","ngDialog","AuthService",function(e,t,n,r,o,i){e.loggedIn=!1,e.username="",e.userId="",i.isAuthenticated()&&(e.loggedIn=!0,e.username=i.getUsername(),e.userId=i.getUserId()),e.openLogin=function(){o.open({template:"views/login.html",scope:e,className:"ngdialog-theme-default",controller:"LoginController"})},e.logOut=function(){i.logout(),e.loggedIn=!1,e.username="",e.userId="",n.path("/")},r.$on("login:Successful",function(){e.loggedIn=i.isAuthenticated(),e.username=i.getUsername(),e.userId=i.getUserId()}),r.$on("registration:Successful",function(){e.loggedIn=i.isAuthenticated(),e.username=i.getUsername(),e.userId=i.getUserId()}),e.stateis=function(e){return t.is(e)},e.showJumbotron=t.is("app")||t.is("app.aboutus")||t.is("app.contactus")}]).controller("LoginController",["$scope","ngDialog","$localStorage","AuthService",function(e,t,n,r){e.loginData=n.getObject("userinfo","{}"),e.doLogin=function(){e.rememberMe&&n.storeObject("userinfo",e.loginData),r.login(e.loginData),t.close()},e.openRegister=function(){t.open({template:"views/register.html",scope:e,className:"ngdialog-theme-default",controller:"RegisterController"})}}]).controller("RegisterController",["$scope","ngDialog","$localStorage","AuthService",function(e,t,n,r){e.register={},e.loginData={},e.doRegister=function(){r.register(e.registration),t.close()}}]).controller("ContactController",["$scope","$state",function(e,t){e.feedback={mychannel:"",firstName:"",lastName:"",agree:!1,email:""};var n=[{value:"tel",label:"Tel."},{value:"Email",label:"Email"}];e.channels=n,e.invalidChannelSelection=!1,e.sendFeedback=function(){e.feedback.agree&&""===e.feedback.mychannel?e.invalidChannelSelection=!0:(e.invalidChannelSelection=!1,e.feedback={mychannel:"",firstName:"",lastName:"",agree:!1,email:""},e.feedback.mychannel="",e.feedbackForm.$setPristine())}}]),angular.module("invitationsApp").controller("CustomersController",["$scope","Customer","$stateParams","$state","ngDialog",function(e,t,n,r,o){e.showCustomers=!1,e.message="Loading ...",e.customer=t.findById({id:n.id}).$promise.then(function(t){e.customer=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.editCustomer=function(t){e.customer=t},e.customers=t.find().$promise.then(function(t){e.customers=t,e.showCustomers=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.saveCustomer=function(){t.prototype$updateAttributes({id:e.customer.id,userName:e.customer.userName,email:e.customer.email,firstName:e.customer.firstName,lastName:e.customer.lastName,photo:e.customer.photo}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Customer Saved Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"}),r.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Customer not saved!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"})})},e.deleteCustomer=function(e){t.deleteById({id:e}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Customer Deleted Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"}),r.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Customer not deleted!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"})})}}]),angular.module("invitationsApp").controller("HostsController",["$scope","Host","Customer","$stateParams","$state","ngDialog",function(e,t,n,r,o,i){e.showHosts=!1,e.message="Loading ...",t.find({filter:{where:{customerId:r.id},include:{relation:"customer"}}}).$promise.then(function(t){e.hosts=t,e.showHosts=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.editHost=function(t){e.host=t},e.saveHost=function(){e.host.customerId||(e.host.customerId=r.id),t.prototype$updateAttributes({customerId:e.host.customerId,id:e.host.id,name:e.host.name,email:e.host.email,address:e.host.address,phone:e.host.phone,photo:e.host.photo,contactName:e.host.contactName,contactTitle:e.host.contactTitle}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Host Saved Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"}),o.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Host not saved!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"})})},e.deleteHost=function(n){e.host.customerId;t.deleteById({id:n}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Host Deleted Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"}),o.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Host not deleted!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"})})}}]),angular.module("invitationsApp").controller("EventsController",["$scope","Event","Host","$stateParams","$state","ngDialog",function(e,t,n,r,o,i){e.showEvents=!1,e.message="Loading ...",n.findById({id:r.id,filter:{include:{relation:"customer"}}}).$promise.then(function(t){e.host=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),t.find({filter:{where:{hostId:r.id},include:{relation:"host"}}}).$promise.then(function(t){e.events=t,e.showEvents=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.editEvent=function(t){e.event=t},e.saveEvent=function(){e.event.hostId||(e.event.hostId=r.id),t.prototype$updateAttributes({hostId:e.event.hostId,id:e.event.id,name:e.event.name,address:e.event.address,startDate:e.event.startDate,endDate:e.event.endDate,confirmationDeadlineDate:e.event.confirmationDeadlineDate,description:e.event.description,photo:e.event.photo}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Event Saved Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"}),o.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Event not saved!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"})})},e.deleteEvent=function(n){e.event.hostId;t.deleteById({id:n}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Event Deleted Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"}),o.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Event not deleted!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"})})}}]),angular.module("invitationsApp").controller("GuestsController",["$scope","Guest","Event","$stateParams","$state","ngDialog",function(e,t,n,r,o,i){e.showGuests=!1,e.message="Loading ...",n.findById({id:r.id,filter:{include:{relation:"host",scope:{include:{relation:"customer"}}}}}).$promise.then(function(t){e.event=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.guests=t.find({filter:{where:{eventId:r.id},include:{relation:"event"}}}).$promise.then(function(t){e.guests=t,e.showGuests=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.editGuest=function(t){e.guest=t},e.saveGuest=function(n){e.guest.eventId||(e.guest.eventId=r.id),t.prototype$updateAttributes({eventId:e.guest.eventId,id:e.guest.id,name:e.guest.name,email:e.guest.email,phone:e.guest.phone,photo:e.guest.photo,status:e.guest.status,invitationsConfirmed:e.guest.invitationsConfirmed}).$promise.then(function(e){if(n){var t='                <div class="ngdialog-message">                  <div><h3>Guest Saved Successfully</h3></div><div class="ngdialog-buttons">                      <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                  </div>';i.openConfirm({template:t,plain:"true"}),o.reload()}},function(e){if(n){var t='                <div class="ngdialog-message">                  <div><h3>Guest not saved!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                      <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                  </div>';i.openConfirm({template:t,plain:"true"})}})},e.deleteGuest=function(n){e.guest.eventId;t.deleteById({id:n}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Guest Deleted Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"}),o.reload()},function(e){var t='              <div class="ngdialog-message">                <div><h3>Guest not deleted!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';i.openConfirm({template:t,plain:"true"})})},e.inviteGuest=function(n,r){e.guest=n,e.guest.status="To Be Confirmed",e.saveGuest(r);var o={hostname:e.event.host.name,hostemail:e.event.host.email,guestname:e.guest.name,guestemail:e.guest.email,eventname:e.event.name,eventdescription:e.event.description,hostaddress:e.event.address,hostphone:e.event.host.phone,confirmationlink:"https://invitationsapp.herokuapp.com/#!/Guests/"+e.guest.id+"/confirmation",eventphoto:e.event.photo};t.sendEmail(o)},e.inviteAllGuests=function(){e.guests.forEach(function(t){e.inviteGuest(t,!1)})}}]),angular.module("invitationsApp").controller("ConfirmationController",["$scope","Guest","$stateParams","$state","ngDialog",function(e,t,n,r,o){e.message="Loading ...",t.findById({id:n.id,filter:{include:{relation:"event",scope:{include:{relation:"host"}}}}}).$promise.then(function(t){e.guest=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.submitConfirmation=function(){t.prototype$updateAttributes({eventId:e.guest.eventId,id:e.guest.id,name:e.guest.name,email:e.guest.email,phone:e.guest.phone,photo:e.guest.photo,status:"Confirmed",invitationsConfirmed:e.guest.invitationsConfirmed}).$promise.then(function(e){var t='              <div class="ngdialog-message">                <div><h3>Guest confirmed Successfully</h3></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"}),r.go("app.barcode",{id:n.id},{})},function(e){var t='              <div class="ngdialog-message">                <div><h3>Guest not confirmed!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                </div>';o.openConfirm({template:t,plain:"true"})})}}]),angular.module("invitationsApp").controller("BarcodeController",["$scope","Guest","$stateParams","$state","ngDialog",function(e,t,n,r,o){e.message="Loading ...",e.options={width:2,height:100,quite:10,displayValue:!0,font:"monospace",textAlign:"center",fontSize:12,backgroundColor:"",lineColor:"#000"},t.findById({id:n.id,filter:{include:{relation:"event",scope:{include:{relation:"host"}}}}}).$promise.then(function(t){e.guest=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.printConfirmation=function(){},e.bc={format:"CODE128",lineColor:"#000000",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",margin:0,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(e){}}}]),angular.module("invitationsApp").controller("PresenceController",["$scope","Guest","Event","$stateParams","$state","ngDialog",function(e,t,n,r,o,i){e.showGuests=!1,e.message="Loading ...",n.findById({id:r.id,filter:{include:{relation:"host",scope:{include:{relation:"customer"}}}}}).$promise.then(function(t){e.event=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.guests=t.find({filter:{where:{eventId:r.id},include:{relation:"event"}}}).$promise.then(function(t){e.guests=t,e.showGuests=!0},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.confirmGuestPresence=function(n){t.find({filter:{where:{id:n}}}).$promise.then(function(t){e.guest=t},function(t){e.message="Error: "+t.status+" "+t.statusText}),e.guest&&t.prototype$updateAttributes({eventId:e.guest.eventId,id:e.guest.id,name:e.guest.name,email:e.guest.email,phone:e.guest.phone,photo:e.guest.photo,status:"Presence Confirmed",invitationsConfirmed:e.guest.invitationsConfirmed}).$promise.then(function(e){var t='                <div class="ngdialog-message">                  <div><h3>Guest Confirmed Presence Successfully</h3></div><div class="ngdialog-buttons">                      <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                  </div>';i.openConfirm({template:t,plain:"true"}),o.reload()},function(e){var t='                <div class="ngdialog-message">                  <div><h3>Guest dont confirmed presence!</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                      <button type="button" class="ngdialog-button" ng-click=confirm("OK")>OK</button>                  </div>';i.openConfirm({template:t,plain:"true"})})}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="lbServices"),function(e,t,n){"use strict";function r(e){var t=e.match(/^(?:https?:)?\/\/([^\/]+)/);return t?t[1]:null}var o="/api",i="authorization",a=r(o)||location.host,s=t.module("lbServices",["ngResource"]);s.factory("Customer",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var i=e(o+"/Customers/:id",{id:"@id"},{prototype$__findById__hosts:{params:{fk:"@fk"},url:o+"/Customers/:id/hosts/:fk",method:"GET"},prototype$__destroyById__hosts:{params:{fk:"@fk"},url:o+"/Customers/:id/hosts/:fk",method:"DELETE"},prototype$__updateById__hosts:{params:{fk:"@fk"},url:o+"/Customers/:id/hosts/:fk",method:"PUT"},prototype$__get__hosts:{isArray:!0,url:o+"/Customers/:id/hosts",method:"GET"},prototype$__create__hosts:{url:o+"/Customers/:id/hosts",method:"POST"},prototype$__delete__hosts:{url:o+"/Customers/:id/hosts",method:"DELETE"},prototype$__count__hosts:{url:o+"/Customers/:id/hosts/count",method:"GET"},create:{url:o+"/Customers",method:"POST"},createMany:{isArray:!0,url:o+"/Customers",method:"POST"},upsert:{url:o+"/Customers",method:"PUT"},replaceOrCreate:{url:o+"/Customers/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Customers/upsertWithWhere",method:"POST"},findById:{url:o+"/Customers/:id",method:"GET"},replaceById:{url:o+"/Customers/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Customers",method:"GET"},updateAll:{url:o+"/Customers/update",method:"POST"},deleteById:{url:o+"/Customers/:id",method:"DELETE"},prototype$updateAttributes:{url:o+"/Customers/:id",method:"PUT"},login:{params:{include:"user"},interceptor:{response:function(e){var n=e.data;return t.setUser(n.id,n.userId,n.user),t.rememberMe=e.config.params.rememberMe!==!1,t.save(),e.resource}},url:o+"/Customers/login",method:"POST"},logout:{interceptor:{response:function(e){return t.clearUser(),t.clearStorage(),e.resource},responseError:function(e){return t.clearUser(),t.clearStorage(),e.resource}},url:o+"/Customers/logout",method:"POST"},confirm:{url:o+"/Customers/confirm",method:"GET"},"::get::Host::customer":{url:o+"/Hosts/:id/customer",method:"GET"},getCurrent:{url:o+"/Customers/:id",method:"GET",params:{id:function(){var e=t.currentUserId;return null===e&&(e="__anonymous__"),e}},interceptor:{response:function(e){return t.currentUserData=e.data,e.resource},responseError:function(e){return t.clearUser(),t.clearStorage(),r.reject(e)}},__isGetCurrentUser__:!0}});return i.patchOrCreate=i.upsert,i.updateOrCreate=i.upsert,i.patchOrCreateWithWhere=i.upsertWithWhere,i.update=i.updateAll,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.patchAttributes=i.prototype$updateAttributes,i.getCachedCurrent=function(){var e=t.currentUserData;return e?new i(e):null},i.isAuthenticated=function(){return null!=this.getCurrentId()},i.getCurrentId=function(){return t.currentUserId},i.modelName="Customer",i.hosts=function(){var e=n.get("Host"),t=e["::get::Customer::hosts"];return t.apply(i,arguments)},i.hosts.count=function(){var e=n.get("Host"),t=e["::count::Customer::hosts"];return t.apply(i,arguments)},i.hosts.create=function(){var e=n.get("Host"),t=e["::create::Customer::hosts"];return t.apply(i,arguments)},i.hosts.createMany=function(){var e=n.get("Host"),t=e["::createMany::Customer::hosts"];return t.apply(i,arguments)},i.hosts.destroyAll=function(){var e=n.get("Host"),t=e["::delete::Customer::hosts"];return t.apply(i,arguments)},i.hosts.destroyById=function(){var e=n.get("Host"),t=e["::destroyById::Customer::hosts"];return t.apply(i,arguments)},i.hosts.findById=function(){var e=n.get("Host"),t=e["::findById::Customer::hosts"];return t.apply(i,arguments)},i.hosts.updateById=function(){var e=n.get("Host"),t=e["::updateById::Customer::hosts"];return t.apply(i,arguments)},i}]),s.factory("Host",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var i=e(o+"/Hosts/:id",{id:"@id"},{prototype$__get__customer:{url:o+"/Hosts/:id/customer",method:"GET"},prototype$__findById__events:{params:{fk:"@fk"},url:o+"/Hosts/:id/events/:fk",method:"GET"},prototype$__destroyById__events:{params:{fk:"@fk"},url:o+"/Hosts/:id/events/:fk",method:"DELETE"},prototype$__updateById__events:{params:{fk:"@fk"},url:o+"/Hosts/:id/events/:fk",method:"PUT"},prototype$__get__events:{isArray:!0,url:o+"/Hosts/:id/events",method:"GET"},prototype$__create__events:{url:o+"/Hosts/:id/events",method:"POST"},prototype$__delete__events:{url:o+"/Hosts/:id/events",method:"DELETE"},prototype$__count__events:{url:o+"/Hosts/:id/events/count",method:"GET"},create:{url:o+"/Hosts",method:"POST"},createMany:{isArray:!0,url:o+"/Hosts",method:"POST"},upsert:{url:o+"/Hosts",method:"PUT"},replaceOrCreate:{url:o+"/Hosts/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Hosts/upsertWithWhere",method:"POST"},exists:{url:o+"/Hosts/:id/exists",method:"GET"},findById:{url:o+"/Hosts/:id",method:"GET"},replaceById:{url:o+"/Hosts/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Hosts",method:"GET"},findOne:{url:o+"/Hosts/findOne",method:"GET"},updateAll:{url:o+"/Hosts/update",method:"POST"},deleteById:{url:o+"/Hosts/:id",method:"DELETE"},count:{url:o+"/Hosts/count",method:"GET"},prototype$updateAttributes:{url:o+"/Hosts/:id",method:"PUT"},createChangeStream:{url:o+"/Hosts/change-stream",method:"POST"},"::findById::Customer::hosts":{params:{fk:"@fk"},url:o+"/Customers/:id/hosts/:fk",method:"GET"},"::destroyById::Customer::hosts":{params:{fk:"@fk"},url:o+"/Customers/:id/hosts/:fk",method:"DELETE"},"::updateById::Customer::hosts":{params:{fk:"@fk"},url:o+"/Customers/:id/hosts/:fk",method:"PUT"},"::get::Customer::hosts":{isArray:!0,url:o+"/Customers/:id/hosts",method:"GET"},"::create::Customer::hosts":{url:o+"/Customers/:id/hosts",method:"POST"},"::createMany::Customer::hosts":{isArray:!0,url:o+"/Customers/:id/hosts",method:"POST"},"::delete::Customer::hosts":{url:o+"/Customers/:id/hosts",method:"DELETE"},"::count::Customer::hosts":{url:o+"/Customers/:id/hosts/count",method:"GET"},"::get::Event::host":{url:o+"/Events/:id/host",method:"GET"}});return i.patchOrCreate=i.upsert,i.updateOrCreate=i.upsert,i.patchOrCreateWithWhere=i.upsertWithWhere,i.update=i.updateAll,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.patchAttributes=i.prototype$updateAttributes,i.modelName="Host",i.customer=function(){var e=n.get("Customer"),t=e["::get::Host::customer"];return t.apply(i,arguments)},i.events=function(){var e=n.get("Event"),t=e["::get::Host::events"];return t.apply(i,arguments)},i.events.count=function(){var e=n.get("Event"),t=e["::count::Host::events"];return t.apply(i,arguments)},i.events.create=function(){var e=n.get("Event"),t=e["::create::Host::events"];return t.apply(i,arguments)},i.events.createMany=function(){var e=n.get("Event"),t=e["::createMany::Host::events"];return t.apply(i,arguments)},i.events.destroyAll=function(){var e=n.get("Event"),t=e["::delete::Host::events"];return t.apply(i,arguments)},i.events.destroyById=function(){var e=n.get("Event"),t=e["::destroyById::Host::events"];return t.apply(i,arguments)},i.events.findById=function(){var e=n.get("Event"),t=e["::findById::Host::events"];return t.apply(i,arguments)},i.events.updateById=function(){var e=n.get("Event"),t=e["::updateById::Host::events"];return t.apply(i,arguments)},i}]),s.factory("Event",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var i=e(o+"/Events/:id",{id:"@id"},{prototype$__get__host:{url:o+"/Events/:id/host",method:"GET"},prototype$__findById__guests:{params:{fk:"@fk"},url:o+"/Events/:id/guests/:fk",method:"GET"},prototype$__destroyById__guests:{params:{fk:"@fk"},url:o+"/Events/:id/guests/:fk",method:"DELETE"},prototype$__updateById__guests:{params:{fk:"@fk"},url:o+"/Events/:id/guests/:fk",method:"PUT"},prototype$__get__guests:{isArray:!0,url:o+"/Events/:id/guests",method:"GET"},prototype$__create__guests:{url:o+"/Events/:id/guests",method:"POST"},prototype$__delete__guests:{url:o+"/Events/:id/guests",method:"DELETE"},prototype$__count__guests:{url:o+"/Events/:id/guests/count",method:"GET"},create:{url:o+"/Events",method:"POST"},createMany:{isArray:!0,url:o+"/Events",method:"POST"},upsert:{url:o+"/Events",method:"PUT"},replaceOrCreate:{url:o+"/Events/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Events/upsertWithWhere",method:"POST"},exists:{url:o+"/Events/:id/exists",method:"GET"},findById:{url:o+"/Events/:id",method:"GET"},replaceById:{url:o+"/Events/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Events",method:"GET"},findOne:{url:o+"/Events/findOne",method:"GET"},updateAll:{url:o+"/Events/update",method:"POST"},deleteById:{url:o+"/Events/:id",method:"DELETE"},count:{url:o+"/Events/count",method:"GET"},prototype$updateAttributes:{url:o+"/Events/:id",method:"PUT"},createChangeStream:{url:o+"/Events/change-stream",method:"POST"},presence:{url:o+"/Events/:id/presence",method:"GET"},"::findById::Host::events":{params:{fk:"@fk"},url:o+"/Hosts/:id/events/:fk",method:"GET"},"::destroyById::Host::events":{params:{fk:"@fk"},url:o+"/Hosts/:id/events/:fk",method:"DELETE"},"::updateById::Host::events":{params:{fk:"@fk"},url:o+"/Hosts/:id/events/:fk",method:"PUT"},"::get::Host::events":{isArray:!0,url:o+"/Hosts/:id/events",method:"GET"},"::create::Host::events":{url:o+"/Hosts/:id/events",method:"POST"},"::createMany::Host::events":{isArray:!0,url:o+"/Hosts/:id/events",method:"POST"},"::delete::Host::events":{url:o+"/Hosts/:id/events",method:"DELETE"},"::count::Host::events":{url:o+"/Hosts/:id/events/count",method:"GET"},"::get::Guest::event":{url:o+"/Guests/:id/event",method:"GET"}});return i.patchOrCreate=i.upsert,i.updateOrCreate=i.upsert,i.patchOrCreateWithWhere=i.upsertWithWhere,i.update=i.updateAll,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.patchAttributes=i.prototype$updateAttributes,i.modelName="Event",i.host=function(){var e=n.get("Host"),t=e["::get::Event::host"];return t.apply(i,arguments)},i.guests=function(){var e=n.get("Guest"),t=e["::get::Event::guests"];return t.apply(i,arguments)},i.guests.count=function(){var e=n.get("Guest"),t=e["::count::Event::guests"];return t.apply(i,arguments)},i.guests.create=function(){var e=n.get("Guest"),t=e["::create::Event::guests"];return t.apply(i,arguments)},i.guests.createMany=function(){var e=n.get("Guest"),t=e["::createMany::Event::guests"];return t.apply(i,arguments)},i.guests.destroyAll=function(){var e=n.get("Guest"),t=e["::delete::Event::guests"];return t.apply(i,arguments)},i.guests.destroyById=function(){var e=n.get("Guest"),t=e["::destroyById::Event::guests"];return t.apply(i,arguments)},i.guests.findById=function(){var e=n.get("Guest"),t=e["::findById::Event::guests"];return t.apply(i,arguments)},i.guests.updateById=function(){var e=n.get("Guest"),t=e["::updateById::Event::guests"];return t.apply(i,arguments)},i}]),s.factory("Guest",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var i=e(o+"/Guests/:id",{id:"@id"},{prototype$__get__event:{url:o+"/Guests/:id/event",method:"GET"},create:{url:o+"/Guests",method:"POST"},createMany:{isArray:!0,url:o+"/Guests",method:"POST"},upsert:{url:o+"/Guests",method:"PUT"},replaceOrCreate:{url:o+"/Guests/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Guests/upsertWithWhere",method:"POST"},exists:{url:o+"/Guests/:id/exists",method:"GET"},findById:{url:o+"/Guests/:id",method:"GET"},replaceById:{url:o+"/Guests/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Guests",method:"GET"},findOne:{url:o+"/Guests/findOne",method:"GET"},updateAll:{url:o+"/Guests/update",method:"POST"},deleteById:{url:o+"/Guests/:id",method:"DELETE"},count:{url:o+"/Guests/count",method:"GET"},prototype$updateAttributes:{url:o+"/Guests/:id",method:"PUT"},createChangeStream:{url:o+"/Guests/change-stream",method:"POST"},sendEmail:{url:o+"/Guests/sendEmail",method:"POST"},confirmation:{url:o+"/Guests/:id/confirmation",method:"GET"},barcode:{url:o+"/Guests/:id/barcode",method:"GET"},"::findById::Event::guests":{params:{fk:"@fk"},url:o+"/Events/:id/guests/:fk",method:"GET"},"::destroyById::Event::guests":{params:{fk:"@fk"},url:o+"/Events/:id/guests/:fk",method:"DELETE"},"::updateById::Event::guests":{params:{fk:"@fk"},url:o+"/Events/:id/guests/:fk",method:"PUT"},"::get::Event::guests":{isArray:!0,url:o+"/Events/:id/guests",method:"GET"},"::create::Event::guests":{url:o+"/Events/:id/guests",method:"POST"},"::createMany::Event::guests":{isArray:!0,url:o+"/Events/:id/guests",method:"POST"},"::delete::Event::guests":{url:o+"/Events/:id/guests",method:"DELETE"},"::count::Event::guests":{url:o+"/Events/:id/guests/count",method:"GET"}});return i.patchOrCreate=i.upsert,i.updateOrCreate=i.upsert,i.patchOrCreateWithWhere=i.upsertWithWhere,i.update=i.updateAll,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.patchAttributes=i.prototype$updateAttributes,i.modelName="Guest",i.event=function(){var e=n.get("Event"),t=e["::get::Guest::event"];return t.apply(i,arguments);
},i}]),s.factory("Container",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,n,r){var i=e(o+"/containers/:id",{id:"@id"},{getContainers:{isArray:!0,url:o+"/containers",method:"GET"},createContainer:{url:o+"/containers",method:"POST"},destroyContainer:{url:o+"/containers/:container",method:"DELETE"},getContainer:{url:o+"/containers/:container",method:"GET"},getFiles:{isArray:!0,url:o+"/containers/:container/files",method:"GET"},getFile:{url:o+"/containers/:container/files/:file",method:"GET"},removeFile:{url:o+"/containers/:container/files/:file",method:"DELETE"},upload:{url:o+"/containers/:container/upload",method:"POST"},download:{url:o+"/containers/:container/download/:file",method:"GET"}});return i.modelName="Container",i}]),s.factory("LoopBackAuth",function(){function e(){var e=this;r.forEach(function(t){e[t]=n(t)}),this.currentUserData=null}function t(e,t,n){try{var r=o+t;null==n&&(n=""),e[r]=n}catch(i){console.log("Cannot access local/session storage:",i)}}function n(e){var t=o+e;return localStorage[t]||sessionStorage[t]||null}var r=["accessTokenId","currentUserId","rememberMe"],o="$LoopBack$";return e.prototype.save=function(){var e=this,n=this.rememberMe?localStorage:sessionStorage;r.forEach(function(r){t(n,r,e[r])})},e.prototype.setUser=function(e,t,n){this.accessTokenId=e,this.currentUserId=t,this.currentUserData=n},e.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},e.prototype.clearStorage=function(){r.forEach(function(e){t(sessionStorage,e,null),t(localStorage,e,null)})},new e}).config(["$httpProvider",function(e){e.interceptors.push("LoopBackAuthRequestInterceptor")}]).factory("LoopBackAuthRequestInterceptor",["$q","LoopBackAuth",function(e,t){return{request:function(o){var s=r(o.url);if(s&&s!==a)return o;if(t.accessTokenId)o.headers[i]=t.accessTokenId;else if(o.__isGetCurrentUser__){var l={body:{error:{status:401}},status:401,config:o,headers:function(){return n}};return e.reject(l)}return o||e.when(o)}}}]).provider("LoopBackResource",function(){this.setAuthHeader=function(e){i=e},this.getAuthHeader=function(){return i},this.setUrlBase=function(e){o=e,a=r(o)||location.host},this.getUrlBase=function(){return o},this.$get=["$resource",function(e){var t=function(t,n,r){var o=e(t,n,r);return o.prototype.$save=function(e,t){var n=o.upsert.call(this,{},this,e,t);return n.$promise||n},o};return t.getUrlBase=function(){return o},t.getAuthHeader=function(){return i},t}]})}(window,window.angular),angular.module("invitationsApp").factory("AuthService",["Customer","$q","$rootScope","ngDialog",function(e,t,n,r){function o(t){return e.login(t).$promise.then(function(e){n.currentUser={id:e.user.id,tokenId:e.id,username:t.username},n.$broadcast("login:Successful")},function(e){var t='                <div class="ngdialog-message">                <div><h3>Login Unsuccessful</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+'</p></div><div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click=confirm("OK")>OK</button>                </div>';r.openConfirm({template:t,plain:"true"})})}function i(){return!!n.currentUser}function a(){return n.currentUser.username}function s(){return n.currentUser.id}function l(){return e.logout().$promise.then(function(){n.currentUser=null})}function u(t){return e.create({username:t.username,email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName}).$promise.then(function(e){var t='              <div class="ngdialog-message">              <div><h3>Registration Successful</h3></div><div><p>Please Log in the system using the information registered</p></div>';r.openConfirm({template:t,plain:"true"})},function(e){var t='                <div class="ngdialog-message">                <div><h3>Registration Unsuccessful</h3></div><div><p>'+e.data.error.message+"</p><p>"+e.data.error.name+"</p></div>";r.openConfirm({template:t,plain:"true"})})}return{login:o,logout:l,register:u,isAuthenticated:i,getUsername:a,getUserId:s}}]).factory("$localStorage",["$window",function(e){return{store:function(t,n){e.localStorage[t]=n},get:function(t,n){return e.localStorage[t]||n},remove:function(t){e.localStorage.removeItem(t)},storeObject:function(t,n){e.localStorage[t]=JSON.stringify(n)},getObject:function(t,n){return JSON.parse(e.localStorage[t]||n)}}}]),google.maps.event.addDomListener(window,"load",init_map);